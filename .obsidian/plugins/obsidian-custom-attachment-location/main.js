/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault() {
      return extractDefault;
    },
    process() {
      const browserProcess = {
        browser: true,
        cwd() {
          return "/";
        },
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  function requirePatched(id) {
    const module2 = originalRequire?.(id);
    if (module2) {
      return extractDefault(module2);
    }
    if (id === "process" || id === "node:process") {
      console.error(`Module not found: ${id}. Fake process object is returned instead.`);
      return globalThis.process;
    }
    console.error(`Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var lb=Object.create;var to=Object.defineProperty;var ub=Object.getOwnPropertyDescriptor;var cb=Object.getOwnPropertyNames;var fb=Object.getPrototypeOf,db=Object.prototype.hasOwnProperty;var U=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),jc=(t,e)=>{for(var n in e)to(t,n,{get:e[n],enumerable:!0})},Kc=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of cb(e))!db.call(t,i)&&i!==n&&to(t,i,{get:()=>e[i],enumerable:!(r=ub(e,i))||r.enumerable});return t};var Re=(t,e,n)=>(n=t!=null?lb(fb(t)):{},Kc(e||!t||!t.__esModule?to(n,"default",{value:t,enumerable:!0}):n,t)),hb=t=>Kc(to({},"__esModule",{value:!0}),t);var nn=U((Ha,lr)=>{(function(t,e){typeof Ha=="object"&&typeof lr<"u"?lr.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(Ha,(function(){"use strict";var t;function e(){return t.apply(null,arguments)}function n(o){t=o}function r(o){return o instanceof Array||Object.prototype.toString.call(o)==="[object Array]"}function i(o){return o!=null&&Object.prototype.toString.call(o)==="[object Object]"}function s(o,l){return Object.prototype.hasOwnProperty.call(o,l)}function a(o){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(o).length===0;var l;for(l in o)if(s(o,l))return!1;return!0}function u(o){return o===void 0}function c(o){return typeof o=="number"||Object.prototype.toString.call(o)==="[object Number]"}function d(o){return o instanceof Date||Object.prototype.toString.call(o)==="[object Date]"}function h(o,l){var f=[],p,y=o.length;for(p=0;p<y;++p)f.push(l(o[p],p));return f}function m(o,l){for(var f in l)s(l,f)&&(o[f]=l[f]);return s(l,"toString")&&(o.toString=l.toString),s(l,"valueOf")&&(o.valueOf=l.valueOf),o}function w(o,l,f,p){return xc(o,l,f,p,!0).utc()}function g(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function v(o){return o._pf==null&&(o._pf=g()),o._pf}var P;Array.prototype.some?P=Array.prototype.some:P=function(o){var l=Object(this),f=l.length>>>0,p;for(p=0;p<f;p++)if(p in l&&o.call(this,l[p],p,l))return!0;return!1};function x(o){var l=null,f=!1,p=o._d&&!isNaN(o._d.getTime());if(p&&(l=v(o),f=P.call(l.parsedDateParts,function(y){return y!=null}),p=l.overflow<0&&!l.empty&&!l.invalidEra&&!l.invalidMonth&&!l.invalidWeekday&&!l.weekdayMismatch&&!l.nullInput&&!l.invalidFormat&&!l.userInvalidated&&(!l.meridiem||l.meridiem&&f),o._strict&&(p=p&&l.charsLeftOver===0&&l.unusedTokens.length===0&&l.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(o))o._isValid=p;else return p;return o._isValid}function E(o){var l=w(NaN);return o!=null?m(v(l),o):v(l).userInvalidated=!0,l}var F=e.momentProperties=[],_=!1;function Y(o,l){var f,p,y,k=F.length;if(u(l._isAMomentObject)||(o._isAMomentObject=l._isAMomentObject),u(l._i)||(o._i=l._i),u(l._f)||(o._f=l._f),u(l._l)||(o._l=l._l),u(l._strict)||(o._strict=l._strict),u(l._tzm)||(o._tzm=l._tzm),u(l._isUTC)||(o._isUTC=l._isUTC),u(l._offset)||(o._offset=l._offset),u(l._pf)||(o._pf=v(l)),u(l._locale)||(o._locale=l._locale),k>0)for(f=0;f<k;f++)p=F[f],y=l[p],u(y)||(o[p]=y);return o}function W(o){Y(this,o),this._d=new Date(o._d!=null?o._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),_===!1&&(_=!0,e.updateOffset(this),_=!1)}function T(o){return o instanceof W||o!=null&&o._isAMomentObject!=null}function ne(o){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+o)}function X(o,l){var f=!0;return m(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,o),f){var p=[],y,k,C,D=arguments.length;for(k=0;k<D;k++){if(y="",typeof arguments[k]=="object"){y+=`
[`+k+"] ";for(C in arguments[0])s(arguments[0],C)&&(y+=C+": "+arguments[0][C]+", ");y=y.slice(0,-2)}else y=arguments[k];p.push(y)}ne(o+`
Arguments: `+Array.prototype.slice.call(p).join("")+`
`+new Error().stack),f=!1}return l.apply(this,arguments)},l)}var Z={};function ae(o,l){e.deprecationHandler!=null&&e.deprecationHandler(o,l),Z[o]||(ne(l),Z[o]=!0)}e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function fe(o){return typeof Function<"u"&&o instanceof Function||Object.prototype.toString.call(o)==="[object Function]"}function ie(o){var l,f;for(f in o)s(o,f)&&(l=o[f],fe(l)?this[f]=l:this["_"+f]=l);this._config=o,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function V(o,l){var f=m({},o),p;for(p in l)s(l,p)&&(i(o[p])&&i(l[p])?(f[p]={},m(f[p],o[p]),m(f[p],l[p])):l[p]!=null?f[p]=l[p]:delete f[p]);for(p in o)s(o,p)&&!s(l,p)&&i(o[p])&&(f[p]=m({},f[p]));return f}function G(o){o!=null&&this.set(o)}var z;Object.keys?z=Object.keys:z=function(o){var l,f=[];for(l in o)s(o,l)&&f.push(l);return f};var oe={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function ye(o,l,f){var p=this._calendar[o]||this._calendar.sameElse;return fe(p)?p.call(l,f):p}function be(o,l,f){var p=""+Math.abs(o),y=l-p.length,k=o>=0;return(k?f?"+":"":"-")+Math.pow(10,Math.max(0,y)).toString().substr(1)+p}var tt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,A=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Le={},Ne={};function b(o,l,f,p){var y=p;typeof p=="string"&&(y=function(){return this[p]()}),o&&(Ne[o]=y),l&&(Ne[l[0]]=function(){return be(y.apply(this,arguments),l[1],l[2])}),f&&(Ne[f]=function(){return this.localeData().ordinal(y.apply(this,arguments),o)})}function He(o){return o.match(/\[[\s\S]/)?o.replace(/^\[|\]$/g,""):o.replace(/\\/g,"")}function Ht(o){var l=o.match(tt),f,p;for(f=0,p=l.length;f<p;f++)Ne[l[f]]?l[f]=Ne[l[f]]:l[f]=He(l[f]);return function(y){var k="",C;for(C=0;C<p;C++)k+=fe(l[C])?l[C].call(y,o):l[C];return k}}function mn(o,l){return o.isValid()?(l=In(l,o.localeData()),Le[l]=Le[l]||Ht(l),Le[l](o)):o.localeData().invalidDate()}function In(o,l){var f=5;function p(y){return l.longDateFormat(y)||y}for(A.lastIndex=0;f>=0&&A.test(o);)o=o.replace(A,p),A.lastIndex=0,f-=1;return o}var Te={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function On(o){var l=this._longDateFormat[o],f=this._longDateFormat[o.toUpperCase()];return l||!f?l:(this._longDateFormat[o]=f.match(tt).map(function(p){return p==="MMMM"||p==="MM"||p==="DD"||p==="dddd"?p.slice(1):p}).join(""),this._longDateFormat[o])}var xt="Invalid date";function Gt(){return this._invalidDate}var gn="%d",zr=/\d{1,2}/;function va(o){return this._ordinal.replace("%d",o)}var Li={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ni(o,l,f,p){var y=this._relativeTime[f];return fe(y)?y(o,l,f,p):y.replace(/%d/i,o)}function $i(o,l){var f=this._relativeTime[o>0?"future":"past"];return fe(f)?f(l):f.replace(/%s/i,l)}var Bi={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function Ge(o){return typeof o=="string"?Bi[o]||Bi[o.toLowerCase()]:void 0}function er(o){var l={},f,p;for(p in o)s(o,p)&&(f=Ge(p),f&&(l[f]=o[p]));return l}var Ea={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Ca(o){var l=[],f;for(f in o)s(o,f)&&l.push({unit:f,priority:Ea[f]});return l.sort(function(p,y){return p.priority-y.priority}),l}var Vi=/\d/,qe=/\d\d/,Yi=/\d{3}/,S=/\d{4}/,O=/[+-]?\d{6}/,R=/\d\d?/,J=/\d\d\d\d?/,le=/\d\d\d\d\d\d?/,$e=/\d{1,3}/,Tt=/\d{1,4}/,nt=/[+-]?\d{1,6}/,pt=/\d+/,Dt=/[+-]?\d+/,je=/Z|[+-]\d\d:?\d\d/gi,St=/Z|[+-]\d\d(?::?\d\d)?/gi,Ft=/[+-]?\d+(\.\d{1,3})?/,Hr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,tr=/^[1-9]\d?/,xa=/^([1-9]\d|\d)/,Ui;Ui={};function N(o,l,f){Ui[o]=fe(l)?l:function(p,y){return p&&f?f:l}}function Pg(o,l){return s(Ui,o)?Ui[o](l._strict,l._locale):new RegExp(_g(o))}function _g(o){return qt(o.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(l,f,p,y,k){return f||p||y||k}))}function qt(o){return o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function mt(o){return o<0?Math.ceil(o)||0:Math.floor(o)}function ee(o){var l=+o,f=0;return l!==0&&isFinite(l)&&(f=mt(l)),f}var Ta={};function ce(o,l){var f,p=l,y;for(typeof o=="string"&&(o=[o]),c(l)&&(p=function(k,C){C[l]=ee(k)}),y=o.length,f=0;f<y;f++)Ta[o[f]]=p}function Gr(o,l){ce(o,function(f,p,y,k){y._w=y._w||{},l(f,y._w,y,k)})}function Ig(o,l,f){l!=null&&s(Ta,o)&&Ta[o](l,f._a,f,o)}function Wi(o){return o%4===0&&o%100!==0||o%400===0}var Be=0,jt=1,Mt=2,Se=3,Pt=4,Kt=5,Rn=6,Og=7,Rg=8;b("Y",0,0,function(){var o=this.year();return o<=9999?be(o,4):"+"+o}),b(0,["YY",2],0,function(){return this.year()%100}),b(0,["YYYY",4],0,"year"),b(0,["YYYYY",5],0,"year"),b(0,["YYYYYY",6,!0],0,"year"),N("Y",Dt),N("YY",R,qe),N("YYYY",Tt,S),N("YYYYY",nt,O),N("YYYYYY",nt,O),ce(["YYYYY","YYYYYY"],Be),ce("YYYY",function(o,l){l[Be]=o.length===2?e.parseTwoDigitYear(o):ee(o)}),ce("YY",function(o,l){l[Be]=e.parseTwoDigitYear(o)}),ce("Y",function(o,l){l[Be]=parseInt(o,10)});function qr(o){return Wi(o)?366:365}e.parseTwoDigitYear=function(o){return ee(o)+(ee(o)>68?1900:2e3)};var uc=nr("FullYear",!0);function Dg(){return Wi(this.year())}function nr(o,l){return function(f){return f!=null?(cc(this,o,f),e.updateOffset(this,l),this):jr(this,o)}}function jr(o,l){if(!o.isValid())return NaN;var f=o._d,p=o._isUTC;switch(l){case"Milliseconds":return p?f.getUTCMilliseconds():f.getMilliseconds();case"Seconds":return p?f.getUTCSeconds():f.getSeconds();case"Minutes":return p?f.getUTCMinutes():f.getMinutes();case"Hours":return p?f.getUTCHours():f.getHours();case"Date":return p?f.getUTCDate():f.getDate();case"Day":return p?f.getUTCDay():f.getDay();case"Month":return p?f.getUTCMonth():f.getMonth();case"FullYear":return p?f.getUTCFullYear():f.getFullYear();default:return NaN}}function cc(o,l,f){var p,y,k,C,D;if(!(!o.isValid()||isNaN(f))){switch(p=o._d,y=o._isUTC,l){case"Milliseconds":return void(y?p.setUTCMilliseconds(f):p.setMilliseconds(f));case"Seconds":return void(y?p.setUTCSeconds(f):p.setSeconds(f));case"Minutes":return void(y?p.setUTCMinutes(f):p.setMinutes(f));case"Hours":return void(y?p.setUTCHours(f):p.setHours(f));case"Date":return void(y?p.setUTCDate(f):p.setDate(f));case"FullYear":break;default:return}k=f,C=o.month(),D=o.date(),D=D===29&&C===1&&!Wi(k)?28:D,y?p.setUTCFullYear(k,C,D):p.setFullYear(k,C,D)}}function Mg(o){return o=Ge(o),fe(this[o])?this[o]():this}function Lg(o,l){if(typeof o=="object"){o=er(o);var f=Ca(o),p,y=f.length;for(p=0;p<y;p++)this[f[p].unit](o[f[p].unit])}else if(o=Ge(o),fe(this[o]))return this[o](l);return this}function Ng(o,l){return(o%l+l)%l}var Ee;Array.prototype.indexOf?Ee=Array.prototype.indexOf:Ee=function(o){var l;for(l=0;l<this.length;++l)if(this[l]===o)return l;return-1};function Sa(o,l){if(isNaN(o)||isNaN(l))return NaN;var f=Ng(l,12);return o+=(l-f)/12,f===1?Wi(o)?29:28:31-f%7%2}b("M",["MM",2],"Mo",function(){return this.month()+1}),b("MMM",0,0,function(o){return this.localeData().monthsShort(this,o)}),b("MMMM",0,0,function(o){return this.localeData().months(this,o)}),N("M",R,tr),N("MM",R,qe),N("MMM",function(o,l){return l.monthsShortRegex(o)}),N("MMMM",function(o,l){return l.monthsRegex(o)}),ce(["M","MM"],function(o,l){l[jt]=ee(o)-1}),ce(["MMM","MMMM"],function(o,l,f,p){var y=f._locale.monthsParse(o,p,f._strict);y!=null?l[jt]=y:v(f).invalidMonth=o});var $g="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),fc="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),dc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Bg=Hr,Vg=Hr;function Yg(o,l){return o?r(this._months)?this._months[o.month()]:this._months[(this._months.isFormat||dc).test(l)?"format":"standalone"][o.month()]:r(this._months)?this._months:this._months.standalone}function Ug(o,l){return o?r(this._monthsShort)?this._monthsShort[o.month()]:this._monthsShort[dc.test(l)?"format":"standalone"][o.month()]:r(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Wg(o,l,f){var p,y,k,C=o.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],p=0;p<12;++p)k=w([2e3,p]),this._shortMonthsParse[p]=this.monthsShort(k,"").toLocaleLowerCase(),this._longMonthsParse[p]=this.months(k,"").toLocaleLowerCase();return f?l==="MMM"?(y=Ee.call(this._shortMonthsParse,C),y!==-1?y:null):(y=Ee.call(this._longMonthsParse,C),y!==-1?y:null):l==="MMM"?(y=Ee.call(this._shortMonthsParse,C),y!==-1?y:(y=Ee.call(this._longMonthsParse,C),y!==-1?y:null)):(y=Ee.call(this._longMonthsParse,C),y!==-1?y:(y=Ee.call(this._shortMonthsParse,C),y!==-1?y:null))}function zg(o,l,f){var p,y,k;if(this._monthsParseExact)return Wg.call(this,o,l,f);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),p=0;p<12;p++){if(y=w([2e3,p]),f&&!this._longMonthsParse[p]&&(this._longMonthsParse[p]=new RegExp("^"+this.months(y,"").replace(".","")+"$","i"),this._shortMonthsParse[p]=new RegExp("^"+this.monthsShort(y,"").replace(".","")+"$","i")),!f&&!this._monthsParse[p]&&(k="^"+this.months(y,"")+"|^"+this.monthsShort(y,""),this._monthsParse[p]=new RegExp(k.replace(".",""),"i")),f&&l==="MMMM"&&this._longMonthsParse[p].test(o))return p;if(f&&l==="MMM"&&this._shortMonthsParse[p].test(o))return p;if(!f&&this._monthsParse[p].test(o))return p}}function hc(o,l){if(!o.isValid())return o;if(typeof l=="string"){if(/^\d+$/.test(l))l=ee(l);else if(l=o.localeData().monthsParse(l),!c(l))return o}var f=l,p=o.date();return p=p<29?p:Math.min(p,Sa(o.year(),f)),o._isUTC?o._d.setUTCMonth(f,p):o._d.setMonth(f,p),o}function pc(o){return o!=null?(hc(this,o),e.updateOffset(this,!0),this):jr(this,"Month")}function Hg(){return Sa(this.year(),this.month())}function Gg(o){return this._monthsParseExact?(s(this,"_monthsRegex")||mc.call(this),o?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=Bg),this._monthsShortStrictRegex&&o?this._monthsShortStrictRegex:this._monthsShortRegex)}function qg(o){return this._monthsParseExact?(s(this,"_monthsRegex")||mc.call(this),o?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Vg),this._monthsStrictRegex&&o?this._monthsStrictRegex:this._monthsRegex)}function mc(){function o(H,te){return te.length-H.length}var l=[],f=[],p=[],y,k,C,D;for(y=0;y<12;y++)k=w([2e3,y]),C=qt(this.monthsShort(k,"")),D=qt(this.months(k,"")),l.push(C),f.push(D),p.push(D),p.push(C);l.sort(o),f.sort(o),p.sort(o),this._monthsRegex=new RegExp("^("+p.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+f.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+l.join("|")+")","i")}function jg(o,l,f,p,y,k,C){var D;return o<100&&o>=0?(D=new Date(o+400,l,f,p,y,k,C),isFinite(D.getFullYear())&&D.setFullYear(o)):D=new Date(o,l,f,p,y,k,C),D}function Kr(o){var l,f;return o<100&&o>=0?(f=Array.prototype.slice.call(arguments),f[0]=o+400,l=new Date(Date.UTC.apply(null,f)),isFinite(l.getUTCFullYear())&&l.setUTCFullYear(o)):l=new Date(Date.UTC.apply(null,arguments)),l}function zi(o,l,f){var p=7+l-f,y=(7+Kr(o,0,p).getUTCDay()-l)%7;return-y+p-1}function gc(o,l,f,p,y){var k=(7+f-p)%7,C=zi(o,p,y),D=1+7*(l-1)+k+C,H,te;return D<=0?(H=o-1,te=qr(H)+D):D>qr(o)?(H=o+1,te=D-qr(o)):(H=o,te=D),{year:H,dayOfYear:te}}function Xr(o,l,f){var p=zi(o.year(),l,f),y=Math.floor((o.dayOfYear()-p-1)/7)+1,k,C;return y<1?(C=o.year()-1,k=y+Xt(C,l,f)):y>Xt(o.year(),l,f)?(k=y-Xt(o.year(),l,f),C=o.year()+1):(C=o.year(),k=y),{week:k,year:C}}function Xt(o,l,f){var p=zi(o,l,f),y=zi(o+1,l,f);return(qr(o)-p+y)/7}b("w",["ww",2],"wo","week"),b("W",["WW",2],"Wo","isoWeek"),N("w",R,tr),N("ww",R,qe),N("W",R,tr),N("WW",R,qe),Gr(["w","ww","W","WW"],function(o,l,f,p){l[p.substr(0,1)]=ee(o)});function Kg(o){return Xr(o,this._week.dow,this._week.doy).week}var Xg={dow:0,doy:6};function Zg(){return this._week.dow}function Jg(){return this._week.doy}function Qg(o){var l=this.localeData().week(this);return o==null?l:this.add((o-l)*7,"d")}function e0(o){var l=Xr(this,1,4).week;return o==null?l:this.add((o-l)*7,"d")}b("d",0,"do","day"),b("dd",0,0,function(o){return this.localeData().weekdaysMin(this,o)}),b("ddd",0,0,function(o){return this.localeData().weekdaysShort(this,o)}),b("dddd",0,0,function(o){return this.localeData().weekdays(this,o)}),b("e",0,0,"weekday"),b("E",0,0,"isoWeekday"),N("d",R),N("e",R),N("E",R),N("dd",function(o,l){return l.weekdaysMinRegex(o)}),N("ddd",function(o,l){return l.weekdaysShortRegex(o)}),N("dddd",function(o,l){return l.weekdaysRegex(o)}),Gr(["dd","ddd","dddd"],function(o,l,f,p){var y=f._locale.weekdaysParse(o,p,f._strict);y!=null?l.d=y:v(f).invalidWeekday=o}),Gr(["d","e","E"],function(o,l,f,p){l[p]=ee(o)});function t0(o,l){return typeof o!="string"?o:isNaN(o)?(o=l.weekdaysParse(o),typeof o=="number"?o:null):parseInt(o,10)}function n0(o,l){return typeof o=="string"?l.weekdaysParse(o)%7||7:isNaN(o)?null:o}function Fa(o,l){return o.slice(l,7).concat(o.slice(0,l))}var r0="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),wc="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),i0="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),o0=Hr,s0=Hr,a0=Hr;function l0(o,l){var f=r(this._weekdays)?this._weekdays:this._weekdays[o&&o!==!0&&this._weekdays.isFormat.test(l)?"format":"standalone"];return o===!0?Fa(f,this._week.dow):o?f[o.day()]:f}function u0(o){return o===!0?Fa(this._weekdaysShort,this._week.dow):o?this._weekdaysShort[o.day()]:this._weekdaysShort}function c0(o){return o===!0?Fa(this._weekdaysMin,this._week.dow):o?this._weekdaysMin[o.day()]:this._weekdaysMin}function f0(o,l,f){var p,y,k,C=o.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],p=0;p<7;++p)k=w([2e3,1]).day(p),this._minWeekdaysParse[p]=this.weekdaysMin(k,"").toLocaleLowerCase(),this._shortWeekdaysParse[p]=this.weekdaysShort(k,"").toLocaleLowerCase(),this._weekdaysParse[p]=this.weekdays(k,"").toLocaleLowerCase();return f?l==="dddd"?(y=Ee.call(this._weekdaysParse,C),y!==-1?y:null):l==="ddd"?(y=Ee.call(this._shortWeekdaysParse,C),y!==-1?y:null):(y=Ee.call(this._minWeekdaysParse,C),y!==-1?y:null):l==="dddd"?(y=Ee.call(this._weekdaysParse,C),y!==-1||(y=Ee.call(this._shortWeekdaysParse,C),y!==-1)?y:(y=Ee.call(this._minWeekdaysParse,C),y!==-1?y:null)):l==="ddd"?(y=Ee.call(this._shortWeekdaysParse,C),y!==-1||(y=Ee.call(this._weekdaysParse,C),y!==-1)?y:(y=Ee.call(this._minWeekdaysParse,C),y!==-1?y:null)):(y=Ee.call(this._minWeekdaysParse,C),y!==-1||(y=Ee.call(this._weekdaysParse,C),y!==-1)?y:(y=Ee.call(this._shortWeekdaysParse,C),y!==-1?y:null))}function d0(o,l,f){var p,y,k;if(this._weekdaysParseExact)return f0.call(this,o,l,f);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),p=0;p<7;p++){if(y=w([2e3,1]).day(p),f&&!this._fullWeekdaysParse[p]&&(this._fullWeekdaysParse[p]=new RegExp("^"+this.weekdays(y,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[p]=new RegExp("^"+this.weekdaysShort(y,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[p]=new RegExp("^"+this.weekdaysMin(y,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[p]||(k="^"+this.weekdays(y,"")+"|^"+this.weekdaysShort(y,"")+"|^"+this.weekdaysMin(y,""),this._weekdaysParse[p]=new RegExp(k.replace(".",""),"i")),f&&l==="dddd"&&this._fullWeekdaysParse[p].test(o))return p;if(f&&l==="ddd"&&this._shortWeekdaysParse[p].test(o))return p;if(f&&l==="dd"&&this._minWeekdaysParse[p].test(o))return p;if(!f&&this._weekdaysParse[p].test(o))return p}}function h0(o){if(!this.isValid())return o!=null?this:NaN;var l=jr(this,"Day");return o!=null?(o=t0(o,this.localeData()),this.add(o-l,"d")):l}function p0(o){if(!this.isValid())return o!=null?this:NaN;var l=(this.day()+7-this.localeData()._week.dow)%7;return o==null?l:this.add(o-l,"d")}function m0(o){if(!this.isValid())return o!=null?this:NaN;if(o!=null){var l=n0(o,this.localeData());return this.day(this.day()%7?l:l-7)}else return this.day()||7}function g0(o){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Pa.call(this),o?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=o0),this._weekdaysStrictRegex&&o?this._weekdaysStrictRegex:this._weekdaysRegex)}function w0(o){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Pa.call(this),o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=s0),this._weekdaysShortStrictRegex&&o?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function y0(o){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Pa.call(this),o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=a0),this._weekdaysMinStrictRegex&&o?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Pa(){function o(Ke,tn){return tn.length-Ke.length}var l=[],f=[],p=[],y=[],k,C,D,H,te;for(k=0;k<7;k++)C=w([2e3,1]).day(k),D=qt(this.weekdaysMin(C,"")),H=qt(this.weekdaysShort(C,"")),te=qt(this.weekdays(C,"")),l.push(D),f.push(H),p.push(te),y.push(D),y.push(H),y.push(te);l.sort(o),f.sort(o),p.sort(o),y.sort(o),this._weekdaysRegex=new RegExp("^("+y.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+p.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+f.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+l.join("|")+")","i")}function _a(){return this.hours()%12||12}function b0(){return this.hours()||24}b("H",["HH",2],0,"hour"),b("h",["hh",2],0,_a),b("k",["kk",2],0,b0),b("hmm",0,0,function(){return""+_a.apply(this)+be(this.minutes(),2)}),b("hmmss",0,0,function(){return""+_a.apply(this)+be(this.minutes(),2)+be(this.seconds(),2)}),b("Hmm",0,0,function(){return""+this.hours()+be(this.minutes(),2)}),b("Hmmss",0,0,function(){return""+this.hours()+be(this.minutes(),2)+be(this.seconds(),2)});function yc(o,l){b(o,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),l)})}yc("a",!0),yc("A",!1);function bc(o,l){return l._meridiemParse}N("a",bc),N("A",bc),N("H",R,xa),N("h",R,tr),N("k",R,tr),N("HH",R,qe),N("hh",R,qe),N("kk",R,qe),N("hmm",J),N("hmmss",le),N("Hmm",J),N("Hmmss",le),ce(["H","HH"],Se),ce(["k","kk"],function(o,l,f){var p=ee(o);l[Se]=p===24?0:p}),ce(["a","A"],function(o,l,f){f._isPm=f._locale.isPM(o),f._meridiem=o}),ce(["h","hh"],function(o,l,f){l[Se]=ee(o),v(f).bigHour=!0}),ce("hmm",function(o,l,f){var p=o.length-2;l[Se]=ee(o.substr(0,p)),l[Pt]=ee(o.substr(p)),v(f).bigHour=!0}),ce("hmmss",function(o,l,f){var p=o.length-4,y=o.length-2;l[Se]=ee(o.substr(0,p)),l[Pt]=ee(o.substr(p,2)),l[Kt]=ee(o.substr(y)),v(f).bigHour=!0}),ce("Hmm",function(o,l,f){var p=o.length-2;l[Se]=ee(o.substr(0,p)),l[Pt]=ee(o.substr(p))}),ce("Hmmss",function(o,l,f){var p=o.length-4,y=o.length-2;l[Se]=ee(o.substr(0,p)),l[Pt]=ee(o.substr(p,2)),l[Kt]=ee(o.substr(y))});function k0(o){return(o+"").toLowerCase().charAt(0)==="p"}var A0=/[ap]\.?m?\.?/i,v0=nr("Hours",!0);function E0(o,l,f){return o>11?f?"pm":"PM":f?"am":"AM"}var kc={calendar:oe,longDateFormat:Te,invalidDate:xt,ordinal:gn,dayOfMonthOrdinalParse:zr,relativeTime:Li,months:$g,monthsShort:fc,week:Xg,weekdays:r0,weekdaysMin:i0,weekdaysShort:wc,meridiemParse:A0},pe={},Zr={},Jr;function C0(o,l){var f,p=Math.min(o.length,l.length);for(f=0;f<p;f+=1)if(o[f]!==l[f])return f;return p}function Ac(o){return o&&o.toLowerCase().replace("_","-")}function x0(o){for(var l=0,f,p,y,k;l<o.length;){for(k=Ac(o[l]).split("-"),f=k.length,p=Ac(o[l+1]),p=p?p.split("-"):null;f>0;){if(y=Hi(k.slice(0,f).join("-")),y)return y;if(p&&p.length>=f&&C0(k,p)>=f-1)break;f--}l++}return Jr}function T0(o){return!!(o&&o.match("^[^/\\\\]*$"))}function Hi(o){var l=null,f;if(pe[o]===void 0&&typeof lr<"u"&&lr&&lr.exports&&T0(o))try{l=Jr._abbr,f=require,f("./locale/"+o),wn(l)}catch{pe[o]=null}return pe[o]}function wn(o,l){var f;return o&&(u(l)?f=Zt(o):f=Ia(o,l),f?Jr=f:typeof console<"u"&&console.warn&&console.warn("Locale "+o+" not found. Did you forget to load it?")),Jr._abbr}function Ia(o,l){if(l!==null){var f,p=kc;if(l.abbr=o,pe[o]!=null)ae("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),p=pe[o]._config;else if(l.parentLocale!=null)if(pe[l.parentLocale]!=null)p=pe[l.parentLocale]._config;else if(f=Hi(l.parentLocale),f!=null)p=f._config;else return Zr[l.parentLocale]||(Zr[l.parentLocale]=[]),Zr[l.parentLocale].push({name:o,config:l}),null;return pe[o]=new G(V(p,l)),Zr[o]&&Zr[o].forEach(function(y){Ia(y.name,y.config)}),wn(o),pe[o]}else return delete pe[o],null}function S0(o,l){if(l!=null){var f,p,y=kc;pe[o]!=null&&pe[o].parentLocale!=null?pe[o].set(V(pe[o]._config,l)):(p=Hi(o),p!=null&&(y=p._config),l=V(y,l),p==null&&(l.abbr=o),f=new G(l),f.parentLocale=pe[o],pe[o]=f),wn(o)}else pe[o]!=null&&(pe[o].parentLocale!=null?(pe[o]=pe[o].parentLocale,o===wn()&&wn(o)):pe[o]!=null&&delete pe[o]);return pe[o]}function Zt(o){var l;if(o&&o._locale&&o._locale._abbr&&(o=o._locale._abbr),!o)return Jr;if(!r(o)){if(l=Hi(o),l)return l;o=[o]}return x0(o)}function F0(){return z(pe)}function Oa(o){var l,f=o._a;return f&&v(o).overflow===-2&&(l=f[jt]<0||f[jt]>11?jt:f[Mt]<1||f[Mt]>Sa(f[Be],f[jt])?Mt:f[Se]<0||f[Se]>24||f[Se]===24&&(f[Pt]!==0||f[Kt]!==0||f[Rn]!==0)?Se:f[Pt]<0||f[Pt]>59?Pt:f[Kt]<0||f[Kt]>59?Kt:f[Rn]<0||f[Rn]>999?Rn:-1,v(o)._overflowDayOfYear&&(l<Be||l>Mt)&&(l=Mt),v(o)._overflowWeeks&&l===-1&&(l=Og),v(o)._overflowWeekday&&l===-1&&(l=Rg),v(o).overflow=l),o}var P0=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_0=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,I0=/Z|[+-]\d\d(?::?\d\d)?/,Gi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ra=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],O0=/^\/?Date\((-?\d+)/i,R0=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,D0={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function vc(o){var l,f,p=o._i,y=P0.exec(p)||_0.exec(p),k,C,D,H,te=Gi.length,Ke=Ra.length;if(y){for(v(o).iso=!0,l=0,f=te;l<f;l++)if(Gi[l][1].exec(y[1])){C=Gi[l][0],k=Gi[l][2]!==!1;break}if(C==null){o._isValid=!1;return}if(y[3]){for(l=0,f=Ke;l<f;l++)if(Ra[l][1].exec(y[3])){D=(y[2]||" ")+Ra[l][0];break}if(D==null){o._isValid=!1;return}}if(!k&&D!=null){o._isValid=!1;return}if(y[4])if(I0.exec(y[4]))H="Z";else{o._isValid=!1;return}o._f=C+(D||"")+(H||""),Ma(o)}else o._isValid=!1}function M0(o,l,f,p,y,k){var C=[L0(o),fc.indexOf(l),parseInt(f,10),parseInt(p,10),parseInt(y,10)];return k&&C.push(parseInt(k,10)),C}function L0(o){var l=parseInt(o,10);return l<=49?2e3+l:l<=999?1900+l:l}function N0(o){return o.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function $0(o,l,f){if(o){var p=wc.indexOf(o),y=new Date(l[0],l[1],l[2]).getDay();if(p!==y)return v(f).weekdayMismatch=!0,f._isValid=!1,!1}return!0}function B0(o,l,f){if(o)return D0[o];if(l)return 0;var p=parseInt(f,10),y=p%100,k=(p-y)/100;return k*60+y}function Ec(o){var l=R0.exec(N0(o._i)),f;if(l){if(f=M0(l[4],l[3],l[2],l[5],l[6],l[7]),!$0(l[1],f,o))return;o._a=f,o._tzm=B0(l[8],l[9],l[10]),o._d=Kr.apply(null,o._a),o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),v(o).rfc2822=!0}else o._isValid=!1}function V0(o){var l=O0.exec(o._i);if(l!==null){o._d=new Date(+l[1]);return}if(vc(o),o._isValid===!1)delete o._isValid;else return;if(Ec(o),o._isValid===!1)delete o._isValid;else return;o._strict?o._isValid=!1:e.createFromInputFallback(o)}e.createFromInputFallback=X("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(o){o._d=new Date(o._i+(o._useUTC?" UTC":""))});function rr(o,l,f){return o??l??f}function Y0(o){var l=new Date(e.now());return o._useUTC?[l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()]:[l.getFullYear(),l.getMonth(),l.getDate()]}function Da(o){var l,f,p=[],y,k,C;if(!o._d){for(y=Y0(o),o._w&&o._a[Mt]==null&&o._a[jt]==null&&U0(o),o._dayOfYear!=null&&(C=rr(o._a[Be],y[Be]),(o._dayOfYear>qr(C)||o._dayOfYear===0)&&(v(o)._overflowDayOfYear=!0),f=Kr(C,0,o._dayOfYear),o._a[jt]=f.getUTCMonth(),o._a[Mt]=f.getUTCDate()),l=0;l<3&&o._a[l]==null;++l)o._a[l]=p[l]=y[l];for(;l<7;l++)o._a[l]=p[l]=o._a[l]==null?l===2?1:0:o._a[l];o._a[Se]===24&&o._a[Pt]===0&&o._a[Kt]===0&&o._a[Rn]===0&&(o._nextDay=!0,o._a[Se]=0),o._d=(o._useUTC?Kr:jg).apply(null,p),k=o._useUTC?o._d.getUTCDay():o._d.getDay(),o._tzm!=null&&o._d.setUTCMinutes(o._d.getUTCMinutes()-o._tzm),o._nextDay&&(o._a[Se]=24),o._w&&typeof o._w.d<"u"&&o._w.d!==k&&(v(o).weekdayMismatch=!0)}}function U0(o){var l,f,p,y,k,C,D,H,te;l=o._w,l.GG!=null||l.W!=null||l.E!=null?(k=1,C=4,f=rr(l.GG,o._a[Be],Xr(de(),1,4).year),p=rr(l.W,1),y=rr(l.E,1),(y<1||y>7)&&(H=!0)):(k=o._locale._week.dow,C=o._locale._week.doy,te=Xr(de(),k,C),f=rr(l.gg,o._a[Be],te.year),p=rr(l.w,te.week),l.d!=null?(y=l.d,(y<0||y>6)&&(H=!0)):l.e!=null?(y=l.e+k,(l.e<0||l.e>6)&&(H=!0)):y=k),p<1||p>Xt(f,k,C)?v(o)._overflowWeeks=!0:H!=null?v(o)._overflowWeekday=!0:(D=gc(f,p,y,k,C),o._a[Be]=D.year,o._dayOfYear=D.dayOfYear)}e.ISO_8601=function(){},e.RFC_2822=function(){};function Ma(o){if(o._f===e.ISO_8601){vc(o);return}if(o._f===e.RFC_2822){Ec(o);return}o._a=[],v(o).empty=!0;var l=""+o._i,f,p,y,k,C,D=l.length,H=0,te,Ke;for(y=In(o._f,o._locale).match(tt)||[],Ke=y.length,f=0;f<Ke;f++)k=y[f],p=(l.match(Pg(k,o))||[])[0],p&&(C=l.substr(0,l.indexOf(p)),C.length>0&&v(o).unusedInput.push(C),l=l.slice(l.indexOf(p)+p.length),H+=p.length),Ne[k]?(p?v(o).empty=!1:v(o).unusedTokens.push(k),Ig(k,p,o)):o._strict&&!p&&v(o).unusedTokens.push(k);v(o).charsLeftOver=D-H,l.length>0&&v(o).unusedInput.push(l),o._a[Se]<=12&&v(o).bigHour===!0&&o._a[Se]>0&&(v(o).bigHour=void 0),v(o).parsedDateParts=o._a.slice(0),v(o).meridiem=o._meridiem,o._a[Se]=W0(o._locale,o._a[Se],o._meridiem),te=v(o).era,te!==null&&(o._a[Be]=o._locale.erasConvertYear(te,o._a[Be])),Da(o),Oa(o)}function W0(o,l,f){var p;return f==null?l:o.meridiemHour!=null?o.meridiemHour(l,f):(o.isPM!=null&&(p=o.isPM(f),p&&l<12&&(l+=12),!p&&l===12&&(l=0)),l)}function z0(o){var l,f,p,y,k,C,D=!1,H=o._f.length;if(H===0){v(o).invalidFormat=!0,o._d=new Date(NaN);return}for(y=0;y<H;y++)k=0,C=!1,l=Y({},o),o._useUTC!=null&&(l._useUTC=o._useUTC),l._f=o._f[y],Ma(l),x(l)&&(C=!0),k+=v(l).charsLeftOver,k+=v(l).unusedTokens.length*10,v(l).score=k,D?k<p&&(p=k,f=l):(p==null||k<p||C)&&(p=k,f=l,C&&(D=!0));m(o,f||l)}function H0(o){if(!o._d){var l=er(o._i),f=l.day===void 0?l.date:l.day;o._a=h([l.year,l.month,f,l.hour,l.minute,l.second,l.millisecond],function(p){return p&&parseInt(p,10)}),Da(o)}}function G0(o){var l=new W(Oa(Cc(o)));return l._nextDay&&(l.add(1,"d"),l._nextDay=void 0),l}function Cc(o){var l=o._i,f=o._f;return o._locale=o._locale||Zt(o._l),l===null||f===void 0&&l===""?E({nullInput:!0}):(typeof l=="string"&&(o._i=l=o._locale.preparse(l)),T(l)?new W(Oa(l)):(d(l)?o._d=l:r(f)?z0(o):f?Ma(o):q0(o),x(o)||(o._d=null),o))}function q0(o){var l=o._i;u(l)?o._d=new Date(e.now()):d(l)?o._d=new Date(l.valueOf()):typeof l=="string"?V0(o):r(l)?(o._a=h(l.slice(0),function(f){return parseInt(f,10)}),Da(o)):i(l)?H0(o):c(l)?o._d=new Date(l):e.createFromInputFallback(o)}function xc(o,l,f,p,y){var k={};return(l===!0||l===!1)&&(p=l,l=void 0),(f===!0||f===!1)&&(p=f,f=void 0),(i(o)&&a(o)||r(o)&&o.length===0)&&(o=void 0),k._isAMomentObject=!0,k._useUTC=k._isUTC=y,k._l=f,k._i=o,k._f=l,k._strict=p,G0(k)}function de(o,l,f,p){return xc(o,l,f,p,!1)}var j0=X("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=de.apply(null,arguments);return this.isValid()&&o.isValid()?o<this?this:o:E()}),K0=X("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var o=de.apply(null,arguments);return this.isValid()&&o.isValid()?o>this?this:o:E()});function Tc(o,l){var f,p;if(l.length===1&&r(l[0])&&(l=l[0]),!l.length)return de();for(f=l[0],p=1;p<l.length;++p)(!l[p].isValid()||l[p][o](f))&&(f=l[p]);return f}function X0(){var o=[].slice.call(arguments,0);return Tc("isBefore",o)}function Z0(){var o=[].slice.call(arguments,0);return Tc("isAfter",o)}var J0=function(){return Date.now?Date.now():+new Date},Qr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Q0(o){var l,f=!1,p,y=Qr.length;for(l in o)if(s(o,l)&&!(Ee.call(Qr,l)!==-1&&(o[l]==null||!isNaN(o[l]))))return!1;for(p=0;p<y;++p)if(o[Qr[p]]){if(f)return!1;parseFloat(o[Qr[p]])!==ee(o[Qr[p]])&&(f=!0)}return!0}function ew(){return this._isValid}function tw(){return _t(NaN)}function qi(o){var l=er(o),f=l.year||0,p=l.quarter||0,y=l.month||0,k=l.week||l.isoWeek||0,C=l.day||0,D=l.hour||0,H=l.minute||0,te=l.second||0,Ke=l.millisecond||0;this._isValid=Q0(l),this._milliseconds=+Ke+te*1e3+H*6e4+D*1e3*60*60,this._days=+C+k*7,this._months=+y+p*3+f*12,this._data={},this._locale=Zt(),this._bubble()}function ji(o){return o instanceof qi}function La(o){return o<0?Math.round(-1*o)*-1:Math.round(o)}function nw(o,l,f){var p=Math.min(o.length,l.length),y=Math.abs(o.length-l.length),k=0,C;for(C=0;C<p;C++)(f&&o[C]!==l[C]||!f&&ee(o[C])!==ee(l[C]))&&k++;return k+y}function Sc(o,l){b(o,0,0,function(){var f=this.utcOffset(),p="+";return f<0&&(f=-f,p="-"),p+be(~~(f/60),2)+l+be(~~f%60,2)})}Sc("Z",":"),Sc("ZZ",""),N("Z",St),N("ZZ",St),ce(["Z","ZZ"],function(o,l,f){f._useUTC=!0,f._tzm=Na(St,o)});var rw=/([\+\-]|\d\d)/gi;function Na(o,l){var f=(l||"").match(o),p,y,k;return f===null?null:(p=f[f.length-1]||[],y=(p+"").match(rw)||["-",0,0],k=+(y[1]*60)+ee(y[2]),k===0?0:y[0]==="+"?k:-k)}function $a(o,l){var f,p;return l._isUTC?(f=l.clone(),p=(T(o)||d(o)?o.valueOf():de(o).valueOf())-f.valueOf(),f._d.setTime(f._d.valueOf()+p),e.updateOffset(f,!1),f):de(o).local()}function Ba(o){return-Math.round(o._d.getTimezoneOffset())}e.updateOffset=function(){};function iw(o,l,f){var p=this._offset||0,y;if(!this.isValid())return o!=null?this:NaN;if(o!=null){if(typeof o=="string"){if(o=Na(St,o),o===null)return this}else Math.abs(o)<16&&!f&&(o=o*60);return!this._isUTC&&l&&(y=Ba(this)),this._offset=o,this._isUTC=!0,y!=null&&this.add(y,"m"),p!==o&&(!l||this._changeInProgress?Ic(this,_t(o-p,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?p:Ba(this)}function ow(o,l){return o!=null?(typeof o!="string"&&(o=-o),this.utcOffset(o,l),this):-this.utcOffset()}function sw(o){return this.utcOffset(0,o)}function aw(o){return this._isUTC&&(this.utcOffset(0,o),this._isUTC=!1,o&&this.subtract(Ba(this),"m")),this}function lw(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var o=Na(je,this._i);o!=null?this.utcOffset(o):this.utcOffset(0,!0)}return this}function uw(o){return this.isValid()?(o=o?de(o).utcOffset():0,(this.utcOffset()-o)%60===0):!1}function cw(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function fw(){if(!u(this._isDSTShifted))return this._isDSTShifted;var o={},l;return Y(o,this),o=Cc(o),o._a?(l=o._isUTC?w(o._a):de(o._a),this._isDSTShifted=this.isValid()&&nw(o._a,l.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function dw(){return this.isValid()?!this._isUTC:!1}function hw(){return this.isValid()?this._isUTC:!1}function Fc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var pw=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,mw=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function _t(o,l){var f=o,p=null,y,k,C;return ji(o)?f={ms:o._milliseconds,d:o._days,M:o._months}:c(o)||!isNaN(+o)?(f={},l?f[l]=+o:f.milliseconds=+o):(p=pw.exec(o))?(y=p[1]==="-"?-1:1,f={y:0,d:ee(p[Mt])*y,h:ee(p[Se])*y,m:ee(p[Pt])*y,s:ee(p[Kt])*y,ms:ee(La(p[Rn]*1e3))*y}):(p=mw.exec(o))?(y=p[1]==="-"?-1:1,f={y:Dn(p[2],y),M:Dn(p[3],y),w:Dn(p[4],y),d:Dn(p[5],y),h:Dn(p[6],y),m:Dn(p[7],y),s:Dn(p[8],y)}):f==null?f={}:typeof f=="object"&&("from"in f||"to"in f)&&(C=gw(de(f.from),de(f.to)),f={},f.ms=C.milliseconds,f.M=C.months),k=new qi(f),ji(o)&&s(o,"_locale")&&(k._locale=o._locale),ji(o)&&s(o,"_isValid")&&(k._isValid=o._isValid),k}_t.fn=qi.prototype,_t.invalid=tw;function Dn(o,l){var f=o&&parseFloat(o.replace(",","."));return(isNaN(f)?0:f)*l}function Pc(o,l){var f={};return f.months=l.month()-o.month()+(l.year()-o.year())*12,o.clone().add(f.months,"M").isAfter(l)&&--f.months,f.milliseconds=+l-+o.clone().add(f.months,"M"),f}function gw(o,l){var f;return o.isValid()&&l.isValid()?(l=$a(l,o),o.isBefore(l)?f=Pc(o,l):(f=Pc(l,o),f.milliseconds=-f.milliseconds,f.months=-f.months),f):{milliseconds:0,months:0}}function _c(o,l){return function(f,p){var y,k;return p!==null&&!isNaN(+p)&&(ae(l,"moment()."+l+"(period, number) is deprecated. Please use moment()."+l+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),k=f,f=p,p=k),y=_t(f,p),Ic(this,y,o),this}}function Ic(o,l,f,p){var y=l._milliseconds,k=La(l._days),C=La(l._months);o.isValid()&&(p=p??!0,C&&hc(o,jr(o,"Month")+C*f),k&&cc(o,"Date",jr(o,"Date")+k*f),y&&o._d.setTime(o._d.valueOf()+y*f),p&&e.updateOffset(o,k||C))}var ww=_c(1,"add"),yw=_c(-1,"subtract");function Oc(o){return typeof o=="string"||o instanceof String}function bw(o){return T(o)||d(o)||Oc(o)||c(o)||Aw(o)||kw(o)||o===null||o===void 0}function kw(o){var l=i(o)&&!a(o),f=!1,p=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],y,k,C=p.length;for(y=0;y<C;y+=1)k=p[y],f=f||s(o,k);return l&&f}function Aw(o){var l=r(o),f=!1;return l&&(f=o.filter(function(p){return!c(p)&&Oc(o)}).length===0),l&&f}function vw(o){var l=i(o)&&!a(o),f=!1,p=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],y,k;for(y=0;y<p.length;y+=1)k=p[y],f=f||s(o,k);return l&&f}function Ew(o,l){var f=o.diff(l,"days",!0);return f<-6?"sameElse":f<-1?"lastWeek":f<0?"lastDay":f<1?"sameDay":f<2?"nextDay":f<7?"nextWeek":"sameElse"}function Cw(o,l){arguments.length===1&&(arguments[0]?bw(arguments[0])?(o=arguments[0],l=void 0):vw(arguments[0])&&(l=arguments[0],o=void 0):(o=void 0,l=void 0));var f=o||de(),p=$a(f,this).startOf("day"),y=e.calendarFormat(this,p)||"sameElse",k=l&&(fe(l[y])?l[y].call(this,f):l[y]);return this.format(k||this.localeData().calendar(y,this,de(f)))}function xw(){return new W(this)}function Tw(o,l){var f=T(o)?o:de(o);return this.isValid()&&f.isValid()?(l=Ge(l)||"millisecond",l==="millisecond"?this.valueOf()>f.valueOf():f.valueOf()<this.clone().startOf(l).valueOf()):!1}function Sw(o,l){var f=T(o)?o:de(o);return this.isValid()&&f.isValid()?(l=Ge(l)||"millisecond",l==="millisecond"?this.valueOf()<f.valueOf():this.clone().endOf(l).valueOf()<f.valueOf()):!1}function Fw(o,l,f,p){var y=T(o)?o:de(o),k=T(l)?l:de(l);return this.isValid()&&y.isValid()&&k.isValid()?(p=p||"()",(p[0]==="("?this.isAfter(y,f):!this.isBefore(y,f))&&(p[1]===")"?this.isBefore(k,f):!this.isAfter(k,f))):!1}function Pw(o,l){var f=T(o)?o:de(o),p;return this.isValid()&&f.isValid()?(l=Ge(l)||"millisecond",l==="millisecond"?this.valueOf()===f.valueOf():(p=f.valueOf(),this.clone().startOf(l).valueOf()<=p&&p<=this.clone().endOf(l).valueOf())):!1}function _w(o,l){return this.isSame(o,l)||this.isAfter(o,l)}function Iw(o,l){return this.isSame(o,l)||this.isBefore(o,l)}function Ow(o,l,f){var p,y,k;if(!this.isValid())return NaN;if(p=$a(o,this),!p.isValid())return NaN;switch(y=(p.utcOffset()-this.utcOffset())*6e4,l=Ge(l),l){case"year":k=Ki(this,p)/12;break;case"month":k=Ki(this,p);break;case"quarter":k=Ki(this,p)/3;break;case"second":k=(this-p)/1e3;break;case"minute":k=(this-p)/6e4;break;case"hour":k=(this-p)/36e5;break;case"day":k=(this-p-y)/864e5;break;case"week":k=(this-p-y)/6048e5;break;default:k=this-p}return f?k:mt(k)}function Ki(o,l){if(o.date()<l.date())return-Ki(l,o);var f=(l.year()-o.year())*12+(l.month()-o.month()),p=o.clone().add(f,"months"),y,k;return l-p<0?(y=o.clone().add(f-1,"months"),k=(l-p)/(p-y)):(y=o.clone().add(f+1,"months"),k=(l-p)/(y-p)),-(f+k)||0}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Rw(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Dw(o){if(!this.isValid())return null;var l=o!==!0,f=l?this.clone().utc():this;return f.year()<0||f.year()>9999?mn(f,l?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):fe(Date.prototype.toISOString)?l?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",mn(f,"Z")):mn(f,l?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function Mw(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var o="moment",l="",f,p,y,k;return this.isLocal()||(o=this.utcOffset()===0?"moment.utc":"moment.parseZone",l="Z"),f="["+o+'("]',p=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",y="-MM-DD[T]HH:mm:ss.SSS",k=l+'[")]',this.format(f+p+y+k)}function Lw(o){o||(o=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var l=mn(this,o);return this.localeData().postformat(l)}function Nw(o,l){return this.isValid()&&(T(o)&&o.isValid()||de(o).isValid())?_t({to:this,from:o}).locale(this.locale()).humanize(!l):this.localeData().invalidDate()}function $w(o){return this.from(de(),o)}function Bw(o,l){return this.isValid()&&(T(o)&&o.isValid()||de(o).isValid())?_t({from:this,to:o}).locale(this.locale()).humanize(!l):this.localeData().invalidDate()}function Vw(o){return this.to(de(),o)}function Rc(o){var l;return o===void 0?this._locale._abbr:(l=Zt(o),l!=null&&(this._locale=l),this)}var Dc=X("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(o){return o===void 0?this.localeData():this.locale(o)});function Mc(){return this._locale}var Xi=1e3,ir=60*Xi,Zi=60*ir,Lc=(365*400+97)*24*Zi;function or(o,l){return(o%l+l)%l}function Nc(o,l,f){return o<100&&o>=0?new Date(o+400,l,f)-Lc:new Date(o,l,f).valueOf()}function $c(o,l,f){return o<100&&o>=0?Date.UTC(o+400,l,f)-Lc:Date.UTC(o,l,f)}function Yw(o){var l,f;if(o=Ge(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(f=this._isUTC?$c:Nc,o){case"year":l=f(this.year(),0,1);break;case"quarter":l=f(this.year(),this.month()-this.month()%3,1);break;case"month":l=f(this.year(),this.month(),1);break;case"week":l=f(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":l=f(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":l=f(this.year(),this.month(),this.date());break;case"hour":l=this._d.valueOf(),l-=or(l+(this._isUTC?0:this.utcOffset()*ir),Zi);break;case"minute":l=this._d.valueOf(),l-=or(l,ir);break;case"second":l=this._d.valueOf(),l-=or(l,Xi);break}return this._d.setTime(l),e.updateOffset(this,!0),this}function Uw(o){var l,f;if(o=Ge(o),o===void 0||o==="millisecond"||!this.isValid())return this;switch(f=this._isUTC?$c:Nc,o){case"year":l=f(this.year()+1,0,1)-1;break;case"quarter":l=f(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":l=f(this.year(),this.month()+1,1)-1;break;case"week":l=f(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":l=f(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":l=f(this.year(),this.month(),this.date()+1)-1;break;case"hour":l=this._d.valueOf(),l+=Zi-or(l+(this._isUTC?0:this.utcOffset()*ir),Zi)-1;break;case"minute":l=this._d.valueOf(),l+=ir-or(l,ir)-1;break;case"second":l=this._d.valueOf(),l+=Xi-or(l,Xi)-1;break}return this._d.setTime(l),e.updateOffset(this,!0),this}function Ww(){return this._d.valueOf()-(this._offset||0)*6e4}function zw(){return Math.floor(this.valueOf()/1e3)}function Hw(){return new Date(this.valueOf())}function Gw(){var o=this;return[o.year(),o.month(),o.date(),o.hour(),o.minute(),o.second(),o.millisecond()]}function qw(){var o=this;return{years:o.year(),months:o.month(),date:o.date(),hours:o.hours(),minutes:o.minutes(),seconds:o.seconds(),milliseconds:o.milliseconds()}}function jw(){return this.isValid()?this.toISOString():null}function Kw(){return x(this)}function Xw(){return m({},v(this))}function Zw(){return v(this).overflow}function Jw(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}b("N",0,0,"eraAbbr"),b("NN",0,0,"eraAbbr"),b("NNN",0,0,"eraAbbr"),b("NNNN",0,0,"eraName"),b("NNNNN",0,0,"eraNarrow"),b("y",["y",1],"yo","eraYear"),b("y",["yy",2],0,"eraYear"),b("y",["yyy",3],0,"eraYear"),b("y",["yyyy",4],0,"eraYear"),N("N",Va),N("NN",Va),N("NNN",Va),N("NNNN",uy),N("NNNNN",cy),ce(["N","NN","NNN","NNNN","NNNNN"],function(o,l,f,p){var y=f._locale.erasParse(o,p,f._strict);y?v(f).era=y:v(f).invalidEra=o}),N("y",pt),N("yy",pt),N("yyy",pt),N("yyyy",pt),N("yo",fy),ce(["y","yy","yyy","yyyy"],Be),ce(["yo"],function(o,l,f,p){var y;f._locale._eraYearOrdinalRegex&&(y=o.match(f._locale._eraYearOrdinalRegex)),f._locale.eraYearOrdinalParse?l[Be]=f._locale.eraYearOrdinalParse(o,y):l[Be]=parseInt(o,10)});function Qw(o,l){var f,p,y,k=this._eras||Zt("en")._eras;for(f=0,p=k.length;f<p;++f){switch(typeof k[f].since){case"string":y=e(k[f].since).startOf("day"),k[f].since=y.valueOf();break}switch(typeof k[f].until){case"undefined":k[f].until=1/0;break;case"string":y=e(k[f].until).startOf("day").valueOf(),k[f].until=y.valueOf();break}}return k}function ey(o,l,f){var p,y,k=this.eras(),C,D,H;for(o=o.toUpperCase(),p=0,y=k.length;p<y;++p)if(C=k[p].name.toUpperCase(),D=k[p].abbr.toUpperCase(),H=k[p].narrow.toUpperCase(),f)switch(l){case"N":case"NN":case"NNN":if(D===o)return k[p];break;case"NNNN":if(C===o)return k[p];break;case"NNNNN":if(H===o)return k[p];break}else if([C,D,H].indexOf(o)>=0)return k[p]}function ty(o,l){var f=o.since<=o.until?1:-1;return l===void 0?e(o.since).year():e(o.since).year()+(l-o.offset)*f}function ny(){var o,l,f,p=this.localeData().eras();for(o=0,l=p.length;o<l;++o)if(f=this.clone().startOf("day").valueOf(),p[o].since<=f&&f<=p[o].until||p[o].until<=f&&f<=p[o].since)return p[o].name;return""}function ry(){var o,l,f,p=this.localeData().eras();for(o=0,l=p.length;o<l;++o)if(f=this.clone().startOf("day").valueOf(),p[o].since<=f&&f<=p[o].until||p[o].until<=f&&f<=p[o].since)return p[o].narrow;return""}function iy(){var o,l,f,p=this.localeData().eras();for(o=0,l=p.length;o<l;++o)if(f=this.clone().startOf("day").valueOf(),p[o].since<=f&&f<=p[o].until||p[o].until<=f&&f<=p[o].since)return p[o].abbr;return""}function oy(){var o,l,f,p,y=this.localeData().eras();for(o=0,l=y.length;o<l;++o)if(f=y[o].since<=y[o].until?1:-1,p=this.clone().startOf("day").valueOf(),y[o].since<=p&&p<=y[o].until||y[o].until<=p&&p<=y[o].since)return(this.year()-e(y[o].since).year())*f+y[o].offset;return this.year()}function sy(o){return s(this,"_erasNameRegex")||Ya.call(this),o?this._erasNameRegex:this._erasRegex}function ay(o){return s(this,"_erasAbbrRegex")||Ya.call(this),o?this._erasAbbrRegex:this._erasRegex}function ly(o){return s(this,"_erasNarrowRegex")||Ya.call(this),o?this._erasNarrowRegex:this._erasRegex}function Va(o,l){return l.erasAbbrRegex(o)}function uy(o,l){return l.erasNameRegex(o)}function cy(o,l){return l.erasNarrowRegex(o)}function fy(o,l){return l._eraYearOrdinalRegex||pt}function Ya(){var o=[],l=[],f=[],p=[],y,k,C,D,H,te=this.eras();for(y=0,k=te.length;y<k;++y)C=qt(te[y].name),D=qt(te[y].abbr),H=qt(te[y].narrow),l.push(C),o.push(D),f.push(H),p.push(C),p.push(D),p.push(H);this._erasRegex=new RegExp("^("+p.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+l.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+o.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+f.join("|")+")","i")}b(0,["gg",2],0,function(){return this.weekYear()%100}),b(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Ji(o,l){b(0,[o,o.length],0,l)}Ji("gggg","weekYear"),Ji("ggggg","weekYear"),Ji("GGGG","isoWeekYear"),Ji("GGGGG","isoWeekYear"),N("G",Dt),N("g",Dt),N("GG",R,qe),N("gg",R,qe),N("GGGG",Tt,S),N("gggg",Tt,S),N("GGGGG",nt,O),N("ggggg",nt,O),Gr(["gggg","ggggg","GGGG","GGGGG"],function(o,l,f,p){l[p.substr(0,2)]=ee(o)}),Gr(["gg","GG"],function(o,l,f,p){l[p]=e.parseTwoDigitYear(o)});function dy(o){return Bc.call(this,o,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function hy(o){return Bc.call(this,o,this.isoWeek(),this.isoWeekday(),1,4)}function py(){return Xt(this.year(),1,4)}function my(){return Xt(this.isoWeekYear(),1,4)}function gy(){var o=this.localeData()._week;return Xt(this.year(),o.dow,o.doy)}function wy(){var o=this.localeData()._week;return Xt(this.weekYear(),o.dow,o.doy)}function Bc(o,l,f,p,y){var k;return o==null?Xr(this,p,y).year:(k=Xt(o,p,y),l>k&&(l=k),yy.call(this,o,l,f,p,y))}function yy(o,l,f,p,y){var k=gc(o,l,f,p,y),C=Kr(k.year,0,k.dayOfYear);return this.year(C.getUTCFullYear()),this.month(C.getUTCMonth()),this.date(C.getUTCDate()),this}b("Q",0,"Qo","quarter"),N("Q",Vi),ce("Q",function(o,l){l[jt]=(ee(o)-1)*3});function by(o){return o==null?Math.ceil((this.month()+1)/3):this.month((o-1)*3+this.month()%3)}b("D",["DD",2],"Do","date"),N("D",R,tr),N("DD",R,qe),N("Do",function(o,l){return o?l._dayOfMonthOrdinalParse||l._ordinalParse:l._dayOfMonthOrdinalParseLenient}),ce(["D","DD"],Mt),ce("Do",function(o,l){l[Mt]=ee(o.match(R)[0])});var Vc=nr("Date",!0);b("DDD",["DDDD",3],"DDDo","dayOfYear"),N("DDD",$e),N("DDDD",Yi),ce(["DDD","DDDD"],function(o,l,f){f._dayOfYear=ee(o)});function ky(o){var l=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return o==null?l:this.add(o-l,"d")}b("m",["mm",2],0,"minute"),N("m",R,xa),N("mm",R,qe),ce(["m","mm"],Pt);var Ay=nr("Minutes",!1);b("s",["ss",2],0,"second"),N("s",R,xa),N("ss",R,qe),ce(["s","ss"],Kt);var vy=nr("Seconds",!1);b("S",0,0,function(){return~~(this.millisecond()/100)}),b(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),b(0,["SSS",3],0,"millisecond"),b(0,["SSSS",4],0,function(){return this.millisecond()*10}),b(0,["SSSSS",5],0,function(){return this.millisecond()*100}),b(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),b(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),b(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),b(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),N("S",$e,Vi),N("SS",$e,qe),N("SSS",$e,Yi);var yn,Yc;for(yn="SSSS";yn.length<=9;yn+="S")N(yn,pt);function Ey(o,l){l[Rn]=ee(("0."+o)*1e3)}for(yn="S";yn.length<=9;yn+="S")ce(yn,Ey);Yc=nr("Milliseconds",!1),b("z",0,0,"zoneAbbr"),b("zz",0,0,"zoneName");function Cy(){return this._isUTC?"UTC":""}function xy(){return this._isUTC?"Coordinated Universal Time":""}var I=W.prototype;I.add=ww,I.calendar=Cw,I.clone=xw,I.diff=Ow,I.endOf=Uw,I.format=Lw,I.from=Nw,I.fromNow=$w,I.to=Bw,I.toNow=Vw,I.get=Mg,I.invalidAt=Zw,I.isAfter=Tw,I.isBefore=Sw,I.isBetween=Fw,I.isSame=Pw,I.isSameOrAfter=_w,I.isSameOrBefore=Iw,I.isValid=Kw,I.lang=Dc,I.locale=Rc,I.localeData=Mc,I.max=K0,I.min=j0,I.parsingFlags=Xw,I.set=Lg,I.startOf=Yw,I.subtract=yw,I.toArray=Gw,I.toObject=qw,I.toDate=Hw,I.toISOString=Dw,I.inspect=Mw,typeof Symbol<"u"&&Symbol.for!=null&&(I[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),I.toJSON=jw,I.toString=Rw,I.unix=zw,I.valueOf=Ww,I.creationData=Jw,I.eraName=ny,I.eraNarrow=ry,I.eraAbbr=iy,I.eraYear=oy,I.year=uc,I.isLeapYear=Dg,I.weekYear=dy,I.isoWeekYear=hy,I.quarter=I.quarters=by,I.month=pc,I.daysInMonth=Hg,I.week=I.weeks=Qg,I.isoWeek=I.isoWeeks=e0,I.weeksInYear=gy,I.weeksInWeekYear=wy,I.isoWeeksInYear=py,I.isoWeeksInISOWeekYear=my,I.date=Vc,I.day=I.days=h0,I.weekday=p0,I.isoWeekday=m0,I.dayOfYear=ky,I.hour=I.hours=v0,I.minute=I.minutes=Ay,I.second=I.seconds=vy,I.millisecond=I.milliseconds=Yc,I.utcOffset=iw,I.utc=sw,I.local=aw,I.parseZone=lw,I.hasAlignedHourOffset=uw,I.isDST=cw,I.isLocal=dw,I.isUtcOffset=hw,I.isUtc=Fc,I.isUTC=Fc,I.zoneAbbr=Cy,I.zoneName=xy,I.dates=X("dates accessor is deprecated. Use date instead.",Vc),I.months=X("months accessor is deprecated. Use month instead",pc),I.years=X("years accessor is deprecated. Use year instead",uc),I.zone=X("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",ow),I.isDSTShifted=X("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",fw);function Ty(o){return de(o*1e3)}function Sy(){return de.apply(null,arguments).parseZone()}function Uc(o){return o}var se=G.prototype;se.calendar=ye,se.longDateFormat=On,se.invalidDate=Gt,se.ordinal=va,se.preparse=Uc,se.postformat=Uc,se.relativeTime=Ni,se.pastFuture=$i,se.set=ie,se.eras=Qw,se.erasParse=ey,se.erasConvertYear=ty,se.erasAbbrRegex=ay,se.erasNameRegex=sy,se.erasNarrowRegex=ly,se.months=Yg,se.monthsShort=Ug,se.monthsParse=zg,se.monthsRegex=qg,se.monthsShortRegex=Gg,se.week=Kg,se.firstDayOfYear=Jg,se.firstDayOfWeek=Zg,se.weekdays=l0,se.weekdaysMin=c0,se.weekdaysShort=u0,se.weekdaysParse=d0,se.weekdaysRegex=g0,se.weekdaysShortRegex=w0,se.weekdaysMinRegex=y0,se.isPM=k0,se.meridiem=E0;function Qi(o,l,f,p){var y=Zt(),k=w().set(p,l);return y[f](k,o)}function Wc(o,l,f){if(c(o)&&(l=o,o=void 0),o=o||"",l!=null)return Qi(o,l,f,"month");var p,y=[];for(p=0;p<12;p++)y[p]=Qi(o,p,f,"month");return y}function Ua(o,l,f,p){typeof o=="boolean"?(c(l)&&(f=l,l=void 0),l=l||""):(l=o,f=l,o=!1,c(l)&&(f=l,l=void 0),l=l||"");var y=Zt(),k=o?y._week.dow:0,C,D=[];if(f!=null)return Qi(l,(f+k)%7,p,"day");for(C=0;C<7;C++)D[C]=Qi(l,(C+k)%7,p,"day");return D}function Fy(o,l){return Wc(o,l,"months")}function Py(o,l){return Wc(o,l,"monthsShort")}function _y(o,l,f){return Ua(o,l,f,"weekdays")}function Iy(o,l,f){return Ua(o,l,f,"weekdaysShort")}function Oy(o,l,f){return Ua(o,l,f,"weekdaysMin")}wn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(o){var l=o%10,f=ee(o%100/10)===1?"th":l===1?"st":l===2?"nd":l===3?"rd":"th";return o+f}}),e.lang=X("moment.lang is deprecated. Use moment.locale instead.",wn),e.langData=X("moment.langData is deprecated. Use moment.localeData instead.",Zt);var Jt=Math.abs;function Ry(){var o=this._data;return this._milliseconds=Jt(this._milliseconds),this._days=Jt(this._days),this._months=Jt(this._months),o.milliseconds=Jt(o.milliseconds),o.seconds=Jt(o.seconds),o.minutes=Jt(o.minutes),o.hours=Jt(o.hours),o.months=Jt(o.months),o.years=Jt(o.years),this}function zc(o,l,f,p){var y=_t(l,f);return o._milliseconds+=p*y._milliseconds,o._days+=p*y._days,o._months+=p*y._months,o._bubble()}function Dy(o,l){return zc(this,o,l,1)}function My(o,l){return zc(this,o,l,-1)}function Hc(o){return o<0?Math.floor(o):Math.ceil(o)}function Ly(){var o=this._milliseconds,l=this._days,f=this._months,p=this._data,y,k,C,D,H;return o>=0&&l>=0&&f>=0||o<=0&&l<=0&&f<=0||(o+=Hc(Wa(f)+l)*864e5,l=0,f=0),p.milliseconds=o%1e3,y=mt(o/1e3),p.seconds=y%60,k=mt(y/60),p.minutes=k%60,C=mt(k/60),p.hours=C%24,l+=mt(C/24),H=mt(Gc(l)),f+=H,l-=Hc(Wa(H)),D=mt(f/12),f%=12,p.days=l,p.months=f,p.years=D,this}function Gc(o){return o*4800/146097}function Wa(o){return o*146097/4800}function Ny(o){if(!this.isValid())return NaN;var l,f,p=this._milliseconds;if(o=Ge(o),o==="month"||o==="quarter"||o==="year")switch(l=this._days+p/864e5,f=this._months+Gc(l),o){case"month":return f;case"quarter":return f/3;case"year":return f/12}else switch(l=this._days+Math.round(Wa(this._months)),o){case"week":return l/7+p/6048e5;case"day":return l+p/864e5;case"hour":return l*24+p/36e5;case"minute":return l*1440+p/6e4;case"second":return l*86400+p/1e3;case"millisecond":return Math.floor(l*864e5)+p;default:throw new Error("Unknown unit "+o)}}function Qt(o){return function(){return this.as(o)}}var qc=Qt("ms"),$y=Qt("s"),By=Qt("m"),Vy=Qt("h"),Yy=Qt("d"),Uy=Qt("w"),Wy=Qt("M"),zy=Qt("Q"),Hy=Qt("y"),Gy=qc;function qy(){return _t(this)}function jy(o){return o=Ge(o),this.isValid()?this[o+"s"]():NaN}function Mn(o){return function(){return this.isValid()?this._data[o]:NaN}}var Ky=Mn("milliseconds"),Xy=Mn("seconds"),Zy=Mn("minutes"),Jy=Mn("hours"),Qy=Mn("days"),eb=Mn("months"),tb=Mn("years");function nb(){return mt(this.days()/7)}var en=Math.round,sr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function rb(o,l,f,p,y){return y.relativeTime(l||1,!!f,o,p)}function ib(o,l,f,p){var y=_t(o).abs(),k=en(y.as("s")),C=en(y.as("m")),D=en(y.as("h")),H=en(y.as("d")),te=en(y.as("M")),Ke=en(y.as("w")),tn=en(y.as("y")),bn=k<=f.ss&&["s",k]||k<f.s&&["ss",k]||C<=1&&["m"]||C<f.m&&["mm",C]||D<=1&&["h"]||D<f.h&&["hh",D]||H<=1&&["d"]||H<f.d&&["dd",H];return f.w!=null&&(bn=bn||Ke<=1&&["w"]||Ke<f.w&&["ww",Ke]),bn=bn||te<=1&&["M"]||te<f.M&&["MM",te]||tn<=1&&["y"]||["yy",tn],bn[2]=l,bn[3]=+o>0,bn[4]=p,rb.apply(null,bn)}function ob(o){return o===void 0?en:typeof o=="function"?(en=o,!0):!1}function sb(o,l){return sr[o]===void 0?!1:l===void 0?sr[o]:(sr[o]=l,o==="s"&&(sr.ss=l-1),!0)}function ab(o,l){if(!this.isValid())return this.localeData().invalidDate();var f=!1,p=sr,y,k;return typeof o=="object"&&(l=o,o=!1),typeof o=="boolean"&&(f=o),typeof l=="object"&&(p=Object.assign({},sr,l),l.s!=null&&l.ss==null&&(p.ss=l.s-1)),y=this.localeData(),k=ib(this,!f,p,y),f&&(k=y.pastFuture(+this,k)),y.postformat(k)}var za=Math.abs;function ar(o){return(o>0)-(o<0)||+o}function eo(){if(!this.isValid())return this.localeData().invalidDate();var o=za(this._milliseconds)/1e3,l=za(this._days),f=za(this._months),p,y,k,C,D=this.asSeconds(),H,te,Ke,tn;return D?(p=mt(o/60),y=mt(p/60),o%=60,p%=60,k=mt(f/12),f%=12,C=o?o.toFixed(3).replace(/\.?0+$/,""):"",H=D<0?"-":"",te=ar(this._months)!==ar(D)?"-":"",Ke=ar(this._days)!==ar(D)?"-":"",tn=ar(this._milliseconds)!==ar(D)?"-":"",H+"P"+(k?te+k+"Y":"")+(f?te+f+"M":"")+(l?Ke+l+"D":"")+(y||p||o?"T":"")+(y?tn+y+"H":"")+(p?tn+p+"M":"")+(o?tn+C+"S":"")):"P0D"}var re=qi.prototype;re.isValid=ew,re.abs=Ry,re.add=Dy,re.subtract=My,re.as=Ny,re.asMilliseconds=qc,re.asSeconds=$y,re.asMinutes=By,re.asHours=Vy,re.asDays=Yy,re.asWeeks=Uy,re.asMonths=Wy,re.asQuarters=zy,re.asYears=Hy,re.valueOf=Gy,re._bubble=Ly,re.clone=qy,re.get=jy,re.milliseconds=Ky,re.seconds=Xy,re.minutes=Zy,re.hours=Jy,re.days=Qy,re.weeks=nb,re.months=eb,re.years=tb,re.humanize=ab,re.toISOString=eo,re.toString=eo,re.toJSON=eo,re.locale=Rc,re.localeData=Mc,re.toIsoString=X("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",eo),re.lang=Dc,b("X",0,0,"unix"),b("x",0,0,"valueOf"),N("x",Dt),N("X",Ft),ce("X",function(o,l,f){f._d=new Date(parseFloat(o)*1e3)}),ce("x",function(o,l,f){f._d=new Date(ee(o))});return e.version="2.30.1",n(de),e.fn=I,e.min=X0,e.max=Z0,e.now=J0,e.utc=w,e.unix=Ty,e.months=Fy,e.isDate=d,e.locale=wn,e.invalid=E,e.duration=_t,e.isMoment=T,e.weekdays=_y,e.parseZone=Sy,e.localeData=Zt,e.isDuration=ji,e.monthsShort=Py,e.weekdaysMin=Oy,e.defineLocale=Ia,e.updateLocale=S0,e.locales=F0,e.weekdaysShort=Iy,e.normalizeUnits=Ge,e.relativeTimeRounding=ob,e.relativeTimeThreshold=sb,e.calendarFormat=Ew,e.prototype=I,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}))});var ef=U((K2,Qc)=>{var ur=1e3,cr=ur*60,fr=cr*60,Nn=fr*24,pb=Nn*7,mb=Nn*365.25;Qc.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return gb(t);if(n==="number"&&isFinite(t))return e.long?yb(t):wb(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function gb(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*mb;case"weeks":case"week":case"w":return n*pb;case"days":case"day":case"d":return n*Nn;case"hours":case"hour":case"hrs":case"hr":case"h":return n*fr;case"minutes":case"minute":case"mins":case"min":case"m":return n*cr;case"seconds":case"second":case"secs":case"sec":case"s":return n*ur;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function wb(t){var e=Math.abs(t);return e>=Nn?Math.round(t/Nn)+"d":e>=fr?Math.round(t/fr)+"h":e>=cr?Math.round(t/cr)+"m":e>=ur?Math.round(t/ur)+"s":t+"ms"}function yb(t){var e=Math.abs(t);return e>=Nn?no(t,e,Nn,"day"):e>=fr?no(t,e,fr,"hour"):e>=cr?no(t,e,cr,"minute"):e>=ur?no(t,e,ur,"second"):t+" ms"}function no(t,e,n,r){var i=e>=n*1.5;return Math.round(t/n)+" "+r+(i?"s":"")}});var qa=U((X2,tf)=>{function bb(t){n.debug=n,n.default=n,n.coerce=c,n.disable=a,n.enable=i,n.enabled=u,n.humanize=ef(),n.destroy=d,Object.keys(t).forEach(h=>{n[h]=t[h]}),n.names=[],n.skips=[],n.formatters={};function e(h){let m=0;for(let w=0;w<h.length;w++)m=(m<<5)-m+h.charCodeAt(w),m|=0;return n.colors[Math.abs(m)%n.colors.length]}n.selectColor=e;function n(h){let m,w=null,g,v;function P(...x){if(!P.enabled)return;let E=P,F=Number(new Date),_=F-(m||F);E.diff=_,E.prev=m,E.curr=F,m=F,x[0]=n.coerce(x[0]),typeof x[0]!="string"&&x.unshift("%O");let Y=0;x[0]=x[0].replace(/%([a-zA-Z%])/g,(T,ne)=>{if(T==="%%")return"%";Y++;let X=n.formatters[ne];if(typeof X=="function"){let Z=x[Y];T=X.call(E,Z),x.splice(Y,1),Y--}return T}),n.formatArgs.call(E,x),(E.log||n.log).apply(E,x)}return P.namespace=h,P.useColors=n.useColors(),P.color=n.selectColor(h),P.extend=r,P.destroy=n.destroy,Object.defineProperty(P,"enabled",{enumerable:!0,configurable:!1,get:()=>w!==null?w:(g!==n.namespaces&&(g=n.namespaces,v=n.enabled(h)),v),set:x=>{w=x}}),typeof n.init=="function"&&n.init(P),P}function r(h,m){let w=n(this.namespace+(typeof m>"u"?":":m)+h);return w.log=this.log,w}function i(h){n.save(h),n.namespaces=h,n.names=[],n.skips=[];let m=(typeof h=="string"?h:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let w of m)w[0]==="-"?n.skips.push(w.slice(1)):n.names.push(w)}function s(h,m){let w=0,g=0,v=-1,P=0;for(;w<h.length;)if(g<m.length&&(m[g]===h[w]||m[g]==="*"))m[g]==="*"?(v=g,P=w,g++):(w++,g++);else if(v!==-1)g=v+1,P++,w=P;else return!1;for(;g<m.length&&m[g]==="*";)g++;return g===m.length}function a(){let h=[...n.names,...n.skips.map(m=>"-"+m)].join(",");return n.enable(""),h}function u(h){for(let m of n.skips)if(s(h,m))return!1;for(let m of n.names)if(s(h,m))return!0;return!1}function c(h){return h instanceof Error?h.stack||h.message:h}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}tf.exports=bb});var nf=U((rt,ro)=>{rt.formatArgs=Ab;rt.save=vb;rt.load=Eb;rt.useColors=kb;rt.storage=Cb();rt.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();rt.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function kb(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function Ab(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+ro.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,r=0;t[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(n++,i==="%c"&&(r=n))}),t.splice(r,0,e)}rt.log=console.debug||console.log||(()=>{});function vb(t){try{t?rt.storage.setItem("debug",t):rt.storage.removeItem("debug")}catch{}}function Eb(){let t;try{t=rt.storage.getItem("debug")||rt.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}function Cb(){try{return localStorage}catch{}}ro.exports=qa()(rt);var{formatters:xb}=ro.exports;xb.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var of=U((Z2,rf)=>{"use strict";rf.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",r=e.indexOf(n+t),i=e.indexOf("--");return r!==-1&&(i===-1||r<i)}});var lf=U((J2,af)=>{"use strict";var Tb=require("os"),sf=require("tty"),gt=of(),{env:Fe}=process,io;gt("no-color")||gt("no-colors")||gt("color=false")||gt("color=never")?io=0:(gt("color")||gt("colors")||gt("color=true")||gt("color=always"))&&(io=1);function Sb(){if("FORCE_COLOR"in Fe)return Fe.FORCE_COLOR==="true"?1:Fe.FORCE_COLOR==="false"?0:Fe.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Fe.FORCE_COLOR,10),3)}function Fb(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}function Pb(t,{streamIsTTY:e,sniffFlags:n=!0}={}){let r=Sb();r!==void 0&&(io=r);let i=n?io:r;if(i===0)return 0;if(n){if(gt("color=16m")||gt("color=full")||gt("color=truecolor"))return 3;if(gt("color=256"))return 2}if(t&&!e&&i===void 0)return 0;let s=i||0;if(Fe.TERM==="dumb")return s;if(process.platform==="win32"){let a=Tb.release().split(".");return Number(a[0])>=10&&Number(a[2])>=10586?Number(a[2])>=14931?3:2:1}if("CI"in Fe)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(a=>a in Fe)||Fe.CI_NAME==="codeship"?1:s;if("TEAMCITY_VERSION"in Fe)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Fe.TEAMCITY_VERSION)?1:0;if(Fe.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Fe){let a=Number.parseInt((Fe.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Fe.TERM_PROGRAM){case"iTerm.app":return a>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Fe.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Fe.TERM)||"COLORTERM"in Fe?1:s}function ja(t,e={}){let n=Pb(t,{streamIsTTY:t&&t.isTTY,...e});return Fb(n)}af.exports={supportsColor:ja,stdout:ja({isTTY:sf.isatty(1)}),stderr:ja({isTTY:sf.isatty(2)})}});var cf=U((Pe,so)=>{var _b=require("tty"),oo=require("util");Pe.init=Nb;Pe.log=Db;Pe.formatArgs=Ob;Pe.save=Mb;Pe.load=Lb;Pe.useColors=Ib;Pe.destroy=oo.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");Pe.colors=[6,2,3,4,5,1];try{let t=lf();t&&(t.stderr||t).level>=2&&(Pe.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}Pe.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),r=process.env[e];return/^(yes|on|true|enabled)$/i.test(r)?r=!0:/^(no|off|false|disabled)$/i.test(r)?r=!1:r==="null"?r=null:r=Number(r),t[n]=r,t},{});function Ib(){return"colors"in Pe.inspectOpts?!!Pe.inspectOpts.colors:_b.isatty(process.stderr.fd)}function Ob(t){let{namespace:e,useColors:n}=this;if(n){let r=this.color,i="\x1B[3"+(r<8?r:"8;5;"+r),s=`  ${i};1m${e} \x1B[0m`;t[0]=s+t[0].split(`
`).join(`
`+s),t.push(i+"m+"+so.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=Rb()+e+" "+t[0]}function Rb(){return Pe.inspectOpts.hideDate?"":new Date().toISOString()+" "}function Db(...t){return process.stderr.write(oo.formatWithOptions(Pe.inspectOpts,...t)+`
`)}function Mb(t){t?process.env.DEBUG=t:delete process.env.DEBUG}function Lb(){return process.env.DEBUG}function Nb(t){t.inspectOpts={};let e=Object.keys(Pe.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=Pe.inspectOpts[e[n]]}so.exports=qa()(Pe);var{formatters:uf}=so.exports;uf.o=function(t){return this.inspectOpts.colors=this.useColors,oo.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};uf.O=function(t){return this.inspectOpts.colors=this.useColors,oo.inspect(t,this.inspectOpts)}});var ff=U((Q2,Ka)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Ka.exports=nf():Ka.exports=cf()});var Bf=U((LT,$f)=>{"use strict";function $t(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}function Nf(t,e){for(var n="",r=0,i=-1,s=0,a,u=0;u<=t.length;++u){if(u<t.length)a=t.charCodeAt(u);else{if(a===47)break;a=47}if(a===47){if(!(i===u-1||s===1))if(i!==u-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){c===-1?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=u,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=u,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+="/"+t.slice(i+1,u):n=t.slice(i+1,u),r=u-i-1;i=u,s=0}else a===46&&s!==-1?++s:s=-1}return n}function pk(t,e){var n=e.dir||e.root,r=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+r:n+t+r:r}var yr={resolve:function(){for(var e="",n=!1,r,i=arguments.length-1;i>=-1&&!n;i--){var s;i>=0?s=arguments[i]:(r===void 0&&(r=process.cwd()),s=r),$t(s),s.length!==0&&(e=s+"/"+e,n=s.charCodeAt(0)===47)}return e=Nf(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},normalize:function(e){if($t(e),e.length===0)return".";var n=e.charCodeAt(0)===47,r=e.charCodeAt(e.length-1)===47;return e=Nf(e,!n),e.length===0&&!n&&(e="."),e.length>0&&r&&(e+="/"),n?"/"+e:e},isAbsolute:function(e){return $t(e),e.length>0&&e.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var r=arguments[n];$t(r),r.length>0&&(e===void 0?e=r:e+="/"+r)}return e===void 0?".":yr.normalize(e)},relative:function(e,n){if($t(e),$t(n),e===n||(e=yr.resolve(e),n=yr.resolve(n),e===n))return"";for(var r=1;r<e.length&&e.charCodeAt(r)===47;++r);for(var i=e.length,s=i-r,a=1;a<n.length&&n.charCodeAt(a)===47;++a);for(var u=n.length,c=u-a,d=s<c?s:c,h=-1,m=0;m<=d;++m){if(m===d){if(c>d){if(n.charCodeAt(a+m)===47)return n.slice(a+m+1);if(m===0)return n.slice(a+m)}else s>d&&(e.charCodeAt(r+m)===47?h=m:m===0&&(h=0));break}var w=e.charCodeAt(r+m),g=n.charCodeAt(a+m);if(w!==g)break;w===47&&(h=m)}var v="";for(m=r+h+1;m<=i;++m)(m===i||e.charCodeAt(m)===47)&&(v.length===0?v+="..":v+="/..");return v.length>0?v+n.slice(a+h):(a+=h,n.charCodeAt(a)===47&&++a,n.slice(a))},_makeLong:function(e){return e},dirname:function(e){if($t(e),e.length===0)return".";for(var n=e.charCodeAt(0),r=n===47,i=-1,s=!0,a=e.length-1;a>=1;--a)if(n=e.charCodeAt(a),n===47){if(!s){i=a;break}}else s=!1;return i===-1?r?"/":".":r&&i===1?"//":e.slice(0,i)},basename:function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');$t(e);var r=0,i=-1,s=!0,a;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var u=n.length-1,c=-1;for(a=e.length-1;a>=0;--a){var d=e.charCodeAt(a);if(d===47){if(!s){r=a+1;break}}else c===-1&&(s=!1,c=a+1),u>=0&&(d===n.charCodeAt(u)?--u===-1&&(i=a):(u=-1,i=c))}return r===i?i=c:i===-1&&(i=e.length),e.slice(r,i)}else{for(a=e.length-1;a>=0;--a)if(e.charCodeAt(a)===47){if(!s){r=a+1;break}}else i===-1&&(s=!1,i=a+1);return i===-1?"":e.slice(r,i)}},extname:function(e){$t(e);for(var n=-1,r=0,i=-1,s=!0,a=0,u=e.length-1;u>=0;--u){var c=e.charCodeAt(u);if(c===47){if(!s){r=u+1;break}continue}i===-1&&(s=!1,i=u+1),c===46?n===-1?n=u:a!==1&&(a=1):n!==-1&&(a=-1)}return n===-1||i===-1||a===0||a===1&&n===i-1&&n===r+1?"":e.slice(n,i)},format:function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return pk("/",e)},parse:function(e){$t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var r=e.charCodeAt(0),i=r===47,s;i?(n.root="/",s=1):s=0;for(var a=-1,u=0,c=-1,d=!0,h=e.length-1,m=0;h>=s;--h){if(r=e.charCodeAt(h),r===47){if(!d){u=h+1;break}continue}c===-1&&(d=!1,c=h+1),r===46?a===-1?a=h:m!==1&&(m=1):a!==-1&&(m=-1)}return a===-1||c===-1||m===0||m===1&&a===c-1&&a===u+1?c!==-1&&(u===0&&i?n.base=n.name=e.slice(1,c):n.base=n.name=e.slice(u,c)):(u===0&&i?(n.name=e.slice(1,a),n.base=e.slice(1,c)):(n.name=e.slice(u,a),n.base=e.slice(u,c)),n.ext=e.slice(a,c)),u>0?n.dir=e.slice(0,u-1):i&&(n.dir="/"),n},sep:"/",delimiter:":",win32:null,posix:null};yr.posix=yr;$f.exports=yr});var fh=U((QI,ch)=>{"use strict";var Yo=Object.prototype.hasOwnProperty,uh=Object.prototype.toString,rh=Object.defineProperty,ih=Object.getOwnPropertyDescriptor,oh=function(e){return typeof Array.isArray=="function"?Array.isArray(e):uh.call(e)==="[object Array]"},sh=function(e){if(!e||uh.call(e)!=="[object Object]")return!1;var n=Yo.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&Yo.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!r)return!1;var i;for(i in e);return typeof i>"u"||Yo.call(e,i)},ah=function(e,n){rh&&n.name==="__proto__"?rh(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},lh=function(e,n){if(n==="__proto__")if(Yo.call(e,n)){if(ih)return ih(e,n).value}else return;return e[n]};ch.exports=function t(){var e,n,r,i,s,a,u=arguments[0],c=1,d=arguments.length,h=!1;for(typeof u=="boolean"&&(h=u,u=arguments[1]||{},c=2),(u==null||typeof u!="object"&&typeof u!="function")&&(u={});c<d;++c)if(e=arguments[c],e!=null)for(n in e)r=lh(u,n),i=lh(e,n),u!==i&&(h&&i&&(sh(i)||(s=oh(i)))?(s?(s=!1,a=r&&oh(r)?r:[]):a=r&&sh(r)?r:{},ah(u,{name:n,newValue:t(h,a,i)})):typeof i<"u"&&ah(u,{name:n,newValue:i}));return u}});var zh=U((ns,Wh)=>{(function(t,e){typeof ns=="object"&&typeof Wh<"u"?e(ns):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(ns,(function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=x=>{if(typeof x!="string")throw new TypeError("Invalid argument expected string");let E=x.match(e);if(!E)throw new Error(`Invalid argument not valid semver ('${x}' received)`);return E.shift(),E},r=x=>x==="*"||x==="x"||x==="X",i=x=>{let E=parseInt(x,10);return isNaN(E)?x:E},s=(x,E)=>typeof x!=typeof E?[String(x),String(E)]:[x,E],a=(x,E)=>{if(r(x)||r(E))return 0;let[F,_]=s(i(x),i(E));return F>_?1:F<_?-1:0},u=(x,E)=>{for(let F=0;F<Math.max(x.length,E.length);F++){let _=a(x[F]||"0",E[F]||"0");if(_!==0)return _}return 0},c=(x,E)=>{let F=n(x),_=n(E),Y=F.pop(),W=_.pop(),T=u(F,_);return T!==0?T:Y&&W?u(Y.split("."),W.split(".")):Y||W?Y?-1:1:0},d=(x,E,F)=>{w(F);let _=c(x,E);return h[F].includes(_)},h={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},m=Object.keys(h),w=x=>{if(typeof x!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof x}`);if(m.indexOf(x)===-1)throw new Error(`Invalid operator, expected one of ${m.join("|")}`)},g=(x,E)=>{if(E=E.replace(/([><=]+)\s+/g,"$1"),E.includes("||"))return E.split("||").some(oe=>g(x,oe));if(E.includes(" - ")){let[oe,ye]=E.split(" - ",2);return g(x,`>=${oe} <=${ye}`)}else if(E.includes(" "))return E.trim().replace(/\s{2,}/g," ").split(" ").every(oe=>g(x,oe));let F=E.match(/^([<>=~^]+)/),_=F?F[1]:"=";if(_!=="^"&&_!=="~")return d(x,E,_);let[Y,W,T,,ne]=n(x),[X,Z,ae,,fe]=n(E),ie=[Y,W,T],V=[X,Z??"x",ae??"x"];if(fe&&(!ne||u(ie,V)!==0||u(ne.split("."),fe.split("."))===-1))return!1;let G=V.findIndex(oe=>oe!=="0")+1,z=_==="~"?2:G>1?G:1;return!(u(ie.slice(0,z),V.slice(0,z))!==0||u(ie.slice(z),V.slice(z))===-1)},v=x=>typeof x=="string"&&/^[v\d]/.test(x)&&e.test(x),P=x=>typeof x=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(x);t.compare=d,t.compareVersions=c,t.satisfies=g,t.validate=v,t.validateStrict=P}))});var fp=U((xu,Tu)=>{(function(t,e,n){typeof xu=="object"?(Tu.exports=n(),Tu.exports.default=n()):typeof define=="function"&&define.amd?define(n):e[t]=n()})("slugify",xu,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xA2":"cent","\xA3":"pound","\xA4":"currency","\xA5":"yen","\xA9":"(c)","\xAA":"a","\xAE":"(r)","\xBA":"o","\xC0":"A","\xC1":"A","\xC2":"A","\xC3":"A","\xC4":"A","\xC5":"A","\xC6":"AE","\xC7":"C","\xC8":"E","\xC9":"E","\xCA":"E","\xCB":"E","\xCC":"I","\xCD":"I","\xCE":"I","\xCF":"I","\xD0":"D","\xD1":"N","\xD2":"O","\xD3":"O","\xD4":"O","\xD5":"O","\xD6":"O","\xD8":"O","\xD9":"U","\xDA":"U","\xDB":"U","\xDC":"U","\xDD":"Y","\xDE":"TH","\xDF":"ss","\xE0":"a","\xE1":"a","\xE2":"a","\xE3":"a","\xE4":"a","\xE5":"a","\xE6":"ae","\xE7":"c","\xE8":"e","\xE9":"e","\xEA":"e","\xEB":"e","\xEC":"i","\xED":"i","\xEE":"i","\xEF":"i","\xF0":"d","\xF1":"n","\xF2":"o","\xF3":"o","\xF4":"o","\xF5":"o","\xF6":"o","\xF8":"o","\xF9":"u","\xFA":"u","\xFB":"u","\xFC":"u","\xFD":"y","\xFE":"th","\xFF":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010C":"C","\u010D":"c","\u010E":"D","\u010F":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011A":"E","\u011B":"e","\u011E":"G","\u011F":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012A":"i","\u012B":"i","\u012E":"I","\u012F":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013B":"L","\u013C":"l","\u013D":"L","\u013E":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014C":"O","\u014D":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015A":"S","\u015B":"s","\u015E":"S","\u015F":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016A":"u","\u016B":"u","\u016E":"U","\u016F":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017A":"z","\u017B":"Z","\u017C":"z","\u017D":"Z","\u017E":"z","\u018F":"E","\u0192":"f","\u01A0":"O","\u01A1":"o","\u01AF":"U","\u01B0":"u","\u01C8":"LJ","\u01C9":"lj","\u01CB":"NJ","\u01CC":"nj","\u0218":"S","\u0219":"s","\u021A":"T","\u021B":"t","\u0259":"e","\u02DA":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038A":"I","\u038C":"O","\u038E":"Y","\u038F":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039A":"K","\u039B":"L","\u039C":"M","\u039D":"N","\u039E":"3","\u039F":"O","\u03A0":"P","\u03A1":"R","\u03A3":"S","\u03A4":"T","\u03A5":"Y","\u03A6":"F","\u03A7":"X","\u03A8":"PS","\u03A9":"W","\u03AA":"I","\u03AB":"Y","\u03AC":"a","\u03AD":"e","\u03AE":"h","\u03AF":"i","\u03B0":"y","\u03B1":"a","\u03B2":"b","\u03B3":"g","\u03B4":"d","\u03B5":"e","\u03B6":"z","\u03B7":"h","\u03B8":"8","\u03B9":"i","\u03BA":"k","\u03BB":"l","\u03BC":"m","\u03BD":"n","\u03BE":"3","\u03BF":"o","\u03C0":"p","\u03C1":"r","\u03C2":"s","\u03C3":"s","\u03C4":"t","\u03C5":"y","\u03C6":"f","\u03C7":"x","\u03C8":"ps","\u03C9":"w","\u03CA":"i","\u03CB":"y","\u03CC":"o","\u03CD":"y","\u03CE":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040A":"NJ","\u040B":"C","\u040F":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041A":"K","\u041B":"L","\u041C":"M","\u041D":"N","\u041E":"O","\u041F":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042A":"U","\u042B":"Y","\u042C":"","\u042D":"E","\u042E":"Yu","\u042F":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043A":"k","\u043B":"l","\u043C":"m","\u043D":"n","\u043E":"o","\u043F":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044A":"u","\u044B":"y","\u044C":"","\u044D":"e","\u044E":"yu","\u044F":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045A":"nj","\u045B":"c","\u045D":"u","\u045F":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049A":"KH","\u049B":"kh","\u04A2":"NG","\u04A3":"ng","\u04AE":"UE","\u04AF":"ue","\u04B0":"U","\u04B1":"u","\u04BA":"H","\u04BB":"h","\u04D8":"AE","\u04D9":"ae","\u04E8":"OE","\u04E9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E'","\u0538":"Y'","\u0539":"T'","\u053A":"JH","\u053B":"I","\u053C":"L","\u053D":"X","\u053E":"C'","\u053F":"K","\u0540":"H","\u0541":"D'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054A":"P","\u054B":"J","\u054C":"R'","\u054D":"S","\u054E":"V","\u054F":"T","\u0550":"R","\u0551":"C","\u0553":"P'","\u0554":"Q'","\u0555":"O''","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062A":"t","\u062B":"th","\u062C":"j","\u062D":"h","\u062E":"kh","\u062F":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063A":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064A":"y","\u064B":"an","\u064C":"on","\u064D":"en","\u064E":"a","\u064F":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067E":"p","\u0686":"ch","\u0698":"zh","\u06A9":"k","\u06AF":"g","\u06CC":"y","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9","\u0E3F":"baht","\u10D0":"a","\u10D1":"b","\u10D2":"g","\u10D3":"d","\u10D4":"e","\u10D5":"v","\u10D6":"z","\u10D7":"t","\u10D8":"i","\u10D9":"k","\u10DA":"l","\u10DB":"m","\u10DC":"n","\u10DD":"o","\u10DE":"p","\u10DF":"zh","\u10E0":"r","\u10E1":"s","\u10E2":"t","\u10E3":"u","\u10E4":"f","\u10E5":"k","\u10E6":"gh","\u10E7":"q","\u10E8":"sh","\u10E9":"ch","\u10EA":"ts","\u10EB":"dz","\u10EC":"ts","\u10ED":"ch","\u10EE":"kh","\u10EF":"j","\u10F0":"h","\u1E62":"S","\u1E63":"s","\u1E80":"W","\u1E81":"w","\u1E82":"W","\u1E83":"w","\u1E84":"W","\u1E85":"w","\u1E9E":"SS","\u1EA0":"A","\u1EA1":"a","\u1EA2":"A","\u1EA3":"a","\u1EA4":"A","\u1EA5":"a","\u1EA6":"A","\u1EA7":"a","\u1EA8":"A","\u1EA9":"a","\u1EAA":"A","\u1EAB":"a","\u1EAC":"A","\u1EAD":"a","\u1EAE":"A","\u1EAF":"a","\u1EB0":"A","\u1EB1":"a","\u1EB2":"A","\u1EB3":"a","\u1EB4":"A","\u1EB5":"a","\u1EB6":"A","\u1EB7":"a","\u1EB8":"E","\u1EB9":"e","\u1EBA":"E","\u1EBB":"e","\u1EBC":"E","\u1EBD":"e","\u1EBE":"E","\u1EBF":"e","\u1EC0":"E","\u1EC1":"e","\u1EC2":"E","\u1EC3":"e","\u1EC4":"E","\u1EC5":"e","\u1EC6":"E","\u1EC7":"e","\u1EC8":"I","\u1EC9":"i","\u1ECA":"I","\u1ECB":"i","\u1ECC":"O","\u1ECD":"o","\u1ECE":"O","\u1ECF":"o","\u1ED0":"O","\u1ED1":"o","\u1ED2":"O","\u1ED3":"o","\u1ED4":"O","\u1ED5":"o","\u1ED6":"O","\u1ED7":"o","\u1ED8":"O","\u1ED9":"o","\u1EDA":"O","\u1EDB":"o","\u1EDC":"O","\u1EDD":"o","\u1EDE":"O","\u1EDF":"o","\u1EE0":"O","\u1EE1":"o","\u1EE2":"O","\u1EE3":"o","\u1EE4":"U","\u1EE5":"u","\u1EE6":"U","\u1EE7":"u","\u1EE8":"U","\u1EE9":"u","\u1EEA":"U","\u1EEB":"u","\u1EEC":"U","\u1EED":"u","\u1EEE":"U","\u1EEF":"u","\u1EF0":"U","\u1EF1":"u","\u1EF2":"Y","\u1EF3":"y","\u1EF4":"Y","\u1EF5":"y","\u1EF6":"Y","\u1EF7":"y","\u1EF8":"Y","\u1EF9":"y","\u2013":"-","\u2018":"'","\u2019":"'","\u201C":"\\"","\u201D":"\\"","\u201E":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20A0":"ecu","\u20A2":"cruzeiro","\u20A3":"french franc","\u20A4":"lira","\u20A5":"mill","\u20A6":"naira","\u20A7":"peseta","\u20A8":"rupee","\u20A9":"won","\u20AA":"new shequel","\u20AB":"dong","\u20AC":"euro","\u20AD":"kip","\u20AE":"tugrik","\u20AF":"drachma","\u20B0":"penny","\u20B1":"peso","\u20B2":"guarani","\u20B3":"austral","\u20B4":"hryvnia","\u20B5":"cedi","\u20B8":"kazakhstani tenge","\u20B9":"indian rupee","\u20BA":"turkish lira","\u20BD":"russian ruble","\u20BF":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221E":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\uFDFC":"rial","\uFEF5":"laa","\uFEF7":"laa","\uFEF9":"lai","\uFEFB":"la"}`),e=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042A":"A","\u042C":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044A":"a","\u044C":"y"},"de":{"\xC4":"AE","\xE4":"ae","\xD6":"OE","\xF6":"oe","\xDC":"UE","\xFC":"ue","\xDF":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221E":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xA2":"centavos","\xA3":"libras","\xA4":"moneda","\u20A3":"francos","\u2211":"suma","\u221E":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xA2":"centime","\xA3":"livre","\xA4":"devise","\u20A3":"franc","\u2211":"somme","\u221E":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xA2":"centavo","\u2211":"soma","\xA3":"libra","\u221E":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xD8":"OE","\xF8":"oe","\xC5":"AA","\xE5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xF8rre end"},"nb":{"&":"og","\xC5":"AA","\xC6":"AE","\xD8":"OE","\xE5":"aa","\xE6":"ae","\xF8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xC5":"AA","\xC4":"AE","\xD6":"OE","\xE5":"aa","\xE4":"ae","\xF6":"oe"}}');function n(r,i){if(typeof r!="string")throw new Error("slugify: string argument expected");i=typeof i=="string"?{replacement:i}:i||{};var s=e[i.locale]||{},a=i.replacement===void 0?"-":i.replacement,u=i.trim===void 0?!0:i.trim,c=r.normalize().split("").reduce(function(d,h){var m=s[h];return m===void 0&&(m=t[h]),m===void 0&&(m=h),m===a&&(m=" "),d+m.replace(i.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return i.strict&&(c=c.replace(/[^A-Za-z0-9\s]/g,"")),u&&(c=c.trim()),c=c.replace(/\s+/g,a),i.lower&&(c=c.toLowerCase()),c}return n.extend=function(r){Object.assign(t,r)},n})});var Pi=U((mL,Tp)=>{"use strict";var $E="2.0.0",BE=Number.MAX_SAFE_INTEGER||9007199254740991,VE=16,YE=250,UE=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Tp.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:VE,MAX_SAFE_BUILD_LENGTH:YE,MAX_SAFE_INTEGER:BE,RELEASE_TYPES:UE,SEMVER_SPEC_VERSION:$E,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var _i=U((gL,Sp)=>{"use strict";var WE=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Sp.exports=WE});var Br=U((zt,Fp)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:Du,MAX_SAFE_BUILD_LENGTH:zE,MAX_LENGTH:HE}=Pi(),GE=_i();zt=Fp.exports={};var qE=zt.re=[],jE=zt.safeRe=[],M=zt.src=[],KE=zt.safeSrc=[],L=zt.t={},XE=0,Mu="[a-zA-Z0-9-]",ZE=[["\\s",1],["\\d",HE],[Mu,zE]],JE=t=>{for(let[e,n]of ZE)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},K=(t,e,n)=>{let r=JE(e),i=XE++;GE(t,i,e),L[t]=i,M[i]=e,KE[i]=r,qE[i]=new RegExp(e,n?"g":void 0),jE[i]=new RegExp(r,n?"g":void 0)};K("NUMERICIDENTIFIER","0|[1-9]\\d*");K("NUMERICIDENTIFIERLOOSE","\\d+");K("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Mu}*`);K("MAINVERSION",`(${M[L.NUMERICIDENTIFIER]})\\.(${M[L.NUMERICIDENTIFIER]})\\.(${M[L.NUMERICIDENTIFIER]})`);K("MAINVERSIONLOOSE",`(${M[L.NUMERICIDENTIFIERLOOSE]})\\.(${M[L.NUMERICIDENTIFIERLOOSE]})\\.(${M[L.NUMERICIDENTIFIERLOOSE]})`);K("PRERELEASEIDENTIFIER",`(?:${M[L.NONNUMERICIDENTIFIER]}|${M[L.NUMERICIDENTIFIER]})`);K("PRERELEASEIDENTIFIERLOOSE",`(?:${M[L.NONNUMERICIDENTIFIER]}|${M[L.NUMERICIDENTIFIERLOOSE]})`);K("PRERELEASE",`(?:-(${M[L.PRERELEASEIDENTIFIER]}(?:\\.${M[L.PRERELEASEIDENTIFIER]})*))`);K("PRERELEASELOOSE",`(?:-?(${M[L.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${M[L.PRERELEASEIDENTIFIERLOOSE]})*))`);K("BUILDIDENTIFIER",`${Mu}+`);K("BUILD",`(?:\\+(${M[L.BUILDIDENTIFIER]}(?:\\.${M[L.BUILDIDENTIFIER]})*))`);K("FULLPLAIN",`v?${M[L.MAINVERSION]}${M[L.PRERELEASE]}?${M[L.BUILD]}?`);K("FULL",`^${M[L.FULLPLAIN]}$`);K("LOOSEPLAIN",`[v=\\s]*${M[L.MAINVERSIONLOOSE]}${M[L.PRERELEASELOOSE]}?${M[L.BUILD]}?`);K("LOOSE",`^${M[L.LOOSEPLAIN]}$`);K("GTLT","((?:<|>)?=?)");K("XRANGEIDENTIFIERLOOSE",`${M[L.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);K("XRANGEIDENTIFIER",`${M[L.NUMERICIDENTIFIER]}|x|X|\\*`);K("XRANGEPLAIN",`[v=\\s]*(${M[L.XRANGEIDENTIFIER]})(?:\\.(${M[L.XRANGEIDENTIFIER]})(?:\\.(${M[L.XRANGEIDENTIFIER]})(?:${M[L.PRERELEASE]})?${M[L.BUILD]}?)?)?`);K("XRANGEPLAINLOOSE",`[v=\\s]*(${M[L.XRANGEIDENTIFIERLOOSE]})(?:\\.(${M[L.XRANGEIDENTIFIERLOOSE]})(?:\\.(${M[L.XRANGEIDENTIFIERLOOSE]})(?:${M[L.PRERELEASELOOSE]})?${M[L.BUILD]}?)?)?`);K("XRANGE",`^${M[L.GTLT]}\\s*${M[L.XRANGEPLAIN]}$`);K("XRANGELOOSE",`^${M[L.GTLT]}\\s*${M[L.XRANGEPLAINLOOSE]}$`);K("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Du}})(?:\\.(\\d{1,${Du}}))?(?:\\.(\\d{1,${Du}}))?`);K("COERCE",`${M[L.COERCEPLAIN]}(?:$|[^\\d])`);K("COERCEFULL",M[L.COERCEPLAIN]+`(?:${M[L.PRERELEASE]})?(?:${M[L.BUILD]})?(?:$|[^\\d])`);K("COERCERTL",M[L.COERCE],!0);K("COERCERTLFULL",M[L.COERCEFULL],!0);K("LONETILDE","(?:~>?)");K("TILDETRIM",`(\\s*)${M[L.LONETILDE]}\\s+`,!0);zt.tildeTrimReplace="$1~";K("TILDE",`^${M[L.LONETILDE]}${M[L.XRANGEPLAIN]}$`);K("TILDELOOSE",`^${M[L.LONETILDE]}${M[L.XRANGEPLAINLOOSE]}$`);K("LONECARET","(?:\\^)");K("CARETTRIM",`(\\s*)${M[L.LONECARET]}\\s+`,!0);zt.caretTrimReplace="$1^";K("CARET",`^${M[L.LONECARET]}${M[L.XRANGEPLAIN]}$`);K("CARETLOOSE",`^${M[L.LONECARET]}${M[L.XRANGEPLAINLOOSE]}$`);K("COMPARATORLOOSE",`^${M[L.GTLT]}\\s*(${M[L.LOOSEPLAIN]})$|^$`);K("COMPARATOR",`^${M[L.GTLT]}\\s*(${M[L.FULLPLAIN]})$|^$`);K("COMPARATORTRIM",`(\\s*)${M[L.GTLT]}\\s*(${M[L.LOOSEPLAIN]}|${M[L.XRANGEPLAIN]})`,!0);zt.comparatorTrimReplace="$1$2$3";K("HYPHENRANGE",`^\\s*(${M[L.XRANGEPLAIN]})\\s+-\\s+(${M[L.XRANGEPLAIN]})\\s*$`);K("HYPHENRANGELOOSE",`^\\s*(${M[L.XRANGEPLAINLOOSE]})\\s+-\\s+(${M[L.XRANGEPLAINLOOSE]})\\s*$`);K("STAR","(<|>)?=?\\s*\\*");K("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");K("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Ss=U((wL,Pp)=>{"use strict";var QE=Object.freeze({loose:!0}),eC=Object.freeze({}),tC=t=>t?typeof t!="object"?QE:t:eC;Pp.exports=tC});var Lu=U((yL,Op)=>{"use strict";var _p=/^[0-9]+$/,Ip=(t,e)=>{let n=_p.test(t),r=_p.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1},nC=(t,e)=>Ip(e,t);Op.exports={compareIdentifiers:Ip,rcompareIdentifiers:nC}});var We=U((bL,Dp)=>{"use strict";var Fs=_i(),{MAX_LENGTH:Rp,MAX_SAFE_INTEGER:Ps}=Pi(),{safeRe:_s,t:Is}=Br(),rC=Ss(),{compareIdentifiers:Vr}=Lu(),Nu=class t{constructor(e,n){if(n=rC(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Rp)throw new TypeError(`version is longer than ${Rp} characters`);Fs("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let r=e.trim().match(n.loose?_s[Is.LOOSE]:_s[Is.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>Ps||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ps||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ps||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<Ps)return s}return i}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Fs("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Vr(this.major,e.major)||Vr(this.minor,e.minor)||Vr(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let r=this.prerelease[n],i=e.prerelease[n];if(Fs("prerelease compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Vr(r,i)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let r=this.build[n],i=e.build[n];if(Fs("build compare",n,r,i),r===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(r===void 0)return-1;if(r===i)continue;return Vr(r,i)}while(++n)}inc(e,n,r){if(e.startsWith("pre")){if(!n&&r===!1)throw new Error("invalid increment argument: identifier is empty");if(n){let i=`-${n}`.match(this.options.loose?_s[Is.PRERELEASELOOSE]:_s[Is.PRERELEASE]);if(!i||i[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,r);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,r);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,r),this.inc("pre",n,r);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,r),this.inc("pre",n,r);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(r)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(n===this.prerelease.join(".")&&r===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(n){let s=[n,i];r===!1&&(s=[n]),Vr(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Dp.exports=Nu});var Jn=U((kL,Lp)=>{"use strict";var Mp=We(),iC=(t,e,n=!1)=>{if(t instanceof Mp)return t;try{return new Mp(t,e)}catch(r){if(!n)return null;throw r}};Lp.exports=iC});var $p=U((AL,Np)=>{"use strict";var oC=Jn(),sC=(t,e)=>{let n=oC(t,e);return n?n.version:null};Np.exports=sC});var Vp=U((vL,Bp)=>{"use strict";var aC=Jn(),lC=(t,e)=>{let n=aC(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null};Bp.exports=lC});var Wp=U((EL,Up)=>{"use strict";var Yp=We(),uC=(t,e,n,r,i)=>{typeof n=="string"&&(i=r,r=n,n=void 0);try{return new Yp(t instanceof Yp?t.version:t,n).inc(e,r,i).version}catch{return null}};Up.exports=uC});var Gp=U((CL,Hp)=>{"use strict";var zp=Jn(),cC=(t,e)=>{let n=zp(t,null,!0),r=zp(e,null,!0),i=n.compare(r);if(i===0)return null;let s=i>0,a=s?n:r,u=s?r:n,c=!!a.prerelease.length;if(!!u.prerelease.length&&!c){if(!u.patch&&!u.minor)return"major";if(u.compareMain(a)===0)return u.minor&&!u.patch?"minor":"patch"}let h=c?"pre":"";return n.major!==r.major?h+"major":n.minor!==r.minor?h+"minor":n.patch!==r.patch?h+"patch":"prerelease"};Hp.exports=cC});var jp=U((xL,qp)=>{"use strict";var fC=We(),dC=(t,e)=>new fC(t,e).major;qp.exports=dC});var Xp=U((TL,Kp)=>{"use strict";var hC=We(),pC=(t,e)=>new hC(t,e).minor;Kp.exports=pC});var Jp=U((SL,Zp)=>{"use strict";var mC=We(),gC=(t,e)=>new mC(t,e).patch;Zp.exports=gC});var em=U((FL,Qp)=>{"use strict";var wC=Jn(),yC=(t,e)=>{let n=wC(t,e);return n&&n.prerelease.length?n.prerelease:null};Qp.exports=yC});var Et=U((PL,nm)=>{"use strict";var tm=We(),bC=(t,e,n)=>new tm(t,n).compare(new tm(e,n));nm.exports=bC});var im=U((_L,rm)=>{"use strict";var kC=Et(),AC=(t,e,n)=>kC(e,t,n);rm.exports=AC});var sm=U((IL,om)=>{"use strict";var vC=Et(),EC=(t,e)=>vC(t,e,!0);om.exports=EC});var Os=U((OL,lm)=>{"use strict";var am=We(),CC=(t,e,n)=>{let r=new am(t,n),i=new am(e,n);return r.compare(i)||r.compareBuild(i)};lm.exports=CC});var cm=U((RL,um)=>{"use strict";var xC=Os(),TC=(t,e)=>t.sort((n,r)=>xC(n,r,e));um.exports=TC});var dm=U((DL,fm)=>{"use strict";var SC=Os(),FC=(t,e)=>t.sort((n,r)=>SC(r,n,e));fm.exports=FC});var Ii=U((ML,hm)=>{"use strict";var PC=Et(),_C=(t,e,n)=>PC(t,e,n)>0;hm.exports=_C});var Rs=U((LL,pm)=>{"use strict";var IC=Et(),OC=(t,e,n)=>IC(t,e,n)<0;pm.exports=OC});var $u=U((NL,mm)=>{"use strict";var RC=Et(),DC=(t,e,n)=>RC(t,e,n)===0;mm.exports=DC});var Bu=U(($L,gm)=>{"use strict";var MC=Et(),LC=(t,e,n)=>MC(t,e,n)!==0;gm.exports=LC});var Ds=U((BL,wm)=>{"use strict";var NC=Et(),$C=(t,e,n)=>NC(t,e,n)>=0;wm.exports=$C});var Ms=U((VL,ym)=>{"use strict";var BC=Et(),VC=(t,e,n)=>BC(t,e,n)<=0;ym.exports=VC});var Vu=U((YL,bm)=>{"use strict";var YC=$u(),UC=Bu(),WC=Ii(),zC=Ds(),HC=Rs(),GC=Ms(),qC=(t,e,n,r)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return YC(t,n,r);case"!=":return UC(t,n,r);case">":return WC(t,n,r);case">=":return zC(t,n,r);case"<":return HC(t,n,r);case"<=":return GC(t,n,r);default:throw new TypeError(`Invalid operator: ${e}`)}};bm.exports=qC});var Am=U((UL,km)=>{"use strict";var jC=We(),KC=Jn(),{safeRe:Ls,t:Ns}=Br(),XC=(t,e)=>{if(t instanceof jC)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?Ls[Ns.COERCEFULL]:Ls[Ns.COERCE]);else{let c=e.includePrerelease?Ls[Ns.COERCERTLFULL]:Ls[Ns.COERCERTL],d;for(;(d=c.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||d.index+d[0].length!==n.index+n[0].length)&&(n=d),c.lastIndex=d.index+d[1].length+d[2].length;c.lastIndex=-1}if(n===null)return null;let r=n[2],i=n[3]||"0",s=n[4]||"0",a=e.includePrerelease&&n[5]?`-${n[5]}`:"",u=e.includePrerelease&&n[6]?`+${n[6]}`:"";return KC(`${r}.${i}.${s}${a}${u}`,e)};km.exports=XC});var Em=U((WL,vm)=>{"use strict";var Yu=class{constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(e,n)}return this}};vm.exports=Yu});var Ct=U((zL,Sm)=>{"use strict";var ZC=/\s+/g,Uu=class t{constructor(e,n){if(n=QC(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof Wu)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(ZC," "),this.set=this.raw.split("||").map(r=>this.parseRange(r.trim())).filter(r=>r.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let r=this.set[0];if(this.set=this.set.filter(i=>!xm(i[0])),this.set.length===0)this.set=[r];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&sx(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let r=0;r<n.length;r++)r>0&&(this.formatted+=" "),this.formatted+=n[r].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let r=((this.options.includePrerelease&&ix)|(this.options.loose&&ox))+":"+e,i=Cm.get(r);if(i)return i;let s=this.options.loose,a=s?at[Qe.HYPHENRANGELOOSE]:at[Qe.HYPHENRANGE];e=e.replace(a,gx(this.options.includePrerelease)),he("hyphen replace",e),e=e.replace(at[Qe.COMPARATORTRIM],tx),he("comparator trim",e),e=e.replace(at[Qe.TILDETRIM],nx),he("tilde trim",e),e=e.replace(at[Qe.CARETTRIM],rx),he("caret trim",e);let u=e.split(" ").map(m=>ax(m,this.options)).join(" ").split(/\s+/).map(m=>mx(m,this.options));s&&(u=u.filter(m=>(he("loose invalid filter",m,this.options),!!m.match(at[Qe.COMPARATORLOOSE])))),he("range list",u);let c=new Map,d=u.map(m=>new Wu(m,this.options));for(let m of d){if(xm(m))return[m];c.set(m.value,m)}c.size>1&&c.has("")&&c.delete("");let h=[...c.values()];return Cm.set(r,h),h}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(r=>Tm(r,n)&&e.set.some(i=>Tm(i,n)&&r.every(s=>i.every(a=>s.intersects(a,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new ex(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(wx(this.set[n],e,this.options))return!0;return!1}};Sm.exports=Uu;var JC=Em(),Cm=new JC,QC=Ss(),Wu=Oi(),he=_i(),ex=We(),{safeRe:at,t:Qe,comparatorTrimReplace:tx,tildeTrimReplace:nx,caretTrimReplace:rx}=Br(),{FLAG_INCLUDE_PRERELEASE:ix,FLAG_LOOSE:ox}=Pi(),xm=t=>t.value==="<0.0.0-0",sx=t=>t.value==="",Tm=(t,e)=>{let n=!0,r=t.slice(),i=r.pop();for(;n&&r.length;)n=r.every(s=>i.intersects(s,e)),i=r.pop();return n},ax=(t,e)=>(he("comp",t,e),t=cx(t,e),he("caret",t),t=lx(t,e),he("tildes",t),t=dx(t,e),he("xrange",t),t=px(t,e),he("stars",t),t),et=t=>!t||t.toLowerCase()==="x"||t==="*",lx=(t,e)=>t.trim().split(/\s+/).map(n=>ux(n,e)).join(" "),ux=(t,e)=>{let n=e.loose?at[Qe.TILDELOOSE]:at[Qe.TILDE];return t.replace(n,(r,i,s,a,u)=>{he("tilde",t,r,i,s,a,u);let c;return et(i)?c="":et(s)?c=`>=${i}.0.0 <${+i+1}.0.0-0`:et(a)?c=`>=${i}.${s}.0 <${i}.${+s+1}.0-0`:u?(he("replaceTilde pr",u),c=`>=${i}.${s}.${a}-${u} <${i}.${+s+1}.0-0`):c=`>=${i}.${s}.${a} <${i}.${+s+1}.0-0`,he("tilde return",c),c})},cx=(t,e)=>t.trim().split(/\s+/).map(n=>fx(n,e)).join(" "),fx=(t,e)=>{he("caret",t,e);let n=e.loose?at[Qe.CARETLOOSE]:at[Qe.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(i,s,a,u,c)=>{he("caret",t,i,s,a,u,c);let d;return et(s)?d="":et(a)?d=`>=${s}.0.0${r} <${+s+1}.0.0-0`:et(u)?s==="0"?d=`>=${s}.${a}.0${r} <${s}.${+a+1}.0-0`:d=`>=${s}.${a}.0${r} <${+s+1}.0.0-0`:c?(he("replaceCaret pr",c),s==="0"?a==="0"?d=`>=${s}.${a}.${u}-${c} <${s}.${a}.${+u+1}-0`:d=`>=${s}.${a}.${u}-${c} <${s}.${+a+1}.0-0`:d=`>=${s}.${a}.${u}-${c} <${+s+1}.0.0-0`):(he("no pr"),s==="0"?a==="0"?d=`>=${s}.${a}.${u}${r} <${s}.${a}.${+u+1}-0`:d=`>=${s}.${a}.${u}${r} <${s}.${+a+1}.0-0`:d=`>=${s}.${a}.${u} <${+s+1}.0.0-0`),he("caret return",d),d})},dx=(t,e)=>(he("replaceXRanges",t,e),t.split(/\s+/).map(n=>hx(n,e)).join(" ")),hx=(t,e)=>{t=t.trim();let n=e.loose?at[Qe.XRANGELOOSE]:at[Qe.XRANGE];return t.replace(n,(r,i,s,a,u,c)=>{he("xRange",t,r,i,s,a,u,c);let d=et(s),h=d||et(a),m=h||et(u),w=m;return i==="="&&w&&(i=""),c=e.includePrerelease?"-0":"",d?i===">"||i==="<"?r="<0.0.0-0":r="*":i&&w?(h&&(a=0),u=0,i===">"?(i=">=",h?(s=+s+1,a=0,u=0):(a=+a+1,u=0)):i==="<="&&(i="<",h?s=+s+1:a=+a+1),i==="<"&&(c="-0"),r=`${i+s}.${a}.${u}${c}`):h?r=`>=${s}.0.0${c} <${+s+1}.0.0-0`:m&&(r=`>=${s}.${a}.0${c} <${s}.${+a+1}.0-0`),he("xRange return",r),r})},px=(t,e)=>(he("replaceStars",t,e),t.trim().replace(at[Qe.STAR],"")),mx=(t,e)=>(he("replaceGTE0",t,e),t.trim().replace(at[e.includePrerelease?Qe.GTE0PRE:Qe.GTE0],"")),gx=t=>(e,n,r,i,s,a,u,c,d,h,m,w)=>(et(r)?n="":et(i)?n=`>=${r}.0.0${t?"-0":""}`:et(s)?n=`>=${r}.${i}.0${t?"-0":""}`:a?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,et(d)?c="":et(h)?c=`<${+d+1}.0.0-0`:et(m)?c=`<${d}.${+h+1}.0-0`:w?c=`<=${d}.${h}.${m}-${w}`:t?c=`<${d}.${h}.${+m+1}-0`:c=`<=${c}`,`${n} ${c}`.trim()),wx=(t,e,n)=>{for(let r=0;r<t.length;r++)if(!t[r].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let r=0;r<t.length;r++)if(he(t[r].semver),t[r].semver!==Wu.ANY&&t[r].semver.prerelease.length>0){let i=t[r].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}});var Oi=U((HL,Rm)=>{"use strict";var Ri=Symbol("SemVer ANY"),Gu=class t{static get ANY(){return Ri}constructor(e,n){if(n=Fm(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),Hu("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===Ri?this.value="":this.value=this.operator+this.semver.version,Hu("comp",this)}parse(e){let n=this.options.loose?Pm[_m.COMPARATORLOOSE]:Pm[_m.COMPARATOR],r=e.match(n);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=r[1]!==void 0?r[1]:"",this.operator==="="&&(this.operator=""),r[2]?this.semver=new Im(r[2],this.options.loose):this.semver=Ri}toString(){return this.value}test(e){if(Hu("Comparator.test",e,this.options.loose),this.semver===Ri||e===Ri)return!0;if(typeof e=="string")try{e=new Im(e,this.options)}catch{return!1}return zu(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Om(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new Om(this.value,n).test(e.semver):(n=Fm(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||zu(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||zu(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Rm.exports=Gu;var Fm=Ss(),{safeRe:Pm,t:_m}=Br(),zu=Vu(),Hu=_i(),Im=We(),Om=Ct()});var Di=U((GL,Dm)=>{"use strict";var yx=Ct(),bx=(t,e,n)=>{try{e=new yx(e,n)}catch{return!1}return e.test(t)};Dm.exports=bx});var Lm=U((qL,Mm)=>{"use strict";var kx=Ct(),Ax=(t,e)=>new kx(t,e).set.map(n=>n.map(r=>r.value).join(" ").trim().split(" "));Mm.exports=Ax});var $m=U((jL,Nm)=>{"use strict";var vx=We(),Ex=Ct(),Cx=(t,e,n)=>{let r=null,i=null,s=null;try{s=new Ex(e,n)}catch{return null}return t.forEach(a=>{s.test(a)&&(!r||i.compare(a)===-1)&&(r=a,i=new vx(r,n))}),r};Nm.exports=Cx});var Vm=U((KL,Bm)=>{"use strict";var xx=We(),Tx=Ct(),Sx=(t,e,n)=>{let r=null,i=null,s=null;try{s=new Tx(e,n)}catch{return null}return t.forEach(a=>{s.test(a)&&(!r||i.compare(a)===1)&&(r=a,i=new xx(r,n))}),r};Bm.exports=Sx});var Wm=U((XL,Um)=>{"use strict";var qu=We(),Fx=Ct(),Ym=Ii(),Px=(t,e)=>{t=new Fx(t,e);let n=new qu("0.0.0");if(t.test(n)||(n=new qu("0.0.0-0"),t.test(n)))return n;n=null;for(let r=0;r<t.set.length;++r){let i=t.set[r],s=null;i.forEach(a=>{let u=new qu(a.semver.version);switch(a.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!s||Ym(u,s))&&(s=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${a.operator}`)}}),s&&(!n||Ym(n,s))&&(n=s)}return n&&t.test(n)?n:null};Um.exports=Px});var Hm=U((ZL,zm)=>{"use strict";var _x=Ct(),Ix=(t,e)=>{try{return new _x(t,e).range||"*"}catch{return null}};zm.exports=Ix});var $s=U((JL,Km)=>{"use strict";var Ox=We(),jm=Oi(),{ANY:Rx}=jm,Dx=Ct(),Mx=Di(),Gm=Ii(),qm=Rs(),Lx=Ms(),Nx=Ds(),$x=(t,e,n,r)=>{t=new Ox(t,r),e=new Dx(e,r);let i,s,a,u,c;switch(n){case">":i=Gm,s=Lx,a=qm,u=">",c=">=";break;case"<":i=qm,s=Nx,a=Gm,u="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Mx(t,e,r))return!1;for(let d=0;d<e.set.length;++d){let h=e.set[d],m=null,w=null;if(h.forEach(g=>{g.semver===Rx&&(g=new jm(">=0.0.0")),m=m||g,w=w||g,i(g.semver,m.semver,r)?m=g:a(g.semver,w.semver,r)&&(w=g)}),m.operator===u||m.operator===c||(!w.operator||w.operator===u)&&s(t,w.semver))return!1;if(w.operator===c&&a(t,w.semver))return!1}return!0};Km.exports=$x});var Zm=U((QL,Xm)=>{"use strict";var Bx=$s(),Vx=(t,e,n)=>Bx(t,e,">",n);Xm.exports=Vx});var Qm=U((eN,Jm)=>{"use strict";var Yx=$s(),Ux=(t,e,n)=>Yx(t,e,"<",n);Jm.exports=Ux});var ng=U((tN,tg)=>{"use strict";var eg=Ct(),Wx=(t,e,n)=>(t=new eg(t,n),e=new eg(e,n),t.intersects(e,n));tg.exports=Wx});var ig=U((nN,rg)=>{"use strict";var zx=Di(),Hx=Et();rg.exports=(t,e,n)=>{let r=[],i=null,s=null,a=t.sort((h,m)=>Hx(h,m,n));for(let h of a)zx(h,e,n)?(s=h,i||(i=h)):(s&&r.push([i,s]),s=null,i=null);i&&r.push([i,null]);let u=[];for(let[h,m]of r)h===m?u.push(h):!m&&h===a[0]?u.push("*"):m?h===a[0]?u.push(`<=${m}`):u.push(`${h} - ${m}`):u.push(`>=${h}`);let c=u.join(" || "),d=typeof e.raw=="string"?e.raw:String(e);return c.length<d.length?c:e}});var cg=U((rN,ug)=>{"use strict";var og=Ct(),Ku=Oi(),{ANY:ju}=Ku,Mi=Di(),Xu=Et(),Gx=(t,e,n={})=>{if(t===e)return!0;t=new og(t,n),e=new og(e,n);let r=!1;e:for(let i of t.set){for(let s of e.set){let a=jx(i,s,n);if(r=r||a!==null,a)continue e}if(r)return!1}return!0},qx=[new Ku(">=0.0.0-0")],sg=[new Ku(">=0.0.0")],jx=(t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===ju){if(e.length===1&&e[0].semver===ju)return!0;n.includePrerelease?t=qx:t=sg}if(e.length===1&&e[0].semver===ju){if(n.includePrerelease)return!0;e=sg}let r=new Set,i,s;for(let g of t)g.operator===">"||g.operator===">="?i=ag(i,g,n):g.operator==="<"||g.operator==="<="?s=lg(s,g,n):r.add(g.semver);if(r.size>1)return null;let a;if(i&&s){if(a=Xu(i.semver,s.semver,n),a>0)return null;if(a===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let g of r){if(i&&!Mi(g,String(i),n)||s&&!Mi(g,String(s),n))return null;for(let v of e)if(!Mi(g,String(v),n))return!1;return!0}let u,c,d,h,m=s&&!n.includePrerelease&&s.semver.prerelease.length?s.semver:!1,w=i&&!n.includePrerelease&&i.semver.prerelease.length?i.semver:!1;m&&m.prerelease.length===1&&s.operator==="<"&&m.prerelease[0]===0&&(m=!1);for(let g of e){if(h=h||g.operator===">"||g.operator===">=",d=d||g.operator==="<"||g.operator==="<=",i){if(w&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===w.major&&g.semver.minor===w.minor&&g.semver.patch===w.patch&&(w=!1),g.operator===">"||g.operator===">="){if(u=ag(i,g,n),u===g&&u!==i)return!1}else if(i.operator===">="&&!Mi(i.semver,String(g),n))return!1}if(s){if(m&&g.semver.prerelease&&g.semver.prerelease.length&&g.semver.major===m.major&&g.semver.minor===m.minor&&g.semver.patch===m.patch&&(m=!1),g.operator==="<"||g.operator==="<="){if(c=lg(s,g,n),c===g&&c!==s)return!1}else if(s.operator==="<="&&!Mi(s.semver,String(g),n))return!1}if(!g.operator&&(s||i)&&a!==0)return!1}return!(i&&d&&!s&&a!==0||s&&h&&!i&&a!==0||w||m)},ag=(t,e,n)=>{if(!t)return e;let r=Xu(t.semver,e.semver,n);return r>0?t:r<0||e.operator===">"&&t.operator===">="?e:t},lg=(t,e,n)=>{if(!t)return e;let r=Xu(t.semver,e.semver,n);return r<0?t:r>0||e.operator==="<"&&t.operator==="<="?e:t};ug.exports=Gx});var pg=U((iN,hg)=>{"use strict";var Zu=Br(),fg=Pi(),Kx=We(),dg=Lu(),Xx=Jn(),Zx=$p(),Jx=Vp(),Qx=Wp(),e2=Gp(),t2=jp(),n2=Xp(),r2=Jp(),i2=em(),o2=Et(),s2=im(),a2=sm(),l2=Os(),u2=cm(),c2=dm(),f2=Ii(),d2=Rs(),h2=$u(),p2=Bu(),m2=Ds(),g2=Ms(),w2=Vu(),y2=Am(),b2=Oi(),k2=Ct(),A2=Di(),v2=Lm(),E2=$m(),C2=Vm(),x2=Wm(),T2=Hm(),S2=$s(),F2=Zm(),P2=Qm(),_2=ng(),I2=ig(),O2=cg();hg.exports={parse:Xx,valid:Zx,clean:Jx,inc:Qx,diff:e2,major:t2,minor:n2,patch:r2,prerelease:i2,compare:o2,rcompare:s2,compareLoose:a2,compareBuild:l2,sort:u2,rsort:c2,gt:f2,lt:d2,eq:h2,neq:p2,gte:m2,lte:g2,cmp:w2,coerce:y2,Comparator:b2,Range:k2,satisfies:A2,toComparators:v2,maxSatisfying:E2,minSatisfying:C2,minVersion:x2,validRange:T2,outside:S2,gtr:F2,ltr:P2,intersects:_2,simplifyRange:I2,subset:O2,SemVer:Kx,re:Zu.re,src:Zu.src,tokens:Zu.t,SEMVER_SPEC_VERSION:fg.SEMVER_SPEC_VERSION,RELEASE_TYPES:fg.RELEASE_TYPES,compareIdentifiers:dg.compareIdentifiers,rcompareIdentifiers:dg.rcompareIdentifiers}});var U2={};jc(U2,{default:()=>Y2});module.exports=hb(U2);var ka=require("electron"),lc=Re(nn(),1),Rt=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function It(){}async function Lt(){}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Ga=Number.POSITIVE_INFINITY;function Ln(...t){let e=t.filter(s=>!!s);if(typeof AbortSignal.any=="function")return AbortSignal.any(e);if(e.length===0)return De();if(e.length===1&&e[0])return e[0];let n=new AbortController;for(let s of e)if(s.aborted)return s;let r=[];for(let s of e)r.push(Zc(s,i));return n.signal;function i(s){for(let a of r)a();n.abort(s.reason)}}function De(){return new AbortController().signal}function Xc(t){if(t===Ga)return De();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(t);let e=new AbortController;return window.setTimeout(()=>{e.abort(new Error(`Timed out in ${String(t)} milliseconds`))},t),e.signal}function Zc(t,e){if(t.aborted)return e(t),It;return t.addEventListener("abort",n,{once:!0}),()=>{t.removeEventListener("abort",n)};function n(r){e(r.target)}}function Jc(t,e){return new Promise((n,r)=>{Zc(t,()=>{e?r(t.reason):n(t.reason)})})}var el=Re(ff(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function ei(t,e){let n=t.length,r=0;for(let i=0;i<n;i++){if(!Object.hasOwn(t,i))continue;let s=t[i];e(s,i,t)&&(t[r++]=s)}t.length=r}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Nt=class{eventRefsMap=new Map;off(e,n){let r=this.eventRefsMap.get(e);r&&(ei(r,i=>i.callback!==n),r.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(ei(n,r=>r!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,r){let i=this.eventRefsMap.get(e);i||(i=[],this.eventRefsMap.set(e,i));let s={asyncEvents:this,callback:n,name:e,thisArg:r};return i.push(s),s}once(e,n,r){let i=this.on(e,n,r),s=this.on(e,()=>{this.offref(i),this.offref(s)});return i}trigger(e,...n){let r=this.eventRefsMap.get(e)??[];for(let i of r.slice())this.tryTrigger(i,n)}async triggerAsync(e,...n){let r=this.eventRefsMap.get(e)??[];for(let i of r.slice())await this.tryTriggerAsync(i,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(r){window.setTimeout(()=>{throw r},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(r){window.setTimeout(()=>{throw r},0)}}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Xa="asyncError",ao=new Nt;ao.on(Xa,$b);var lo="An unhandled error occurred executing async operation",hf="    at",Ot=class t extends Error{constructor(e,n,r){super(e,{cause:r}),this.name="CustomStackTraceError",Error.captureStackTrace(this,t);let i=r,s=new Set;for(;i instanceof t;){if(s.has(i))throw new Error("Circular cause detected");s.add(i),i=i.cause}let a=(this.stack??"").split(`
`),u=n.split(`
`);/^\w*Error(?:: |$)/.test(u[0]??"")&&u.splice(0,1),a.splice(1,a.length-1,...u),this.stack=a.join(`
`)}},dr=class t extends Error{constructor(e){super(e),this.name="SilentError",Error.captureStackTrace(this,t)}};function uo(t){ao.trigger(Xa,t)}function co(t){if(!(t instanceof Error))return String(t);let e=t.stack??`${t.name}: ${t.message}`;if(t.cause!==void 0){let n=co(t.cause).split(`
`);e+=`
${df("Caused by:")}`;for(let r of n)r.trim()&&(e+=r.startsWith(hf)?`
${r}`:`
${df(r)}`)}return e}function Xe(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}function $n(t,e){e??=globalThis.console,e.error(co(t))}function pf(t){let e=ao.on(Xa,t);return()=>{ao.offref(e)}}function rn(t){throw t}function df(t){return`${hf} --- ${t} --- (0)`}function $b(t){$n(t)}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Za="38.6.1",fo="obsidian-dev-utils",mf=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;AChDF;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Ja=class{constructor(e){this.value=e}};function Bb(){try{return globalThis.require("obsidian/app")}catch{return globalThis.app??rn(new Error("Obsidian app not found"))}}function on(t,e,n){let i=t??Vb()??globalThis;return i.obsidianDevUtilsState??={},i.obsidianDevUtilsState[e]??=new Ja(n)}function Vb(){return typeof window>"u"?null:Bb()}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Qa="__no-plugin-id-initialized__",gf=Qa;function ho(){return gf}function wf(t){t&&(gf=t)}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var yf=",",po="-";function bf(){return{disable:Yb,enable:Ub,get:mo,set:ti}}function hr(t,e=0){let n=`${t}:${String(e)}`,r=on(null,"debuggers",new Map).value,i=r.get(n);return i||(i=ni()(t),i.log=(s,...a)=>{Wb(t,e,s,...a)},r.set(n,i)),i}function ut(t){let e=ho(),n=e===Qa?"":`${e}:`;return hr(`${n}${fo}:${t}`)}function sn(t,e,n,...r){if(!Af()){t(n,...r);return}t(n,...r,`

---
Context stack trace:
`,vf(e))}function kf(t){let e=ni().enabled(t),n=e?"enabled":"disabled",r=e?"disable":"enable",i=mo();ti(t),hr(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${r} them.`),ti(i)}function Yb(t){let e=new Set(mo());for(let n of ri(t)){if(n.startsWith(po))continue;let r=po+n;e.has(n)&&e.delete(n),e.add(r)}ti(Array.from(e))}function Ub(t){let e=new Set(mo());for(let n of ri(t)){if(!n.startsWith(po)){let r=po+n;e.has(r)&&e.delete(r)}e.add(n)}ti(Array.from(e))}function mo(){return ri(ni().load()??"")}function ni(){return typeof window>"u"?el.default:on(null,"debug",el.default).value}function Af(){return typeof window<"u"}function Wb(t,e,n,...r){if(!ni().enabled(t))return;if(!Af()){console.debug(n,...r);return}let i=4,s=new Error().stack?.split(`
`)??[];s.splice(0,i+e),console.debug(n,...r,`

---
Logger stack trace:
`,vf(s.join(`
`)))}function vf(t){return new Ot("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",t,void 0)}function ti(t){ni().enable(ri(t).join(yf))}function ri(t){return typeof t=="string"?t.split(yf).filter(Boolean):t.flatMap(ri)}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();async function tl(t,e){e??=Xe(1);try{await t()}catch(n){if(n instanceof dr){zb(n,e);return}uo(new Ot(lo,e,n))}}function it(t,e){return e??=Xe(1),(...n)=>{let r=Xe(1);e=`${e??""}
    at --- convertAsyncToSync --- (0)
${r}`,me(()=>t(...n),e)}}function me(t,e){e??=Xe(1),tl(t,e)}function Ef(t,e=0,n,r){r??=De(),r.throwIfAborted(),n??=Xe(1),me(async()=>{await rl(e,r,!0),await t(r)},n)}function zb(t,e){ut("Async:printSilentError")("Silent error",{error:t,stackTrace:e})}var Hb=new WeakSet,go=class{constructor(e){this.result=e}};async function Cf(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}async function wo(t,e,n){let r=ut("Async:retryWithTimeout");n??=Xe(1);let s={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};s.abortSignal?.throwIfAborted(),await nl(s.timeoutInMilliseconds,async a=>{let u=Ln(s.abortSignal,a);u.throwIfAborted();let c=0;for(;!u.aborted;){c++;let d;try{d=await t(u)}catch(h){if(u.aborted||!s.shouldRetryOnError||Hb.has(h))throw new Ot("retryWithTimeout failed",n,h);$n(h),d=!1}if(d){sn(r,n,`Retry completed successfully after ${String(c)} attempts`,{fn:t});return}sn(r,n,`Retry attempt ${String(c)} completed unsuccessfully. Trying again in ${String(s.retryDelayInMilliseconds)} milliseconds`,{fn:t}),await rl(s.retryDelayInMilliseconds,a)}},{retryFn:t},n)}async function nl(t,e,n,r){r??=Xe(1);let i=performance.now(),s=new AbortController;if(await Promise.race([a(),u()]),s.signal.reason instanceof go)return s.signal.reason.result;throw new Ot("Run with timeout failed",r,s.signal.reason);async function a(){try{let c=await e(s.signal),d=performance.now()-i,h=ut("Async:runWithTimeout");sn(h,r??"",`Execution time: ${String(d)} milliseconds`,{context:n,fn:e}),s.abort(new go(c))}catch(c){s.abort(c)}}async function u(){for(;!s.signal.aborted;){if(await rl(t,s.signal),s.signal.aborted)return;let c=performance.now()-i;console.warn(`Timed out after ${String(c)} milliseconds`,{context:n,fn:e});let d=ut("Async:runWithTimeout:timeout");if(!d.enabled){s.abort(new Error(`Timed out after ${String(c)} milliseconds`));return}d(`The execution is not terminated because debugger ${d.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md for more information.`)}}}async function rl(t,e,n){await Jc(Ln(e,Xc(t))),n&&e?.throwIfAborted()}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();async function Gb(t){return await new Promise(e=>{let n=new FileReader;n.addEventListener("loadend",r),n.readAsDataURL(t);function r(){e(n.result)}})}async function xf(t,e){let n=await Gb(t);return new Promise(r=>{let i=new Image;i.addEventListener("load",s),i.src=n;function s(){let a=document.createElement("canvas"),u=a.getContext("2d");if(!u)throw new Error("Could not get 2D context.");let c=i.width,d=i.height;a.width=c,a.height=d,u.fillStyle="#fff",u.fillRect(0,0,c,d),u.save();let h=.5;u.translate(c*h,d*h),u.drawImage(i,0,0,c,d,-c*h,-d*h,c,d),u.restore();let m=a.toDataURL("image/jpeg",e),w=qb(m);r(w)}})}function qb(t){let n=t.split(";base64,")[1];if(!n)throw new Error("Invalid data URL");let r=window.atob(n),i=r.length,s=new Uint8Array(i);for(let a=0;a<i;a++)s[a]=r.charCodeAt(a);return s.buffer}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function yo(t){return t.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Tf(t){try{return new RegExp(t),!0}catch{return!1}}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();async function Bn(t,e,...n){return e??=De(),e.throwIfAborted(),jb(t)?await t(e,...n):t}function jb(t){return typeof t=="function"}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Kb={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"};var Xb={};for(let[t,e]of Object.entries(Kb))Xb[e]=t;function Sf(t,e,n,r){return r??=n,t.slice(0,n)+e+t.slice(r)}function ii(t){return ke(t,/\u00A0|\u202F/g," ").normalize("NFC")}function ke(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(r,...i)=>{let a=typeof i.at(-1)=="object",u=a?i.length-2:i.length-1,c={groups:a?i.at(-1):void 0,missingGroupIndices:[],offset:i.at(u-1),source:i.at(u),substring:r},d=i.slice(0,u-1).map((h,m)=>{if(typeof h=="string")return h;if(typeof h>"u")return c.missingGroupIndices.push(m),"";throw new Error(`Unexpected argument type: ${typeof h}`)});return n(c,...d)??c.substring}))}async function Ff(t,e,n,r){if(r??=De(),r.throwIfAborted(),typeof n=="string")return ke(t,e,n);let i=[];ke(t,e,(a,...u)=>(i.push(()=>Bn(n,r,a,...u)),""));let s=[];for(let a of i)r.throwIfAborted(),s.push(await a());return r.throwIfAborted(),ke(t,e,a=>s.shift()??a.substring)}function bo(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}function pr(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Pf=".",Zb=[{constructor:ArrayBuffer,equalityComparer:Qb},{constructor:Date,equalityComparer:ek},{constructor:RegExp,equalityComparer:nk},{constructor:Map,equalityComparer:tk},{constructor:Set,equalityComparer:rk}];function wt(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,r=e.constructor;if(n!==r)return!1;if(n!==Object){let c=ik(t,e);if(c!==void 0)return c}let i=mr(t),s=mr(e);if(i.length!==s.length)return!1;let a=t,u=e;for(let c of i)if(!s.includes(c)||!wt(a[c],u[c]))return!1;return!0}function _f(t){return typeof t!="object"||t===null?t:"default"in t?t.default:t}function mr(t){let e=[],n=t;for(;n;){let r=Object.getOwnPropertyDescriptors(n);for(let[i,s]of Object.entries(r)){if(i==="__proto__"||typeof s.value=="function")continue;let a=typeof s.get=="function",u=typeof s.set=="function";if(a||u){a&&u&&e.push(i);continue}s.enumerable&&s.writable&&e.push(i)}n=Object.getPrototypeOf(n)}return e.sort()}function kn(t,e){let n=t,r=e.split(Pf);for(let i of r){if(n===void 0)return;n=n[i]}return n}function ol(t){return t==null?t:Object.getPrototypeOf(t)}function If(t,e){for(let[n,r]of Object.entries(t))r===void 0&&!e?.includes(n)&&delete t[n];return t}function sl(t,e,n){let r=new Error(`Property path ${e} not found`),i=t,s=e.split(Pf);for(let u of s.slice(0,-1)){if(i===void 0)throw r;i=i[u]}let a=s.at(-1);if(i===void 0||a===void 0)throw r;i[a]=n}function gr(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:il("CircularReference"),maxDepthLimitReached:il("MaxDepthLimitReached"),toJSONFailed:il("ToJSONFailed")}},r={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};r.maxDepth===-1&&(r.maxDepth=1/0);let i=[],a=ko(t,"",0,!0,r,i,new WeakSet),u=JSON.stringify(a,null,r.space)??"";return u=ke(u,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(c,d,h)=>Jb({functionTexts:i,index:h?parseInt(h,10):0,key:d,substitutions:r.tokenSubstitutions})),u}function Jb(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??rn(new Error(`Function with index ${String(t.index)} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${String(t.index)})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}function Qb(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),r=new Uint8Array(e);return wt(n,r)}function ek(t,e){return t.getTime()===e.getTime()}function tk(t,e){if(t.size!==e.size)return!1;for(let[n,r]of t.entries())if(!e.has(n)||!wt(r,e.get(n)))return!1;return!0}function nk(t,e){return t.source===e.source&&t.flags===e.flags}function rk(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let r=!1;for(let i of e)if(wt(n,i)){r=!0;break}if(!r)return!1}return!0}function ik(t,e){for(let{constructor:n,equalityComparer:r}of Zb)if(t instanceof n&&e instanceof n)return r(t,e)}function ok(t,e,n,r,i,s){return e>r.maxDepth?wr("MaxDepthLimitReachedArray",t.length):t.map((a,u)=>ko(a,String(u),e+1,n,r,i,s))}function sk(t,e,n){if(n.shouldHandleCircularReferences)return wr("CircularReference");let r=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${r}'
--- property '${e}' closes the circle`)}function ak(t,e,n){if(n.functionHandlingMode==="exclude")return;let r=e.length,i=n.functionHandlingMode==="full"?String(t):`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(i),wr("Function",r)}function lk(t,e,n,r,i,s,a){if(a.has(t))return sk(t,e,i);if(a.add(t),r){let u=ck(t,e,n,i,s,a);if(u!==void 0)return u}return Array.isArray(t)?ok(t,n,r,i,s,a):n>i.maxDepth?wr("MaxDepthLimitReached"):t instanceof Error&&i.shouldHandleErrors?co(t):uk(t,n,r,i,s,a)}function uk(t,e,n,r,i,s){let a=Object.entries(t);return r.shouldSortKeys&&a.sort(([u],[c])=>u.localeCompare(c)),Object.fromEntries(a.map(([u,c])=>[u,ko(c,u,e+1,n,r,i,s)]))}function il(t){return`{ "[[${t}]]": null }`}function wr(t,e){return`[[${t}${e?String(e):""}]]`}function ko(t,e,n,r,i,s,a){return t===void 0?n===0||i.shouldHandleUndefined?wr("Undefined"):void 0:typeof t=="function"?ak(t,s,i):typeof t!="object"||t===null?t:lk(t,e,n,r,i,s,a)}function ck(t,e,n,r,i,s){let a=t.toJSON;if(typeof a=="function")try{let u=a.call(t,e);return ko(u,e,n,!1,r,i,s)}catch(u){if(r.shouldCatchToJSONErrors)return wr("ToJSONFailed");throw u}}var fk=require("obsidian"),Df=require("obsidian"),Mf=require("obsidian"),OT=require("obsidian"),RT=require("obsidian"),Of=class{data=new Map;add(t,e){let n=this.get(t);n||(n=[],this.data.set(t,n)),n.includes(e)||n.push(e)}remove(t,e){let n=this.get(t);n&&(n.remove(e),n.length===0&&this.clear(t))}get(t){return this.data.get(t)||null}keys(){return Array.from(this.data.keys())}clear(t){this.data.delete(t)}clearAll(){this.data.clear()}contains(t,e){return!!this.get(t)?.contains(e)}count(){let t=0;for(let e of this.keys())t+=this.get(e)?.length??0;return t}};var yt={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},Rf={AllProperties:"all-properties",Audio:"audio",Backlink:yt.Backlink,Bases:yt.Bases,Bookmarks:yt.Bookmarks,Canvas:yt.Canvas,Empty:"empty",FileExplorer:yt.FileExplorer,FileProperties:"file-properties",Graph:yt.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:yt.OutgoingLink,Outline:yt.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function dk(){return Df.TFile}function hk(){return Mf.TFolder}function bt(t){return t.replace(/\/?[^\/]*$/,"")||"/"}function Ao(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(hk())(t.vault,e),n.parent=Ao(t,bt(e)),n.deleted=!0,n)}function Lf(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(dk())(t.vault,e),n.parent=Ao(t,bt(e)),n.deleted=!0,n)}function an(t){return!!t.position}function ct(t){return!!t.key}var al=Re(Bf(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var mk=/[a-zA-Z]:\/[^:]*$/,Bt=al.default.posix,BT=Bt.delimiter,VT=al.default.posix.sep,xe=Bt.basename,ge=Bt.dirname,Ve=Bt.extname,YT=Bt.format;var Ae=Bt.join,UT=Bt.normalize,WT=Bt.parse,br=Bt.relative;function Vt(t,e){return e?`${t}.${e}`:t}function Vf(...t){let e=Bt.resolve(...t);return e=gk(e),mk.exec(e)?.[0]??e}function gk(t){return ke(t,"\\","/")}var ln=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var wk="base",yk="canvas",Uf="md";function ll(t,e,n){if(kt(e))return e.extension===n;if(typeof e=="string"){let r=ot(t,e);return r?r.extension===n:Ve(e).slice(1)===n}return!1}function Vn(t,e,n){if(e===null)return null;if(Wf(e))return e;let r=Yf(t,e,n);if(r)return r;let i=Hf(e);return i===e?null:Yf(t,i,n)}function _e(t,e,n,r){let i=ot(t,e,r);if(!i)if(n)i=Lf(t,e);else throw new Error(`File not found: ${e}`);return i}function ot(t,e,n){let r=Vn(t,e,n);return kt(r)?r:null}function oi(t,e,n,r){let i=Yt(t,e,r);if(!i)if(n)i=Ao(t,e);else throw new Error(`Folder not found: ${e}`);return i}function Yt(t,e,n){let r=Vn(t,e,n);return ul(r)?r:null}function ve(t,e){if(Wf(e))return e.path;let n=Vn(t,e);return n?n.path:Hf(e)}function Wf(t){return t instanceof ln.TAbstractFile}function bk(t,e){return ll(t,e,wk)}function un(t,e){return ll(t,e,yk)}function kt(t){return t instanceof ln.TFile}function ul(t){return t instanceof ln.TFolder}function cn(t,e){return ll(t,e,Uf)}function si(t,e){return cn(t,e)||un(t,e)||bk(t,e)}function zf(t,e){return cn(t,e)?bo(e.path,`.${Uf}`):e.path}function Yf(t,e,n){return n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}function Hf(t){return(0,ln.normalizePath)(Vf("/",t))}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Ar="__DUMMY__";async function cl(t,e,n,r){let i=ve(t,e),s=ve(t,n),a=_e(t,s,!0),u=Ve(i),c=xe(i,u),d=t.vault.getAvailablePathForAttachments;return d.isExtended?d(c,u.slice(1),a,!0,r):await fl(t,c,u.slice(1),a,!0,r)}async function kr(t,e){return bt(await cl(t,Ar,e,!0))}async function fl(t,e,n,r,i,s){let a=t.vault.getConfig("attachmentFolderPath"),u=a==="."||a==="./",c=null;a.startsWith("./")&&(c=pr(a,"./")),u?a=r?r.parent?.path??"":"":c&&(a=(r?r.parent?.getParentPrefix()??"":"")+c),a=ii(Gf(a)),e=ii(Gf(e));let d=Yt(t,a,!0);!d&&c&&(i?d=oi(t,a,!0):d=await t.vault.createFolder(a));let h=d?.getParentPrefix()??"";return s?Vt(h+e,n):t.vault.getAvailablePath(h+e,n)}async function dl(t,e){let n=await kr(t,e),r=await kr(t,Ae(ge(e),"DUMMY_FILE.md"));return n!==r}function Gf(t){return t=ke(t,/(?:[\\/])+/g,"/"),t=ke(t,/^\/+|\/+$/g,""),t||"/"}var Qo=require("obsidian");var kk={};function Yn(t,e){let n=e||kk,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return jf(t,r,i)}function jf(t,e,n){if(Ak(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return qf(t.children,e,n)}return Array.isArray(t)?qf(t,e,n):""}function qf(t,e,n){let r=[],i=-1;for(;++i<t.length;)r[i]=jf(t[i],e,n);return r.join("")}function Ak(t){return!!(t&&typeof t=="object")}var Kf=document.createElement("i");function vr(t){let e="&"+t+";";Kf.innerHTML=e;let n=Kf.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}function Me(t,e,n,r){let i=t.length,s=0,a;if(e<0?e=-e>i?0:i+e:e=e>i?i:e,n=n>0?n:0,r.length<1e4)a=Array.from(r),a.unshift(e,n),t.splice(...a);else for(n&&t.splice(e,n);s<r.length;)a=r.slice(s,s+1e4),a.unshift(e,0),t.splice(...a),s+=1e4,e+=1e4}function Ze(t,e){return t.length>0?(Me(t,t.length,0,e),t):e}var Xf={}.hasOwnProperty;function Zf(t){let e={},n=-1;for(;++n<t.length;)vk(e,t[n]);return e}function vk(t,e){let n;for(n in e){let i=(Xf.call(t,n)?t[n]:void 0)||(t[n]={}),s=e[n],a;if(s)for(a in s){Xf.call(i,a)||(i[a]=[]);let u=s[a];Ek(i[a],Array.isArray(u)?u:u?[u]:[])}}}function Ek(t,e){let n=-1,r=[];for(;++n<e.length;)(e[n].add==="after"?t:r).push(e[n]);Me(t,0,0,r)}function vo(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}function fn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}var ft=An(/[A-Za-z]/),Je=An(/[\dA-Za-z]/),Jf=An(/[#-'*+\--9=?A-Z^-~]/);function ai(t){return t!==null&&(t<32||t===127)}var li=An(/\d/),Qf=An(/[\dA-Fa-f]/),ed=An(/[!-/:-@[-`{-~]/);function B(t){return t!==null&&t<-2}function Ce(t){return t!==null&&(t<0||t===32)}function q(t){return t===-2||t===-1||t===32}var td=An(/\p{P}|\p{S}/u),nd=An(/\s/);function An(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}function j(t,e,n,r){let i=r?r-1:Number.POSITIVE_INFINITY,s=0;return a;function a(c){return q(c)?(t.enter(n),u(c)):e(c)}function u(c){return q(c)&&s++<i?(t.consume(c),u):(t.exit(n),e(c))}}var rd={tokenize:Ck};function Ck(t){let e=t.attempt(this.parser.constructs.contentInitial,r,i),n;return e;function r(u){if(u===null){t.consume(u);return}return t.enter("lineEnding"),t.consume(u),t.exit("lineEnding"),j(t,e,"linePrefix")}function i(u){return t.enter("paragraph"),s(u)}function s(u){let c=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,a(u)}function a(u){if(u===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(u);return}return B(u)?(t.consume(u),t.exit("chunkText"),s):(t.consume(u),a)}}var od={tokenize:xk},id={tokenize:Tk};function xk(t){let e=this,n=[],r=0,i,s,a;return u;function u(_){if(r<n.length){let Y=n[r];return e.containerState=Y[1],t.attempt(Y[0].continuation,c,d)(_)}return d(_)}function c(_){if(r++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,i&&F();let Y=e.events.length,W=Y,T;for(;W--;)if(e.events[W][0]==="exit"&&e.events[W][1].type==="chunkFlow"){T=e.events[W][1].end;break}E(r);let ne=Y;for(;ne<e.events.length;)e.events[ne][1].end={...T},ne++;return Me(e.events,W+1,0,e.events.slice(Y)),e.events.length=ne,d(_)}return u(_)}function d(_){if(r===n.length){if(!i)return w(_);if(i.currentConstruct&&i.currentConstruct.concrete)return v(_);e.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(id,h,m)(_)}function h(_){return i&&F(),E(r),w(_)}function m(_){return e.parser.lazy[e.now().line]=r!==n.length,a=e.now().offset,v(_)}function w(_){return e.containerState={},t.attempt(id,g,v)(_)}function g(_){return r++,n.push([e.currentConstruct,e.containerState]),w(_)}function v(_){if(_===null){i&&F(),E(0),t.consume(_);return}return i=i||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:s}),P(_)}function P(_){if(_===null){x(t.exit("chunkFlow"),!0),E(0),t.consume(_);return}return B(_)?(t.consume(_),x(t.exit("chunkFlow")),r=0,e.interrupt=void 0,u):(t.consume(_),P)}function x(_,Y){let W=e.sliceStream(_);if(Y&&W.push(null),_.previous=s,s&&(s.next=_),s=_,i.defineSkip(_.start),i.write(W),e.parser.lazy[_.start.line]){let T=i.events.length;for(;T--;)if(i.events[T][1].start.offset<a&&(!i.events[T][1].end||i.events[T][1].end.offset>a))return;let ne=e.events.length,X=ne,Z,ae;for(;X--;)if(e.events[X][0]==="exit"&&e.events[X][1].type==="chunkFlow"){if(Z){ae=e.events[X][1].end;break}Z=!0}for(E(r),T=ne;T<e.events.length;)e.events[T][1].end={...ae},T++;Me(e.events,X+1,0,e.events.slice(ne)),e.events.length=T}}function E(_){let Y=n.length;for(;Y-- >_;){let W=n[Y];e.containerState=W[1],W[0].exit.call(e,t)}n.length=_}function F(){i.write([null]),s=void 0,i=void 0,e.containerState._closeFlow=void 0}}function Tk(t,e,n){return j(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Er(t){if(t===null||Ce(t)||nd(t))return 1;if(td(t))return 2}function Cr(t,e,n){let r=[],i=-1;for(;++i<t.length;){let s=t[i].resolveAll;s&&!r.includes(s)&&(e=s(e,n),r.push(s))}return e}var ui={name:"attention",resolveAll:Sk,tokenize:Fk};function Sk(t,e){let n=-1,r,i,s,a,u,c,d,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(r=n;r--;)if(t[r][0]==="exit"&&t[r][1].type==="attentionSequence"&&t[r][1]._open&&e.sliceSerialize(t[r][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[r][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[r][1].end.offset-t[r][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;c=t[r][1].end.offset-t[r][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let m={...t[r][1].end},w={...t[n][1].start};sd(m,-c),sd(w,c),a={type:c>1?"strongSequence":"emphasisSequence",start:m,end:{...t[r][1].end}},u={type:c>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:w},s={type:c>1?"strongText":"emphasisText",start:{...t[r][1].end},end:{...t[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...a.start},end:{...u.end}},t[r][1].end={...a.start},t[n][1].start={...u.end},d=[],t[r][1].end.offset-t[r][1].start.offset&&(d=Ze(d,[["enter",t[r][1],e],["exit",t[r][1],e]])),d=Ze(d,[["enter",i,e],["enter",a,e],["exit",a,e],["enter",s,e]]),d=Ze(d,Cr(e.parser.constructs.insideSpan.null,t.slice(r+1,n),e)),d=Ze(d,[["exit",s,e],["enter",u,e],["exit",u,e],["exit",i,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,d=Ze(d,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Me(t,r-1,n-r+3,d),n=r+d.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}function Fk(t,e){let n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Er(r),s;return a;function a(c){return s=c,t.enter("attentionSequence"),u(c)}function u(c){if(c===s)return t.consume(c),u;let d=t.exit("attentionSequence"),h=Er(c),m=!h||h===2&&i||n.includes(c),w=!i||i===2&&h||n.includes(r);return d._open=!!(s===42?m:m&&(i||!w)),d._close=!!(s===42?w:w&&(h||!m)),e(c)}}function sd(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}var hl={name:"autolink",tokenize:Pk};function Pk(t,e,n){let r=0;return i;function i(g){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),s}function s(g){return ft(g)?(t.consume(g),a):g===64?n(g):d(g)}function a(g){return g===43||g===45||g===46||Je(g)?(r=1,u(g)):d(g)}function u(g){return g===58?(t.consume(g),r=0,c):(g===43||g===45||g===46||Je(g))&&r++<32?(t.consume(g),u):(r=0,d(g))}function c(g){return g===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):g===null||g===32||g===60||ai(g)?n(g):(t.consume(g),c)}function d(g){return g===64?(t.consume(g),h):Jf(g)?(t.consume(g),d):n(g)}function h(g){return Je(g)?m(g):n(g)}function m(g){return g===46?(t.consume(g),r=0,h):g===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(g),t.exit("autolinkMarker"),t.exit("autolink"),e):w(g)}function w(g){if((g===45||Je(g))&&r++<63){let v=g===45?w:m;return t.consume(g),v}return n(g)}}var vn={partial:!0,tokenize:_k};function _k(t,e,n){return r;function r(s){return q(s)?j(t,i,"linePrefix")(s):i(s)}function i(s){return s===null||B(s)?e(s):n(s)}}var Eo={continuation:{tokenize:Ok},exit:Rk,name:"blockQuote",tokenize:Ik};function Ik(t,e,n){let r=this;return i;function i(a){if(a===62){let u=r.containerState;return u.open||(t.enter("blockQuote",{_container:!0}),u.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(a),t.exit("blockQuoteMarker"),s}return n(a)}function s(a){return q(a)?(t.enter("blockQuotePrefixWhitespace"),t.consume(a),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(a))}}function Ok(t,e,n){let r=this;return i;function i(a){return q(a)?j(t,s,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a):s(a)}function s(a){return t.attempt(Eo,e,n)(a)}}function Rk(t){t.exit("blockQuote")}var Co={name:"characterEscape",tokenize:Dk};function Dk(t,e,n){return r;function r(s){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(s),t.exit("escapeMarker"),i}function i(s){return ed(s)?(t.enter("characterEscapeValue"),t.consume(s),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(s)}}var xo={name:"characterReference",tokenize:Mk};function Mk(t,e,n){let r=this,i=0,s,a;return u;function u(m){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),c}function c(m){return m===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(m),t.exit("characterReferenceMarkerNumeric"),d):(t.enter("characterReferenceValue"),s=31,a=Je,h(m))}function d(m){return m===88||m===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(m),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),s=6,a=Qf,h):(t.enter("characterReferenceValue"),s=7,a=li,h(m))}function h(m){if(m===59&&i){let w=t.exit("characterReferenceValue");return a===Je&&!vr(r.sliceSerialize(w))?n(m):(t.enter("characterReferenceMarker"),t.consume(m),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return a(m)&&i++<s?(t.consume(m),h):n(m)}}var ad={partial:!0,tokenize:Nk},To={concrete:!0,name:"codeFenced",tokenize:Lk};function Lk(t,e,n){let r=this,i={partial:!0,tokenize:W},s=0,a=0,u;return c;function c(T){return d(T)}function d(T){let ne=r.events[r.events.length-1];return s=ne&&ne[1].type==="linePrefix"?ne[2].sliceSerialize(ne[1],!0).length:0,u=T,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(T)}function h(T){return T===u?(a++,t.consume(T),h):a<3?n(T):(t.exit("codeFencedFenceSequence"),q(T)?j(t,m,"whitespace")(T):m(T))}function m(T){return T===null||B(T)?(t.exit("codeFencedFence"),r.interrupt?e(T):t.check(ad,P,Y)(T)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),w(T))}function w(T){return T===null||B(T)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),m(T)):q(T)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),j(t,g,"whitespace")(T)):T===96&&T===u?n(T):(t.consume(T),w)}function g(T){return T===null||B(T)?m(T):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),v(T))}function v(T){return T===null||B(T)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),m(T)):T===96&&T===u?n(T):(t.consume(T),v)}function P(T){return t.attempt(i,Y,x)(T)}function x(T){return t.enter("lineEnding"),t.consume(T),t.exit("lineEnding"),E}function E(T){return s>0&&q(T)?j(t,F,"linePrefix",s+1)(T):F(T)}function F(T){return T===null||B(T)?t.check(ad,P,Y)(T):(t.enter("codeFlowValue"),_(T))}function _(T){return T===null||B(T)?(t.exit("codeFlowValue"),F(T)):(t.consume(T),_)}function Y(T){return t.exit("codeFenced"),e(T)}function W(T,ne,X){let Z=0;return ae;function ae(z){return T.enter("lineEnding"),T.consume(z),T.exit("lineEnding"),fe}function fe(z){return T.enter("codeFencedFence"),q(z)?j(T,ie,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(z):ie(z)}function ie(z){return z===u?(T.enter("codeFencedFenceSequence"),V(z)):X(z)}function V(z){return z===u?(Z++,T.consume(z),V):Z>=a?(T.exit("codeFencedFenceSequence"),q(z)?j(T,G,"whitespace")(z):G(z)):X(z)}function G(z){return z===null||B(z)?(T.exit("codeFencedFence"),ne(z)):X(z)}}}function Nk(t,e,n){let r=this;return i;function i(a){return a===null?n(a):(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}var ci={name:"codeIndented",tokenize:Bk},$k={partial:!0,tokenize:Vk};function Bk(t,e,n){let r=this;return i;function i(d){return t.enter("codeIndented"),j(t,s,"linePrefix",5)(d)}function s(d){let h=r.events[r.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?a(d):n(d)}function a(d){return d===null?c(d):B(d)?t.attempt($k,a,c)(d):(t.enter("codeFlowValue"),u(d))}function u(d){return d===null||B(d)?(t.exit("codeFlowValue"),a(d)):(t.consume(d),u)}function c(d){return t.exit("codeIndented"),e(d)}}function Vk(t,e,n){let r=this;return i;function i(a){return r.parser.lazy[r.now().line]?n(a):B(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),i):j(t,s,"linePrefix",5)(a)}function s(a){let u=r.events[r.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(a):B(a)?i(a):n(a)}}var pl={name:"codeText",previous:Uk,resolve:Yk,tokenize:Wk};function Yk(t){let e=t.length-4,n=3,r,i;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(r=n;++r<e;)if(t[r][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(r=n-1,e++;++r<=e;)i===void 0?r!==e&&t[r][1].type!=="lineEnding"&&(i=r):(r===e||t[r][1].type==="lineEnding")&&(t[i][1].type="codeTextData",r!==i+2&&(t[i][1].end=t[r-1][1].end,t.splice(i+2,r-i-2),e-=r-i-2,r=i+2),i=void 0);return t}function Uk(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Wk(t,e,n){let r=this,i=0,s,a;return u;function u(w){return t.enter("codeText"),t.enter("codeTextSequence"),c(w)}function c(w){return w===96?(t.consume(w),i++,c):(t.exit("codeTextSequence"),d(w))}function d(w){return w===null?n(w):w===32?(t.enter("space"),t.consume(w),t.exit("space"),d):w===96?(a=t.enter("codeTextSequence"),s=0,m(w)):B(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),d):(t.enter("codeTextData"),h(w))}function h(w){return w===null||w===32||w===96||B(w)?(t.exit("codeTextData"),d(w)):(t.consume(w),h)}function m(w){return w===96?(t.consume(w),s++,m):s===i?(t.exit("codeTextSequence"),t.exit("codeText"),e(w)):(a.type="codeTextData",h(w))}}var So=class{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(e,r):e>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(e,n,r){let i=n||0;this.setCursor(Math.trunc(e));let s=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&fi(this.left,r),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),fi(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),fi(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);fi(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);fi(this.left,n.reverse())}}};function fi(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}function Fo(t){let e={},n=-1,r,i,s,a,u,c,d,h=new So(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(r=h.get(n),n&&r[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,s=0,s<c.length&&c[s][1].type==="lineEndingBlank"&&(s+=2),s<c.length&&c[s][1].type==="content"))for(;++s<c.length&&c[s][1].type!=="content";)c[s][1].type==="chunkText"&&(c[s][1]._isInFirstContentOfListItem=!0,s++);if(r[0]==="enter")r[1].contentType&&(Object.assign(e,zk(h,n)),n=e[n],d=!0);else if(r[1]._container){for(s=n,i=void 0;s--;)if(a=h.get(s),a[1].type==="lineEnding"||a[1].type==="lineEndingBlank")a[0]==="enter"&&(i&&(h.get(i)[1].type="lineEndingBlank"),a[1].type="lineEnding",i=s);else if(!(a[1].type==="linePrefix"||a[1].type==="listItemIndent"))break;i&&(r[1].end={...h.get(i)[1].start},u=h.slice(i,n),u.unshift(r),h.splice(i,n-i+1,u))}}return Me(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!d}function zk(t,e){let n=t.get(e)[1],r=t.get(e)[2],i=e-1,s=[],a=n._tokenizer;a||(a=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(a._contentTypeTextTrailing=!0));let u=a.events,c=[],d={},h,m,w=-1,g=n,v=0,P=0,x=[P];for(;g;){for(;t.get(++i)[1]!==g;);s.push(i),g._tokenizer||(h=r.sliceStream(g),g.next||h.push(null),m&&a.defineSkip(g.start),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=!0),a.write(h),g._isInFirstContentOfListItem&&(a._gfmTasklistFirstContentOfListItem=void 0)),m=g,g=g.next}for(g=n;++w<u.length;)u[w][0]==="exit"&&u[w-1][0]==="enter"&&u[w][1].type===u[w-1][1].type&&u[w][1].start.line!==u[w][1].end.line&&(P=w+1,x.push(P),g._tokenizer=void 0,g.previous=void 0,g=g.next);for(a.events=[],g?(g._tokenizer=void 0,g.previous=void 0):x.pop(),w=x.length;w--;){let E=u.slice(x[w],x[w+1]),F=s.pop();c.push([F,F+E.length-1]),t.splice(F,2,E)}for(c.reverse(),w=-1;++w<c.length;)d[v+c[w][0]]=v+c[w][1],v+=c[w][1]-c[w][0]-1;return d}var ml={resolve:Gk,tokenize:qk},Hk={partial:!0,tokenize:jk};function Gk(t){return Fo(t),t}function qk(t,e){let n;return r;function r(u){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),i(u)}function i(u){return u===null?s(u):B(u)?t.check(Hk,a,s)(u):(t.consume(u),i)}function s(u){return t.exit("chunkContent"),t.exit("content"),e(u)}function a(u){return t.consume(u),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function jk(t,e,n){let r=this;return i;function i(a){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),j(t,s,"linePrefix")}function s(a){if(a===null||B(a))return n(a);let u=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?e(a):t.interrupt(r.parser.constructs.flow,n,e)(a)}}function Po(t,e,n,r,i,s,a,u,c){let d=c||Number.POSITIVE_INFINITY,h=0;return m;function m(E){return E===60?(t.enter(r),t.enter(i),t.enter(s),t.consume(E),t.exit(s),w):E===null||E===32||E===41||ai(E)?n(E):(t.enter(r),t.enter(a),t.enter(u),t.enter("chunkString",{contentType:"string"}),P(E))}function w(E){return E===62?(t.enter(s),t.consume(E),t.exit(s),t.exit(i),t.exit(r),e):(t.enter(u),t.enter("chunkString",{contentType:"string"}),g(E))}function g(E){return E===62?(t.exit("chunkString"),t.exit(u),w(E)):E===null||E===60||B(E)?n(E):(t.consume(E),E===92?v:g)}function v(E){return E===60||E===62||E===92?(t.consume(E),g):g(E)}function P(E){return!h&&(E===null||E===41||Ce(E))?(t.exit("chunkString"),t.exit(u),t.exit(a),t.exit(r),e(E)):h<d&&E===40?(t.consume(E),h++,P):E===41?(t.consume(E),h--,P):E===null||E===32||E===40||ai(E)?n(E):(t.consume(E),E===92?x:P)}function x(E){return E===40||E===41||E===92?(t.consume(E),P):P(E)}}function _o(t,e,n,r,i,s){let a=this,u=0,c;return d;function d(g){return t.enter(r),t.enter(i),t.consume(g),t.exit(i),t.enter(s),h}function h(g){return u>999||g===null||g===91||g===93&&!c||g===94&&!u&&"_hiddenFootnoteSupport"in a.parser.constructs?n(g):g===93?(t.exit(s),t.enter(i),t.consume(g),t.exit(i),t.exit(r),e):B(g)?(t.enter("lineEnding"),t.consume(g),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===null||g===91||g===93||B(g)||u++>999?(t.exit("chunkString"),h(g)):(t.consume(g),c||(c=!q(g)),g===92?w:m)}function w(g){return g===91||g===92||g===93?(t.consume(g),u++,m):m(g)}}function Io(t,e,n,r,i,s){let a;return u;function u(w){return w===34||w===39||w===40?(t.enter(r),t.enter(i),t.consume(w),t.exit(i),a=w===40?41:w,c):n(w)}function c(w){return w===a?(t.enter(i),t.consume(w),t.exit(i),t.exit(r),e):(t.enter(s),d(w))}function d(w){return w===a?(t.exit(s),c(a)):w===null?n(w):B(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),j(t,d,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(w))}function h(w){return w===a||w===null||B(w)?(t.exit("chunkString"),d(w)):(t.consume(w),w===92?m:h)}function m(w){return w===a||w===92?(t.consume(w),h):h(w)}}function Un(t,e){let n;return r;function r(i){return B(i)?(t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),n=!0,r):q(i)?j(t,r,n?"linePrefix":"lineSuffix")(i):e(i)}}var gl={name:"definition",tokenize:Xk},Kk={partial:!0,tokenize:Zk};function Xk(t,e,n){let r=this,i;return s;function s(g){return t.enter("definition"),a(g)}function a(g){return _o.call(r,t,u,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(g)}function u(g){return i=fn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),g===58?(t.enter("definitionMarker"),t.consume(g),t.exit("definitionMarker"),c):n(g)}function c(g){return Ce(g)?Un(t,d)(g):d(g)}function d(g){return Po(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(g)}function h(g){return t.attempt(Kk,m,m)(g)}function m(g){return q(g)?j(t,w,"whitespace")(g):w(g)}function w(g){return g===null||B(g)?(t.exit("definition"),r.parser.defined.push(i),e(g)):n(g)}}function Zk(t,e,n){return r;function r(u){return Ce(u)?Un(t,i)(u):n(u)}function i(u){return Io(t,s,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(u)}function s(u){return q(u)?j(t,a,"whitespace")(u):a(u)}function a(u){return u===null||B(u)?e(u):n(u)}}var wl={name:"hardBreakEscape",tokenize:Jk};function Jk(t,e,n){return r;function r(s){return t.enter("hardBreakEscape"),t.consume(s),i}function i(s){return B(s)?(t.exit("hardBreakEscape"),e(s)):n(s)}}var yl={name:"headingAtx",resolve:Qk,tokenize:eA};function Qk(t,e){let n=t.length-2,r=3,i,s;return t[r][1].type==="whitespace"&&(r+=2),n-2>r&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&t[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:t[r][1].start,end:t[n][1].end},s={type:"chunkText",start:t[r][1].start,end:t[n][1].end,contentType:"text"},Me(t,r,n-r+1,[["enter",i,e],["enter",s,e],["exit",s,e],["exit",i,e]])),t}function eA(t,e,n){let r=0;return i;function i(h){return t.enter("atxHeading"),s(h)}function s(h){return t.enter("atxHeadingSequence"),a(h)}function a(h){return h===35&&r++<6?(t.consume(h),a):h===null||Ce(h)?(t.exit("atxHeadingSequence"),u(h)):n(h)}function u(h){return h===35?(t.enter("atxHeadingSequence"),c(h)):h===null||B(h)?(t.exit("atxHeading"),e(h)):q(h)?j(t,u,"whitespace")(h):(t.enter("atxHeadingText"),d(h))}function c(h){return h===35?(t.consume(h),c):(t.exit("atxHeadingSequence"),u(h))}function d(h){return h===null||h===35||Ce(h)?(t.exit("atxHeadingText"),u(h)):(t.consume(h),d)}}var ld=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],bl=["pre","script","style","textarea"];var kl={concrete:!0,name:"htmlFlow",resolveTo:rA,tokenize:iA},tA={partial:!0,tokenize:sA},nA={partial:!0,tokenize:oA};function rA(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}function iA(t,e,n){let r=this,i,s,a,u,c;return d;function d(b){return h(b)}function h(b){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(b),m}function m(b){return b===33?(t.consume(b),w):b===47?(t.consume(b),s=!0,P):b===63?(t.consume(b),i=3,r.interrupt?e:A):ft(b)?(t.consume(b),a=String.fromCharCode(b),x):n(b)}function w(b){return b===45?(t.consume(b),i=2,g):b===91?(t.consume(b),i=5,u=0,v):ft(b)?(t.consume(b),i=4,r.interrupt?e:A):n(b)}function g(b){return b===45?(t.consume(b),r.interrupt?e:A):n(b)}function v(b){let He="CDATA[";return b===He.charCodeAt(u++)?(t.consume(b),u===He.length?r.interrupt?e:ie:v):n(b)}function P(b){return ft(b)?(t.consume(b),a=String.fromCharCode(b),x):n(b)}function x(b){if(b===null||b===47||b===62||Ce(b)){let He=b===47,Ht=a.toLowerCase();return!He&&!s&&bl.includes(Ht)?(i=1,r.interrupt?e(b):ie(b)):ld.includes(a.toLowerCase())?(i=6,He?(t.consume(b),E):r.interrupt?e(b):ie(b)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(b):s?F(b):_(b))}return b===45||Je(b)?(t.consume(b),a+=String.fromCharCode(b),x):n(b)}function E(b){return b===62?(t.consume(b),r.interrupt?e:ie):n(b)}function F(b){return q(b)?(t.consume(b),F):ae(b)}function _(b){return b===47?(t.consume(b),ae):b===58||b===95||ft(b)?(t.consume(b),Y):q(b)?(t.consume(b),_):ae(b)}function Y(b){return b===45||b===46||b===58||b===95||Je(b)?(t.consume(b),Y):W(b)}function W(b){return b===61?(t.consume(b),T):q(b)?(t.consume(b),W):_(b)}function T(b){return b===null||b===60||b===61||b===62||b===96?n(b):b===34||b===39?(t.consume(b),c=b,ne):q(b)?(t.consume(b),T):X(b)}function ne(b){return b===c?(t.consume(b),c=null,Z):b===null||B(b)?n(b):(t.consume(b),ne)}function X(b){return b===null||b===34||b===39||b===47||b===60||b===61||b===62||b===96||Ce(b)?W(b):(t.consume(b),X)}function Z(b){return b===47||b===62||q(b)?_(b):n(b)}function ae(b){return b===62?(t.consume(b),fe):n(b)}function fe(b){return b===null||B(b)?ie(b):q(b)?(t.consume(b),fe):n(b)}function ie(b){return b===45&&i===2?(t.consume(b),oe):b===60&&i===1?(t.consume(b),ye):b===62&&i===4?(t.consume(b),Le):b===63&&i===3?(t.consume(b),A):b===93&&i===5?(t.consume(b),tt):B(b)&&(i===6||i===7)?(t.exit("htmlFlowData"),t.check(tA,Ne,V)(b)):b===null||B(b)?(t.exit("htmlFlowData"),V(b)):(t.consume(b),ie)}function V(b){return t.check(nA,G,Ne)(b)}function G(b){return t.enter("lineEnding"),t.consume(b),t.exit("lineEnding"),z}function z(b){return b===null||B(b)?V(b):(t.enter("htmlFlowData"),ie(b))}function oe(b){return b===45?(t.consume(b),A):ie(b)}function ye(b){return b===47?(t.consume(b),a="",be):ie(b)}function be(b){if(b===62){let He=a.toLowerCase();return bl.includes(He)?(t.consume(b),Le):ie(b)}return ft(b)&&a.length<8?(t.consume(b),a+=String.fromCharCode(b),be):ie(b)}function tt(b){return b===93?(t.consume(b),A):ie(b)}function A(b){return b===62?(t.consume(b),Le):b===45&&i===2?(t.consume(b),A):ie(b)}function Le(b){return b===null||B(b)?(t.exit("htmlFlowData"),Ne(b)):(t.consume(b),Le)}function Ne(b){return t.exit("htmlFlow"),e(b)}}function oA(t,e,n){let r=this;return i;function i(a){return B(a)?(t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),s):n(a)}function s(a){return r.parser.lazy[r.now().line]?n(a):e(a)}}function sA(t,e,n){return r;function r(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),t.attempt(vn,e,n)}}var Al={name:"htmlText",tokenize:aA};function aA(t,e,n){let r=this,i,s,a;return u;function u(A){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(A),c}function c(A){return A===33?(t.consume(A),d):A===47?(t.consume(A),W):A===63?(t.consume(A),_):ft(A)?(t.consume(A),X):n(A)}function d(A){return A===45?(t.consume(A),h):A===91?(t.consume(A),s=0,v):ft(A)?(t.consume(A),F):n(A)}function h(A){return A===45?(t.consume(A),g):n(A)}function m(A){return A===null?n(A):A===45?(t.consume(A),w):B(A)?(a=m,ye(A)):(t.consume(A),m)}function w(A){return A===45?(t.consume(A),g):m(A)}function g(A){return A===62?oe(A):A===45?w(A):m(A)}function v(A){let Le="CDATA[";return A===Le.charCodeAt(s++)?(t.consume(A),s===Le.length?P:v):n(A)}function P(A){return A===null?n(A):A===93?(t.consume(A),x):B(A)?(a=P,ye(A)):(t.consume(A),P)}function x(A){return A===93?(t.consume(A),E):P(A)}function E(A){return A===62?oe(A):A===93?(t.consume(A),E):P(A)}function F(A){return A===null||A===62?oe(A):B(A)?(a=F,ye(A)):(t.consume(A),F)}function _(A){return A===null?n(A):A===63?(t.consume(A),Y):B(A)?(a=_,ye(A)):(t.consume(A),_)}function Y(A){return A===62?oe(A):_(A)}function W(A){return ft(A)?(t.consume(A),T):n(A)}function T(A){return A===45||Je(A)?(t.consume(A),T):ne(A)}function ne(A){return B(A)?(a=ne,ye(A)):q(A)?(t.consume(A),ne):oe(A)}function X(A){return A===45||Je(A)?(t.consume(A),X):A===47||A===62||Ce(A)?Z(A):n(A)}function Z(A){return A===47?(t.consume(A),oe):A===58||A===95||ft(A)?(t.consume(A),ae):B(A)?(a=Z,ye(A)):q(A)?(t.consume(A),Z):oe(A)}function ae(A){return A===45||A===46||A===58||A===95||Je(A)?(t.consume(A),ae):fe(A)}function fe(A){return A===61?(t.consume(A),ie):B(A)?(a=fe,ye(A)):q(A)?(t.consume(A),fe):Z(A)}function ie(A){return A===null||A===60||A===61||A===62||A===96?n(A):A===34||A===39?(t.consume(A),i=A,V):B(A)?(a=ie,ye(A)):q(A)?(t.consume(A),ie):(t.consume(A),G)}function V(A){return A===i?(t.consume(A),i=void 0,z):A===null?n(A):B(A)?(a=V,ye(A)):(t.consume(A),V)}function G(A){return A===null||A===34||A===39||A===60||A===61||A===96?n(A):A===47||A===62||Ce(A)?Z(A):(t.consume(A),G)}function z(A){return A===47||A===62||Ce(A)?Z(A):n(A)}function oe(A){return A===62?(t.consume(A),t.exit("htmlTextData"),t.exit("htmlText"),e):n(A)}function ye(A){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(A),t.exit("lineEnding"),be}function be(A){return q(A)?j(t,tt,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(A):tt(A)}function tt(A){return t.enter("htmlTextData"),a(A)}}var Wn={name:"labelEnd",resolveAll:fA,resolveTo:dA,tokenize:hA},lA={tokenize:pA},uA={tokenize:mA},cA={tokenize:gA};function fA(t){let e=-1,n=[];for(;++e<t.length;){let r=t[e][1];if(n.push(t[e]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){let i=r.type==="labelImage"?4:2;r.type="data",e+=i}}return t.length!==n.length&&Me(t,0,t.length,n),t}function dA(t,e){let n=t.length,r=0,i,s,a,u;for(;n--;)if(i=t[n][1],s){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;t[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(a){if(t[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(s=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(a=n);let c={type:t[s][1].type==="labelLink"?"link":"image",start:{...t[s][1].start},end:{...t[t.length-1][1].end}},d={type:"label",start:{...t[s][1].start},end:{...t[a][1].end}},h={type:"labelText",start:{...t[s+r+2][1].end},end:{...t[a-2][1].start}};return u=[["enter",c,e],["enter",d,e]],u=Ze(u,t.slice(s+1,s+r+3)),u=Ze(u,[["enter",h,e]]),u=Ze(u,Cr(e.parser.constructs.insideSpan.null,t.slice(s+r+4,a-3),e)),u=Ze(u,[["exit",h,e],t[a-2],t[a-1],["exit",d,e]]),u=Ze(u,t.slice(a+1)),u=Ze(u,[["exit",c,e]]),Me(t,s,t.length,u),t}function hA(t,e,n){let r=this,i=r.events.length,s,a;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){s=r.events[i][1];break}return u;function u(w){return s?s._inactive?m(w):(a=r.parser.defined.includes(fn(r.sliceSerialize({start:s.end,end:r.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(w),t.exit("labelMarker"),t.exit("labelEnd"),c):n(w)}function c(w){return w===40?t.attempt(lA,h,a?h:m)(w):w===91?t.attempt(uA,h,a?d:m)(w):a?h(w):m(w)}function d(w){return t.attempt(cA,h,m)(w)}function h(w){return e(w)}function m(w){return s._balanced=!0,n(w)}}function pA(t,e,n){return r;function r(m){return t.enter("resource"),t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),i}function i(m){return Ce(m)?Un(t,s)(m):s(m)}function s(m){return m===41?h(m):Po(t,a,u,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(m)}function a(m){return Ce(m)?Un(t,c)(m):h(m)}function u(m){return n(m)}function c(m){return m===34||m===39||m===40?Io(t,d,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(m):h(m)}function d(m){return Ce(m)?Un(t,h)(m):h(m)}function h(m){return m===41?(t.enter("resourceMarker"),t.consume(m),t.exit("resourceMarker"),t.exit("resource"),e):n(m)}}function mA(t,e,n){let r=this;return i;function i(u){return _o.call(r,t,s,a,"reference","referenceMarker","referenceString")(u)}function s(u){return r.parser.defined.includes(fn(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?e(u):n(u)}function a(u){return n(u)}}function gA(t,e,n){return r;function r(s){return t.enter("reference"),t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),i}function i(s){return s===93?(t.enter("referenceMarker"),t.consume(s),t.exit("referenceMarker"),t.exit("reference"),e):n(s)}}var vl={name:"labelStartImage",resolveAll:Wn.resolveAll,tokenize:wA};function wA(t,e,n){let r=this;return i;function i(u){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(u),t.exit("labelImageMarker"),s}function s(u){return u===91?(t.enter("labelMarker"),t.consume(u),t.exit("labelMarker"),t.exit("labelImage"),a):n(u)}function a(u){return u===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(u):e(u)}}var El={name:"labelStartLink",resolveAll:Wn.resolveAll,tokenize:yA};function yA(t,e,n){let r=this;return i;function i(a){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(a),t.exit("labelMarker"),t.exit("labelLink"),s}function s(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):e(a)}}var di={name:"lineEnding",tokenize:bA};function bA(t,e){return n;function n(r){return t.enter("lineEnding"),t.consume(r),t.exit("lineEnding"),j(t,e,"linePrefix")}}var zn={name:"thematicBreak",tokenize:kA};function kA(t,e,n){let r=0,i;return s;function s(d){return t.enter("thematicBreak"),a(d)}function a(d){return i=d,u(d)}function u(d){return d===i?(t.enter("thematicBreakSequence"),c(d)):r>=3&&(d===null||B(d))?(t.exit("thematicBreak"),e(d)):n(d)}function c(d){return d===i?(t.consume(d),r++,c):(t.exit("thematicBreakSequence"),q(d)?j(t,u,"whitespace")(d):u(d))}}var Ye={continuation:{tokenize:CA},exit:TA,name:"list",tokenize:EA},AA={partial:!0,tokenize:SA},vA={partial:!0,tokenize:xA};function EA(t,e,n){let r=this,i=r.events[r.events.length-1],s=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,a=0;return u;function u(g){let v=r.containerState.type||(g===42||g===43||g===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||g===r.containerState.marker:li(g)){if(r.containerState.type||(r.containerState.type=v,t.enter(v,{_container:!0})),v==="listUnordered")return t.enter("listItemPrefix"),g===42||g===45?t.check(zn,n,d)(g):d(g);if(!r.interrupt||g===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),c(g)}return n(g)}function c(g){return li(g)&&++a<10?(t.consume(g),c):(!r.interrupt||a<2)&&(r.containerState.marker?g===r.containerState.marker:g===41||g===46)?(t.exit("listItemValue"),d(g)):n(g)}function d(g){return t.enter("listItemMarker"),t.consume(g),t.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||g,t.check(vn,r.interrupt?n:h,t.attempt(AA,w,m))}function h(g){return r.containerState.initialBlankLine=!0,s++,w(g)}function m(g){return q(g)?(t.enter("listItemPrefixWhitespace"),t.consume(g),t.exit("listItemPrefixWhitespace"),w):n(g)}function w(g){return r.containerState.size=s+r.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(g)}}function CA(t,e,n){let r=this;return r.containerState._closeFlow=void 0,t.check(vn,i,s);function i(u){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,j(t,e,"listItemIndent",r.containerState.size+1)(u)}function s(u){return r.containerState.furtherBlankLines||!q(u)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,a(u)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,t.attempt(vA,e,a)(u))}function a(u){return r.containerState._closeFlow=!0,r.interrupt=void 0,j(t,t.attempt(Ye,e,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(u)}}function xA(t,e,n){let r=this;return j(t,i,"listItemIndent",r.containerState.size+1);function i(s){let a=r.events[r.events.length-1];return a&&a[1].type==="listItemIndent"&&a[2].sliceSerialize(a[1],!0).length===r.containerState.size?e(s):n(s)}}function TA(t){t.exit(this.containerState.type)}function SA(t,e,n){let r=this;return j(t,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(s){let a=r.events[r.events.length-1];return!q(s)&&a&&a[1].type==="listItemPrefixWhitespace"?e(s):n(s)}}var Oo={name:"setextUnderline",resolveTo:FA,tokenize:PA};function FA(t,e){let n=t.length,r,i,s;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){r=n;break}t[n][1].type==="paragraph"&&(i=n)}else t[n][1].type==="content"&&t.splice(n,1),!s&&t[n][1].type==="definition"&&(s=n);let a={type:"setextHeading",start:{...t[r][1].start},end:{...t[t.length-1][1].end}};return t[i][1].type="setextHeadingText",s?(t.splice(i,0,["enter",a,e]),t.splice(s+1,0,["exit",t[r][1],e]),t[r][1].end={...t[s][1].end}):t[r][1]=a,t.push(["exit",a,e]),t}function PA(t,e,n){let r=this,i;return s;function s(d){let h=r.events.length,m;for(;h--;)if(r.events[h][1].type!=="lineEnding"&&r.events[h][1].type!=="linePrefix"&&r.events[h][1].type!=="content"){m=r.events[h][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||m)?(t.enter("setextHeadingLine"),i=d,a(d)):n(d)}function a(d){return t.enter("setextHeadingLineSequence"),u(d)}function u(d){return d===i?(t.consume(d),u):(t.exit("setextHeadingLineSequence"),q(d)?j(t,c,"lineSuffix")(d):c(d))}function c(d){return d===null||B(d)?(t.exit("setextHeadingLine"),e(d)):n(d)}}var ud={tokenize:_A};function _A(t){let e=this,n=t.attempt(vn,r,t.attempt(this.parser.constructs.flowInitial,i,j(t,t.attempt(this.parser.constructs.flow,i,t.attempt(ml,i)),"linePrefix")));return n;function r(s){if(s===null){t.consume(s);return}return t.enter("lineEndingBlank"),t.consume(s),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function i(s){if(s===null){t.consume(s);return}return t.enter("lineEnding"),t.consume(s),t.exit("lineEnding"),e.currentConstruct=void 0,n}}var cd={resolveAll:pd()},fd=hd("string"),dd=hd("text");function hd(t){return{resolveAll:pd(t==="text"?IA:void 0),tokenize:e};function e(n){let r=this,i=this.parser.constructs[t],s=n.attempt(i,a,u);return a;function a(h){return d(h)?s(h):u(h)}function u(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),c}function c(h){return d(h)?(n.exit("data"),s(h)):(n.consume(h),c)}function d(h){if(h===null)return!0;let m=i[h],w=-1;if(m)for(;++w<m.length;){let g=m[w];if(!g.previous||g.previous.call(r,r.previous))return!0}return!1}}}function pd(t){return e;function e(n,r){let i=-1,s;for(;++i<=n.length;)s===void 0?n[i]&&n[i][1].type==="data"&&(s=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==s+2&&(n[s][1].end=n[i-1][1].end,n.splice(s+2,i-s-2),i=s+2),s=void 0);return t?t(n,r):n}}function IA(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let r=t[n-1][1],i=e.sliceStream(r),s=i.length,a=-1,u=0,c;for(;s--;){let d=i[s];if(typeof d=="string"){for(a=d.length;d.charCodeAt(a-1)===32;)u++,a--;if(a)break;a=-1}else if(d===-2)c=!0,u++;else if(d!==-1){s++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(u=0),u){let d={type:n===t.length||c||u<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?a:r.start._bufferIndex+a,_index:r.start._index+s,line:r.end.line,column:r.end.column-u,offset:r.end.offset-u},end:{...r.end}};r.end={...d.start},r.start.offset===r.end.offset?Object.assign(r,d):(t.splice(n,0,["enter",d,e],["exit",d,e]),n+=2)}n++}return t}var Cl={};jc(Cl,{attentionMarkers:()=>BA,contentInitial:()=>RA,disable:()=>VA,document:()=>OA,flow:()=>MA,flowInitial:()=>DA,insideSpan:()=>$A,string:()=>LA,text:()=>NA});var OA={42:Ye,43:Ye,45:Ye,48:Ye,49:Ye,50:Ye,51:Ye,52:Ye,53:Ye,54:Ye,55:Ye,56:Ye,57:Ye,62:Eo},RA={91:gl},DA={[-2]:ci,[-1]:ci,32:ci},MA={35:yl,42:zn,45:[Oo,zn],60:kl,61:Oo,95:zn,96:To,126:To},LA={38:xo,92:Co},NA={[-5]:di,[-4]:di,[-3]:di,33:vl,38:xo,42:ui,60:[hl,Al],91:El,92:[wl,Co],93:Wn,95:ui,96:pl},$A={null:[ui,cd]},BA={null:[42,95]},VA={null:[]};function md(t,e,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},i={},s=[],a=[],u=[],c=!0,d={attempt:Z(ne),check:Z(X),consume:Y,enter:W,exit:T,interrupt:Z(X,{interrupt:!0})},h={code:null,containerState:{},defineSkip:E,events:[],now:x,parser:t,previous:null,sliceSerialize:v,sliceStream:P,write:g},m=e.tokenize.call(h,d),w;return e.resolveAll&&s.push(e),h;function g(V){return a=Ze(a,V),F(),a[a.length-1]!==null?[]:(ae(e,0),h.events=Cr(s,h.events,h),h.events)}function v(V,G){return UA(P(V),G)}function P(V){return YA(a,V)}function x(){let{_bufferIndex:V,_index:G,line:z,column:oe,offset:ye}=r;return{_bufferIndex:V,_index:G,line:z,column:oe,offset:ye}}function E(V){i[V.line]=V.column,ie()}function F(){let V;for(;r._index<a.length;){let G=a[r._index];if(typeof G=="string")for(V=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===V&&r._bufferIndex<G.length;)_(G.charCodeAt(r._bufferIndex));else _(G)}}function _(V){c=void 0,w=V,m=m(V)}function Y(V){B(V)?(r.line++,r.column=1,r.offset+=V===-3?2:1,ie()):V!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===a[r._index].length&&(r._bufferIndex=-1,r._index++)),h.previous=V,c=!0}function W(V,G){let z=G||{};return z.type=V,z.start=x(),h.events.push(["enter",z,h]),u.push(z),z}function T(V){let G=u.pop();return G.end=x(),h.events.push(["exit",G,h]),G}function ne(V,G){ae(V,G.from)}function X(V,G){G.restore()}function Z(V,G){return z;function z(oe,ye,be){let tt,A,Le,Ne;return Array.isArray(oe)?He(oe):"tokenize"in oe?He([oe]):b(oe);function b(Te){return On;function On(xt){let Gt=xt!==null&&Te[xt],gn=xt!==null&&Te.null,zr=[...Array.isArray(Gt)?Gt:Gt?[Gt]:[],...Array.isArray(gn)?gn:gn?[gn]:[]];return He(zr)(xt)}}function He(Te){return tt=Te,A=0,Te.length===0?be:Ht(Te[A])}function Ht(Te){return On;function On(xt){return Ne=fe(),Le=Te,Te.partial||(h.currentConstruct=Te),Te.name&&h.parser.constructs.disable.null.includes(Te.name)?In(xt):Te.tokenize.call(G?Object.assign(Object.create(h),G):h,d,mn,In)(xt)}}function mn(Te){return c=!0,V(Le,Ne),ye}function In(Te){return c=!0,Ne.restore(),++A<tt.length?Ht(tt[A]):be}}}function ae(V,G){V.resolveAll&&!s.includes(V)&&s.push(V),V.resolve&&Me(h.events,G,h.events.length-G,V.resolve(h.events.slice(G),h)),V.resolveTo&&(h.events=V.resolveTo(h.events,h))}function fe(){let V=x(),G=h.previous,z=h.currentConstruct,oe=h.events.length,ye=Array.from(u);return{from:oe,restore:be};function be(){r=V,h.previous=G,h.currentConstruct=z,h.events.length=oe,u=ye,ie()}}function ie(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function YA(t,e){let n=e.start._index,r=e.start._bufferIndex,i=e.end._index,s=e.end._bufferIndex,a;if(n===i)a=[t[n].slice(r,s)];else{if(a=t.slice(n,i),r>-1){let u=a[0];typeof u=="string"?a[0]=u.slice(r):a.shift()}s>0&&a.push(t[i].slice(0,s))}return a}function UA(t,e){let n=-1,r=[],i;for(;++n<t.length;){let s=t[n],a;if(typeof s=="string")a=s;else switch(s){case-5:{a="\r";break}case-4:{a=`
`;break}case-3:{a=`\r
`;break}case-2:{a=e?" ":"	";break}case-1:{if(!e&&i)continue;a=" ";break}default:a=String.fromCharCode(s)}i=s===-2,r.push(a)}return r.join("")}function xl(t){let r={constructs:Zf([Cl,...(t||{}).extensions||[]]),content:i(rd),defined:[],document:i(od),flow:i(ud),lazy:{},string:i(fd),text:i(dd)};return r;function i(s){return a;function a(u){return md(r,s,u)}}}function Tl(t){for(;!Fo(t););return t}var gd=/[\0\t\n\r]/g;function Sl(){let t=1,e="",n=!0,r;return i;function i(s,a,u){let c=[],d,h,m,w,g;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(a||void 0).decode(s)),m=0,e="",n&&(s.charCodeAt(0)===65279&&m++,n=void 0);m<s.length;){if(gd.lastIndex=m,d=gd.exec(s),w=d&&d.index!==void 0?d.index:s.length,g=s.charCodeAt(w),!d){e=s.slice(m);break}if(g===10&&m===w&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),m<w&&(c.push(s.slice(m,w)),t+=w-m),g){case 0:{c.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,c.push(-2);t++<h;)c.push(-1);break}case 10:{c.push(-4),t=1;break}default:r=!0,t=1}m=w+1}return u&&(r&&c.push(-5),e&&c.push(e),c.push(null)),c}}var WA=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Ro(t){return t.replace(WA,zA)}function zA(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let i=n.charCodeAt(1),s=i===120||i===88;return vo(n.slice(s?2:1),s?16:10)}return vr(n)||t}function En(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?wd(t.position):"start"in t||"end"in t?wd(t):"line"in t||"column"in t?Fl(t):""}function Fl(t){return yd(t&&t.line)+":"+yd(t&&t.column)}function wd(t){return Fl(t&&t.start)+"-"+Fl(t&&t.end)}function yd(t){return t&&typeof t=="number"?t:1}var kd={}.hasOwnProperty;function Pl(t,e,n){return typeof e!="string"&&(n=e,e=void 0),HA(n)(Tl(xl(n).document().write(Sl()(t,e,!0))))}function HA(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(Ge),autolinkProtocol:Z,autolinkEmail:Z,atxHeading:s(Li),blockQuote:s(xt),characterEscape:Z,characterReference:Z,codeFenced:s(Gt),codeFencedFenceInfo:a,codeFencedFenceMeta:a,codeIndented:s(Gt,a),codeText:s(gn,a),codeTextData:Z,data:Z,codeFlowValue:Z,definition:s(zr),definitionDestinationString:a,definitionLabelString:a,definitionTitleString:a,emphasis:s(va),hardBreakEscape:s(Ni),hardBreakTrailing:s(Ni),htmlFlow:s($i,a),htmlFlowData:Z,htmlText:s($i,a),htmlTextData:Z,image:s(Bi),label:a,link:s(Ge),listItem:s(Ea),listItemValue:w,listOrdered:s(er,m),listUnordered:s(er),paragraph:s(Ca),reference:b,referenceString:a,resourceDestinationString:a,resourceTitleString:a,setextHeading:s(Li),strong:s(Vi),thematicBreak:s(Yi)},exit:{atxHeading:c(),atxHeadingSequence:W,autolink:c(),autolinkEmail:On,autolinkProtocol:Te,blockQuote:c(),characterEscapeValue:ae,characterReferenceMarkerHexadecimal:Ht,characterReferenceMarkerNumeric:Ht,characterReferenceValue:mn,characterReference:In,codeFenced:c(x),codeFencedFence:P,codeFencedFenceInfo:g,codeFencedFenceMeta:v,codeFlowValue:ae,codeIndented:c(E),codeText:c(z),codeTextData:ae,data:ae,definition:c(),definitionDestinationString:Y,definitionLabelString:F,definitionTitleString:_,emphasis:c(),hardBreakEscape:c(ie),hardBreakTrailing:c(ie),htmlFlow:c(V),htmlFlowData:ae,htmlText:c(G),htmlTextData:ae,image:c(ye),label:tt,labelText:be,lineEnding:fe,link:c(oe),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:He,resourceDestinationString:A,resourceTitleString:Le,resource:Ne,setextHeading:c(X),setextHeadingLineSequence:ne,setextHeadingText:T,strong:c(),thematicBreak:c()}};Ad(e,(t||{}).mdastExtensions||[]);let n={};return r;function r(S){let O={type:"root",children:[]},R={stack:[O],tokenStack:[],config:e,enter:u,exit:d,buffer:a,resume:h,data:n},J=[],le=-1;for(;++le<S.length;)if(S[le][1].type==="listOrdered"||S[le][1].type==="listUnordered")if(S[le][0]==="enter")J.push(le);else{let $e=J.pop();le=i(S,$e,le)}for(le=-1;++le<S.length;){let $e=e[S[le][0]];kd.call($e,S[le][1].type)&&$e[S[le][1].type].call(Object.assign({sliceSerialize:S[le][2].sliceSerialize},R),S[le][1])}if(R.tokenStack.length>0){let $e=R.tokenStack[R.tokenStack.length-1];($e[1]||bd).call(R,void 0,$e[0])}for(O.position={start:Cn(S.length>0?S[0][1].start:{line:1,column:1,offset:0}),end:Cn(S.length>0?S[S.length-2][1].end:{line:1,column:1,offset:0})},le=-1;++le<e.transforms.length;)O=e.transforms[le](O)||O;return O}function i(S,O,R){let J=O-1,le=-1,$e=!1,Tt,nt,pt,Dt;for(;++J<=R;){let je=S[J];switch(je[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{je[0]==="enter"?le++:le--,Dt=void 0;break}case"lineEndingBlank":{je[0]==="enter"&&(Tt&&!Dt&&!le&&!pt&&(pt=J),Dt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Dt=void 0}if(!le&&je[0]==="enter"&&je[1].type==="listItemPrefix"||le===-1&&je[0]==="exit"&&(je[1].type==="listUnordered"||je[1].type==="listOrdered")){if(Tt){let St=J;for(nt=void 0;St--;){let Ft=S[St];if(Ft[1].type==="lineEnding"||Ft[1].type==="lineEndingBlank"){if(Ft[0]==="exit")continue;nt&&(S[nt][1].type="lineEndingBlank",$e=!0),Ft[1].type="lineEnding",nt=St}else if(!(Ft[1].type==="linePrefix"||Ft[1].type==="blockQuotePrefix"||Ft[1].type==="blockQuotePrefixWhitespace"||Ft[1].type==="blockQuoteMarker"||Ft[1].type==="listItemIndent"))break}pt&&(!nt||pt<nt)&&(Tt._spread=!0),Tt.end=Object.assign({},nt?S[nt][1].start:je[1].end),S.splice(nt||J,0,["exit",Tt,je[2]]),J++,R++}if(je[1].type==="listItemPrefix"){let St={type:"listItem",_spread:!1,start:Object.assign({},je[1].start),end:void 0};Tt=St,S.splice(J,0,["enter",St,je[2]]),J++,R++,pt=void 0,Dt=!0}}}return S[O][1]._spread=$e,R}function s(S,O){return R;function R(J){u.call(this,S(J),J),O&&O.call(this,J)}}function a(){this.stack.push({type:"fragment",children:[]})}function u(S,O,R){this.stack[this.stack.length-1].children.push(S),this.stack.push(S),this.tokenStack.push([O,R||void 0]),S.position={start:Cn(O.start),end:void 0}}function c(S){return O;function O(R){S&&S.call(this,R),d.call(this,R)}}function d(S,O){let R=this.stack.pop(),J=this.tokenStack.pop();if(J)J[0].type!==S.type&&(O?O.call(this,S,J[0]):(J[1]||bd).call(this,S,J[0]));else throw new Error("Cannot close `"+S.type+"` ("+En({start:S.start,end:S.end})+"): it\u2019s not open");R.position.end=Cn(S.end)}function h(){return Yn(this.stack.pop())}function m(){this.data.expectingFirstListItemValue=!0}function w(S){if(this.data.expectingFirstListItemValue){let O=this.stack[this.stack.length-2];O.start=Number.parseInt(this.sliceSerialize(S),10),this.data.expectingFirstListItemValue=void 0}}function g(){let S=this.resume(),O=this.stack[this.stack.length-1];O.lang=S}function v(){let S=this.resume(),O=this.stack[this.stack.length-1];O.meta=S}function P(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function x(){let S=this.resume(),O=this.stack[this.stack.length-1];O.value=S.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function E(){let S=this.resume(),O=this.stack[this.stack.length-1];O.value=S.replace(/(\r?\n|\r)$/g,"")}function F(S){let O=this.resume(),R=this.stack[this.stack.length-1];R.label=O,R.identifier=fn(this.sliceSerialize(S)).toLowerCase()}function _(){let S=this.resume(),O=this.stack[this.stack.length-1];O.title=S}function Y(){let S=this.resume(),O=this.stack[this.stack.length-1];O.url=S}function W(S){let O=this.stack[this.stack.length-1];if(!O.depth){let R=this.sliceSerialize(S).length;O.depth=R}}function T(){this.data.setextHeadingSlurpLineEnding=!0}function ne(S){let O=this.stack[this.stack.length-1];O.depth=this.sliceSerialize(S).codePointAt(0)===61?1:2}function X(){this.data.setextHeadingSlurpLineEnding=void 0}function Z(S){let R=this.stack[this.stack.length-1].children,J=R[R.length-1];(!J||J.type!=="text")&&(J=qe(),J.position={start:Cn(S.start),end:void 0},R.push(J)),this.stack.push(J)}function ae(S){let O=this.stack.pop();O.value+=this.sliceSerialize(S),O.position.end=Cn(S.end)}function fe(S){let O=this.stack[this.stack.length-1];if(this.data.atHardBreak){let R=O.children[O.children.length-1];R.position.end=Cn(S.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(O.type)&&(Z.call(this,S),ae.call(this,S))}function ie(){this.data.atHardBreak=!0}function V(){let S=this.resume(),O=this.stack[this.stack.length-1];O.value=S}function G(){let S=this.resume(),O=this.stack[this.stack.length-1];O.value=S}function z(){let S=this.resume(),O=this.stack[this.stack.length-1];O.value=S}function oe(){let S=this.stack[this.stack.length-1];if(this.data.inReference){let O=this.data.referenceType||"shortcut";S.type+="Reference",S.referenceType=O,delete S.url,delete S.title}else delete S.identifier,delete S.label;this.data.referenceType=void 0}function ye(){let S=this.stack[this.stack.length-1];if(this.data.inReference){let O=this.data.referenceType||"shortcut";S.type+="Reference",S.referenceType=O,delete S.url,delete S.title}else delete S.identifier,delete S.label;this.data.referenceType=void 0}function be(S){let O=this.sliceSerialize(S),R=this.stack[this.stack.length-2];R.label=Ro(O),R.identifier=fn(O).toLowerCase()}function tt(){let S=this.stack[this.stack.length-1],O=this.resume(),R=this.stack[this.stack.length-1];if(this.data.inReference=!0,R.type==="link"){let J=S.children;R.children=J}else R.alt=O}function A(){let S=this.resume(),O=this.stack[this.stack.length-1];O.url=S}function Le(){let S=this.resume(),O=this.stack[this.stack.length-1];O.title=S}function Ne(){this.data.inReference=void 0}function b(){this.data.referenceType="collapsed"}function He(S){let O=this.resume(),R=this.stack[this.stack.length-1];R.label=O,R.identifier=fn(this.sliceSerialize(S)).toLowerCase(),this.data.referenceType="full"}function Ht(S){this.data.characterReferenceType=S.type}function mn(S){let O=this.sliceSerialize(S),R=this.data.characterReferenceType,J;R?(J=vo(O,R==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):J=vr(O);let le=this.stack[this.stack.length-1];le.value+=J}function In(S){let O=this.stack.pop();O.position.end=Cn(S.end)}function Te(S){ae.call(this,S);let O=this.stack[this.stack.length-1];O.url=this.sliceSerialize(S)}function On(S){ae.call(this,S);let O=this.stack[this.stack.length-1];O.url="mailto:"+this.sliceSerialize(S)}function xt(){return{type:"blockquote",children:[]}}function Gt(){return{type:"code",lang:null,meta:null,value:""}}function gn(){return{type:"inlineCode",value:""}}function zr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function va(){return{type:"emphasis",children:[]}}function Li(){return{type:"heading",depth:0,children:[]}}function Ni(){return{type:"break"}}function $i(){return{type:"html",value:""}}function Bi(){return{type:"image",title:null,url:"",alt:null}}function Ge(){return{type:"link",title:null,url:"",children:[]}}function er(S){return{type:"list",ordered:S.type==="listOrdered",start:null,spread:S._spread,children:[]}}function Ea(S){return{type:"listItem",spread:S._spread,checked:null,children:[]}}function Ca(){return{type:"paragraph",children:[]}}function Vi(){return{type:"strong",children:[]}}function qe(){return{type:"text",value:""}}function Yi(){return{type:"thematicBreak"}}}function Cn(t){return{line:t.line,column:t.column,offset:t.offset}}function Ad(t,e){let n=-1;for(;++n<e.length;){let r=e[n];Array.isArray(r)?Ad(t,r):GA(t,r)}}function GA(t,e){let n;for(n in e)if(kd.call(e,n))switch(n){case"canContainEols":{let r=e[n];r&&t[n].push(...r);break}case"transforms":{let r=e[n];r&&t[n].push(...r);break}case"enter":case"exit":{let r=e[n];r&&Object.assign(t[n],r);break}}}function bd(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+En({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+En({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+En({start:e.start,end:e.end})+") is still open")}function xr(t){let e=this;e.parser=n;function n(r){return Pl(r,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}var vd={}.hasOwnProperty;function Ed(t,e){let n=e||{};function r(i,...s){let a=r.invalid,u=r.handlers;if(i&&vd.call(i,t)){let c=String(i[t]);a=vd.call(u,c)?u[c]:r.unknown}if(a)return a.call(this,i,...s)}return r.handlers=n.handlers||{},r.invalid=n.invalid,r.unknown=n.unknown,r}var qA={}.hasOwnProperty;function _l(t,e){let n=-1,r;if(e.extensions)for(;++n<e.extensions.length;)_l(t,e.extensions[n]);for(r in e)if(qA.call(e,r))switch(r){case"extensions":break;case"unsafe":{Cd(t[r],e[r]);break}case"join":{Cd(t[r],e[r]);break}case"handlers":{jA(t[r],e[r]);break}default:t.options[r]=e[r]}return t}function Cd(t,e){e&&t.push(...e)}function jA(t,e){e&&Object.assign(t,e)}function xd(t,e,n,r){let i=n.enter("blockquote"),s=n.createTracker(r);s.move("> "),s.shift(2);let a=n.indentLines(n.containerFlow(t,s.current()),KA);return i(),a}function KA(t,e,n){return">"+(n?"":" ")+t}function Do(t,e){return Td(t,e.inConstruct,!0)&&!Td(t,e.notInConstruct,!1)}function Td(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let r=-1;for(;++r<e.length;)if(t.includes(e[r]))return!0;return!1}function Il(t,e,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&Do(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function Sd(t,e){let n=String(t),r=n.indexOf(e),i=r,s=0,a=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++s>a&&(a=s):s=1,i=r+e.length,r=n.indexOf(e,i);return a}function hi(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}function Fd(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}function Pd(t,e,n,r){let i=Fd(n),s=t.value||"",a=i==="`"?"GraveAccent":"Tilde";if(hi(t,n)){let m=n.enter("codeIndented"),w=n.indentLines(s,XA);return m(),w}let u=n.createTracker(r),c=i.repeat(Math.max(Sd(s,i)+1,3)),d=n.enter("codeFenced"),h=u.move(c);if(t.lang){let m=n.enter(`codeFencedLang${a}`);h+=u.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...u.current()})),m()}if(t.lang&&t.meta){let m=n.enter(`codeFencedMeta${a}`);h+=u.move(" "),h+=u.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...u.current()})),m()}return h+=u.move(`
`),s&&(h+=u.move(s+`
`)),h+=u.move(c),d(),h}function XA(t,e,n){return(n?"":"    ")+t}function Tr(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}function _d(t,e,n,r){let i=Tr(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("definition"),u=n.enter("label"),c=n.createTracker(r),d=c.move("[");return d+=c.move(n.safe(n.associationId(t),{before:d,after:"]",...c.current()})),d+=c.move("]: "),u(),!t.url||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(n.safe(t.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(u=n.enter("destinationRaw"),d+=c.move(n.safe(t.url,{before:d,after:t.title?" ":`
`,...c.current()}))),u(),t.title&&(u=n.enter(`title${s}`),d+=c.move(" "+i),d+=c.move(n.safe(t.title,{before:d,after:i,...c.current()})),d+=c.move(i),u()),a(),d}function Id(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}function dt(t){return"&#x"+t.toString(16).toUpperCase()+";"}function Sr(t,e,n){let r=Er(t),i=Er(e);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}Ol.peek=ZA;function Ol(t,e,n,r){let i=Id(n),s=n.enter("emphasis"),a=n.createTracker(r),u=a.move(i),c=a.move(n.containerPhrasing(t,{after:i,before:u,...a.current()})),d=c.charCodeAt(0),h=Sr(r.before.charCodeAt(r.before.length-1),d,i);h.inside&&(c=dt(d)+c.slice(1));let m=c.charCodeAt(c.length-1),w=Sr(r.after.charCodeAt(0),m,i);w.inside&&(c=c.slice(0,-1)+dt(m));let g=a.move(i);return s(),n.attentionEncodeSurroundingInfo={after:w.outside,before:h.outside},u+c+g}function ZA(t,e,n){return n.options.emphasis||"*"}var Fr=(function(t){if(t==null)return tv;if(typeof t=="function")return Mo(t);if(typeof t=="object")return Array.isArray(t)?JA(t):QA(t);if(typeof t=="string")return ev(t);throw new Error("Expected function, string, or object as test")});function JA(t){let e=[],n=-1;for(;++n<t.length;)e[n]=Fr(t[n]);return Mo(r);function r(...i){let s=-1;for(;++s<e.length;)if(e[s].apply(this,i))return!0;return!1}}function QA(t){let e=t;return Mo(n);function n(r){let i=r,s;for(s in t)if(i[s]!==e[s])return!1;return!0}}function ev(t){return Mo(e);function e(n){return n&&n.type===t}}function Mo(t){return e;function e(n,r,i){return!!(nv(n)&&t.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function tv(){return!0}function nv(t){return t!==null&&typeof t=="object"&&"type"in t}function Od(t){return"\x1B[33m"+t+"\x1B[39m"}var Rd=[],Lo=!0,Hn=!1,No="skip";function Rl(t,e,n,r){let i;typeof e=="function"&&typeof n!="function"?(r=n,n=e):i=e;let s=Fr(i),a=r?-1:1;u(t,void 0,[])();function u(c,d,h){let m=c&&typeof c=="object"?c:{};if(typeof m.type=="string"){let g=typeof m.tagName=="string"?m.tagName:typeof m.name=="string"?m.name:void 0;Object.defineProperty(w,"name",{value:"node ("+Od(c.type+(g?"<"+g+">":""))+")"})}return w;function w(){let g=Rd,v,P,x;if((!e||s(c,d,h[h.length-1]||void 0))&&(g=rv(n(c,h)),g[0]===Hn))return g;if("children"in c&&c.children){let E=c;if(E.children&&g[0]!==No)for(P=(r?E.children.length:-1)+a,x=h.concat(E);P>-1&&P<E.children.length;){let F=E.children[P];if(v=u(F,P,x)(),v[0]===Hn)return v;P=typeof v[1]=="number"?v[1]:P+a}}return g}}}function rv(t){return Array.isArray(t)?t:typeof t=="number"?[Lo,t]:t==null?Rd:[t]}function pi(t,e,n,r){let i,s,a;typeof e=="function"&&typeof n!="function"?(s=void 0,a=e,i=n):(s=e,a=n,i=r),Rl(t,s,u,i);function u(c,d){let h=d[d.length-1],m=h?h.children.indexOf(c):void 0;return a(c,m,h)}}function $o(t,e){let n=!1;return pi(t,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,Hn}),!!((!t.depth||t.depth<3)&&Yn(t)&&(e.options.setext||n))}function Dd(t,e,n,r){let i=Math.max(Math.min(6,t.depth||1),1),s=n.createTracker(r);if($o(t,n)){let h=n.enter("headingSetext"),m=n.enter("phrasing"),w=n.containerPhrasing(t,{...s.current(),before:`
`,after:`
`});return m(),h(),w+`
`+(i===1?"=":"-").repeat(w.length-(Math.max(w.lastIndexOf("\r"),w.lastIndexOf(`
`))+1))}let a="#".repeat(i),u=n.enter("headingAtx"),c=n.enter("phrasing");s.move(a+" ");let d=n.containerPhrasing(t,{before:"# ",after:`
`,...s.current()});return/^[\t ]/.test(d)&&(d=dt(d.charCodeAt(0))+d.slice(1)),d=d?a+" "+d:a,n.options.closeAtx&&(d+=" "+a),c(),u(),d}Dl.peek=iv;function Dl(t){return t.value||""}function iv(){return"<"}Ml.peek=ov;function Ml(t,e,n,r){let i=Tr(n),s=i==='"'?"Quote":"Apostrophe",a=n.enter("image"),u=n.enter("label"),c=n.createTracker(r),d=c.move("![");return d+=c.move(n.safe(t.alt,{before:d,after:"]",...c.current()})),d+=c.move("]("),u(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(u=n.enter("destinationLiteral"),d+=c.move("<"),d+=c.move(n.safe(t.url,{before:d,after:">",...c.current()})),d+=c.move(">")):(u=n.enter("destinationRaw"),d+=c.move(n.safe(t.url,{before:d,after:t.title?" ":")",...c.current()}))),u(),t.title&&(u=n.enter(`title${s}`),d+=c.move(" "+i),d+=c.move(n.safe(t.title,{before:d,after:i,...c.current()})),d+=c.move(i),u()),d+=c.move(")"),a(),d}function ov(){return"!"}Ll.peek=sv;function Ll(t,e,n,r){let i=t.referenceType,s=n.enter("imageReference"),a=n.enter("label"),u=n.createTracker(r),c=u.move("!["),d=n.safe(t.alt,{before:c,after:"]",...u.current()});c+=u.move(d+"]["),a();let h=n.stack;n.stack=[],a=n.enter("reference");let m=n.safe(n.associationId(t),{before:c,after:"]",...u.current()});return a(),n.stack=h,s(),i==="full"||!d||d!==m?c+=u.move(m+"]"):i==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function sv(){return"!"}Nl.peek=av;function Nl(t,e,n){let r=t.value||"",i="`",s=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++s<n.unsafe.length;){let a=n.unsafe[s],u=n.compilePattern(a),c;if(a.atBreak)for(;c=u.exec(r);){let d=c.index;r.charCodeAt(d)===10&&r.charCodeAt(d-1)===13&&d--,r=r.slice(0,d)+" "+r.slice(c.index+1)}}return i+r+i}function av(){return"`"}function $l(t,e){let n=Yn(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}Bl.peek=lv;function Bl(t,e,n,r){let i=Tr(n),s=i==='"'?"Quote":"Apostrophe",a=n.createTracker(r),u,c;if($l(t,n)){let h=n.stack;n.stack=[],u=n.enter("autolink");let m=a.move("<");return m+=a.move(n.containerPhrasing(t,{before:m,after:">",...a.current()})),m+=a.move(">"),u(),n.stack=h,m}u=n.enter("link"),c=n.enter("label");let d=a.move("[");return d+=a.move(n.containerPhrasing(t,{before:d,after:"](",...a.current()})),d+=a.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),d+=a.move("<"),d+=a.move(n.safe(t.url,{before:d,after:">",...a.current()})),d+=a.move(">")):(c=n.enter("destinationRaw"),d+=a.move(n.safe(t.url,{before:d,after:t.title?" ":")",...a.current()}))),c(),t.title&&(c=n.enter(`title${s}`),d+=a.move(" "+i),d+=a.move(n.safe(t.title,{before:d,after:i,...a.current()})),d+=a.move(i),c()),d+=a.move(")"),u(),d}function lv(t,e,n){return $l(t,n)?"<":"["}Vl.peek=uv;function Vl(t,e,n,r){let i=t.referenceType,s=n.enter("linkReference"),a=n.enter("label"),u=n.createTracker(r),c=u.move("["),d=n.containerPhrasing(t,{before:c,after:"]",...u.current()});c+=u.move(d+"]["),a();let h=n.stack;n.stack=[],a=n.enter("reference");let m=n.safe(n.associationId(t),{before:c,after:"]",...u.current()});return a(),n.stack=h,s(),i==="full"||!d||d!==m?c+=u.move(m+"]"):i==="shortcut"?c=c.slice(0,-1):c+=u.move("]"),c}function uv(){return"["}function Pr(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}function Md(t){let e=Pr(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Ld(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}function Bo(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}function Nd(t,e,n,r){let i=n.enter("list"),s=n.bulletCurrent,a=t.ordered?Ld(n):Pr(n),u=t.ordered?a==="."?")":".":Md(n),c=e&&n.bulletLastUsed?a===n.bulletLastUsed:!1;if(!t.ordered){let h=t.children?t.children[0]:void 0;if((a==="*"||a==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),Bo(n)===a&&h){let m=-1;for(;++m<t.children.length;){let w=t.children[m];if(w&&w.type==="listItem"&&w.children&&w.children[0]&&w.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(a=u),n.bulletCurrent=a;let d=n.containerFlow(t,r);return n.bulletLastUsed=a,n.bulletCurrent=s,i(),d}function $d(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}function Bd(t,e,n,r){let i=$d(n),s=n.bulletCurrent||Pr(n);e&&e.type==="list"&&e.ordered&&(s=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+s);let a=s.length+1;(i==="tab"||i==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(a=Math.ceil(a/4)*4);let u=n.createTracker(r);u.move(s+" ".repeat(a-s.length)),u.shift(a);let c=n.enter("listItem"),d=n.indentLines(n.containerFlow(t,u.current()),h);return c(),d;function h(m,w,g){return w?(g?"":" ".repeat(a))+m:(g?s:s+" ".repeat(a-s.length))+m}}function Vd(t,e,n,r){let i=n.enter("paragraph"),s=n.enter("phrasing"),a=n.containerPhrasing(t,r);return s(),i(),a}var Yl=Fr(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Yd(t,e,n,r){return(t.children.some(function(a){return Yl(a)})?n.containerPhrasing:n.containerFlow).call(n,t,r)}function Ud(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}Ul.peek=cv;function Ul(t,e,n,r){let i=Ud(n),s=n.enter("strong"),a=n.createTracker(r),u=a.move(i+i),c=a.move(n.containerPhrasing(t,{after:i,before:u,...a.current()})),d=c.charCodeAt(0),h=Sr(r.before.charCodeAt(r.before.length-1),d,i);h.inside&&(c=dt(d)+c.slice(1));let m=c.charCodeAt(c.length-1),w=Sr(r.after.charCodeAt(0),m,i);w.inside&&(c=c.slice(0,-1)+dt(m));let g=a.move(i+i);return s(),n.attentionEncodeSurroundingInfo={after:w.outside,before:h.outside},u+c+g}function cv(t,e,n){return n.options.strong||"*"}function Wd(t,e,n,r){return n.safe(t.value,r)}function zd(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}function Hd(t,e,n){let r=(Bo(n)+(n.options.ruleSpaces?" ":"")).repeat(zd(n));return n.options.ruleSpaces?r.slice(0,-1):r}var Gd={blockquote:xd,break:Il,code:Pd,definition:_d,emphasis:Ol,hardBreak:Il,heading:Dd,html:Dl,image:Ml,imageReference:Ll,inlineCode:Nl,link:Bl,linkReference:Vl,list:Nd,listItem:Bd,paragraph:Vd,root:Yd,strong:Ul,text:Wd,thematicBreak:Hd};var qd=[fv];function fv(t,e,n,r){if(e.type==="code"&&hi(e,r)&&(t.type==="list"||t.type===e.type&&hi(t,r)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&$o(e,r))?void 0:n.spread?1:0}var Gn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],jd=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:Gn},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:Gn},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:Gn},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:Gn},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:Gn},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:Gn},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:Gn},{atBreak:!0,character:"~"}];function Kd(t){return t.label||!t.identifier?t.label||"":Ro(t.identifier)}function Xd(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}function Zd(t,e,n){let r=e.indexStack,i=t.children||[],s=[],a=-1,u=n.before,c;r.push(-1);let d=e.createTracker(n);for(;++a<i.length;){let h=i[a],m;if(r[r.length-1]=a,a+1<i.length){let v=e.handle.handlers[i[a+1].type];v&&v.peek&&(v=v.peek),m=v?v(i[a+1],t,e,{before:"",after:"",...d.current()}).charAt(0):""}else m=n.after;s.length>0&&(u==="\r"||u===`
`)&&h.type==="html"&&(s[s.length-1]=s[s.length-1].replace(/(\r?\n|\r)$/," "),u=" ",d=e.createTracker(n),d.move(s.join("")));let w=e.handle(h,t,e,{...d.current(),after:m,before:u});c&&c===w.slice(0,1)&&(w=dt(c.charCodeAt(0))+w.slice(1));let g=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,c=void 0,g&&(s.length>0&&g.before&&u===s[s.length-1].slice(-1)&&(s[s.length-1]=s[s.length-1].slice(0,-1)+dt(u.charCodeAt(0))),g.after&&(c=m)),d.move(w),s.push(w),u=w.slice(-1)}return r.pop(),s.join("")}function Jd(t,e,n){let r=e.indexStack,i=t.children||[],s=e.createTracker(n),a=[],u=-1;for(r.push(-1);++u<i.length;){let c=i[u];r[r.length-1]=u,a.push(s.move(e.handle(c,t,e,{before:`
`,after:`
`,...s.current()}))),c.type!=="list"&&(e.bulletLastUsed=void 0),u<i.length-1&&a.push(s.move(dv(c,i[u+1],t,e)))}return r.pop(),a.join("")}function dv(t,e,n,r){let i=r.join.length;for(;i--;){let s=r.join[i](t,e,n,r);if(s===!0||s===1)break;if(typeof s=="number")return`
`.repeat(1+s);if(s===!1)return`

<!---->

`}return`

`}var hv=/\r?\n|\r/g;function Qd(t,e){let n=[],r=0,i=0,s;for(;s=hv.exec(t);)a(t.slice(r,s.index)),n.push(s[0]),r=s.index+s[0].length,i++;return a(t.slice(r)),n.join("");function a(u){n.push(e(u,i,!u))}}function th(t,e,n){let r=(n.before||"")+(e||"")+(n.after||""),i=[],s=[],a={},u=-1;for(;++u<t.unsafe.length;){let h=t.unsafe[u];if(!Do(t.stack,h))continue;let m=t.compilePattern(h),w;for(;w=m.exec(r);){let g="before"in h||!!h.atBreak,v="after"in h,P=w.index+(g?w[1].length:0);i.includes(P)?(a[P].before&&!g&&(a[P].before=!1),a[P].after&&!v&&(a[P].after=!1)):(i.push(P),a[P]={before:g,after:v})}}i.sort(pv);let c=n.before?n.before.length:0,d=r.length-(n.after?n.after.length:0);for(u=-1;++u<i.length;){let h=i[u];h<c||h>=d||h+1<d&&i[u+1]===h+1&&a[h].after&&!a[h+1].before&&!a[h+1].after||i[u-1]===h-1&&a[h].before&&!a[h-1].before&&!a[h-1].after||(c!==h&&s.push(eh(r.slice(c,h),"\\")),c=h,/[!-/:-@[-`{-~]/.test(r.charAt(h))&&(!n.encode||!n.encode.includes(r.charAt(h)))?s.push("\\"):(s.push(dt(r.charCodeAt(h))),c++))}return s.push(eh(r.slice(c,d),n.after)),s.join("")}function pv(t,e){return t-e}function eh(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,r=[],i=[],s=t+e,a=-1,u=0,c;for(;c=n.exec(s);)r.push(c.index);for(;++a<r.length;)u!==r[a]&&i.push(t.slice(u,r[a])),i.push("\\"),u=r[a];return i.push(t.slice(u)),i.join("")}function nh(t){let e=t||{},n=e.now||{},r=e.lineShift||0,i=n.line||1,s=n.column||1;return{move:c,current:a,shift:u};function a(){return{now:{line:i,column:s},lineShift:r}}function u(d){r+=d}function c(d){let h=d||"",m=h.split(/\r?\n|\r/g),w=m[m.length-1];return i+=m.length-1,s=m.length===1?s+w.length:1+w.length+r,h}}function Wl(t,e){let n=e||{},r={associationId:Kd,containerPhrasing:yv,containerFlow:bv,createTracker:nh,compilePattern:Xd,enter:s,handlers:{...Gd},handle:void 0,indentLines:Qd,indexStack:[],join:[...qd],options:{},safe:kv,stack:[],unsafe:[...jd]};_l(r,n),r.options.tightDefinitions&&r.join.push(wv),r.handle=Ed("type",{invalid:mv,unknown:gv,handlers:r.handlers});let i=r.handle(t,void 0,r,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return i&&i.charCodeAt(i.length-1)!==10&&i.charCodeAt(i.length-1)!==13&&(i+=`
`),i;function s(a){return r.stack.push(a),u;function u(){r.stack.pop()}}}function mv(t){throw new Error("Cannot handle value `"+t+"`, expected node")}function gv(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}function wv(t,e){if(t.type==="definition"&&t.type===e.type)return 0}function yv(t,e){return Zd(t,this,e)}function bv(t,e){return Jd(t,this,e)}function kv(t,e){return th(this,t,e)}function Vo(t){let e=this;e.compiler=n;function n(r){return Wl(r,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}}function zl(t){if(t)throw t}var zo=Re(fh(),1);function mi(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function Hl(){let t=[],e={run:n,use:r};return e;function n(...i){let s=-1,a=i.pop();if(typeof a!="function")throw new TypeError("Expected function as last argument, not "+a);u(null,...i);function u(c,...d){let h=t[++s],m=-1;if(c){a(c);return}for(;++m<i.length;)(d[m]===null||d[m]===void 0)&&(d[m]=i[m]);i=d,h?dh(h,u)(...d):a(null,...d)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return t.push(i),e}}function dh(t,e){let n;return r;function r(...a){let u=t.length>a.length,c;u&&a.push(i);try{c=t.apply(this,a)}catch(d){let h=d;if(u&&n)throw h;return i(h)}u||(c&&c.then&&typeof c.then=="function"?c.then(s,i):c instanceof Error?i(c):s(c))}function i(a,...u){n||(n=!0,e(a,...u))}function s(a){i(null,a)}}var Ie=class extends Error{constructor(e,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",s={},a=!1;if(n&&("line"in n&&"column"in n?s={place:n}:"start"in n&&"end"in n?s={place:n}:"type"in n?s={ancestors:[n],place:n.position}:s={...n}),typeof e=="string"?i=e:!s.cause&&e&&(a=!0,i=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof r=="string"){let c=r.indexOf(":");c===-1?s.ruleId=r:(s.source=r.slice(0,c),s.ruleId=r.slice(c+1))}if(!s.place&&s.ancestors&&s.ancestors){let c=s.ancestors[s.ancestors.length-1];c&&(s.place=c.position)}let u=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=u?u.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=u?u.line:void 0,this.name=En(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=a&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}};Ie.prototype.file="";Ie.prototype.name="";Ie.prototype.reason="";Ie.prototype.message="";Ie.prototype.stack="";Ie.prototype.column=void 0;Ie.prototype.line=void 0;Ie.prototype.ancestors=void 0;Ie.prototype.cause=void 0;Ie.prototype.fatal=void 0;Ie.prototype.place=void 0;Ie.prototype.ruleId=void 0;Ie.prototype.source=void 0;var At=Re(require("node:path"),1);var Gl=Re(require("node:process"),1);var ql=require("node:url");function Uo(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}var jl=["history","path","basename","stem","extname","dirname"],gi=class{constructor(e){let n;e?Uo(e)?n={path:e}:typeof e=="string"||Av(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":Gl.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<jl.length;){let s=jl[r];s in n&&n[s]!==void 0&&n[s]!==null&&(this[s]=s==="history"?[...n[s]]:n[s])}let i;for(i in n)jl.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?At.default.basename(this.path):void 0}set basename(e){Xl(e,"basename"),Kl(e,"basename"),this.path=At.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?At.default.dirname(this.path):void 0}set dirname(e){hh(this.basename,"dirname"),this.path=At.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?At.default.extname(this.path):void 0}set extname(e){if(Kl(e,"extname"),hh(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=At.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Uo(e)&&(e=(0,ql.fileURLToPath)(e)),Xl(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?At.default.basename(this.path,this.extname):void 0}set stem(e){Xl(e,"stem"),Kl(e,"stem"),this.path=At.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,r){let i=this.message(e,n,r);throw i.fatal=!0,i}info(e,n,r){let i=this.message(e,n,r);return i.fatal=void 0,i}message(e,n,r){let i=new Ie(e,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function Kl(t,e){if(t&&t.includes(At.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+At.default.sep+"`")}function Xl(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function hh(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Av(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var ph=(function(t){let r=this.constructor.prototype,i=r[t],s=function(){return i.apply(s,arguments)};return Object.setPrototypeOf(s,r),s});var vv={}.hasOwnProperty,eu=class t extends ph{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Hl()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let r=this.attachers[n];e.use(...r)}return e.data((0,zo.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(Ql("data",this.frozen),this.namespace[e]=n,this):vv.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Ql("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);let i=n.call(e,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=Wo(e),r=this.parser||this.Parser;return Zl("parse",r),r(String(n),n)}process(e,n){let r=this;return this.freeze(),Zl("process",this.parser||this.Parser),Jl("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(s,a){let u=Wo(e),c=r.parse(u);r.run(c,u,function(h,m,w){if(h||!m||!w)return d(h);let g=m,v=r.stringify(g,w);Cv(v)?w.value=v:w.result=v,d(h,w)});function d(h,m){h||!m?a(h):s?s(m):n(void 0,m)}}}processSync(e){let n=!1,r;return this.freeze(),Zl("processSync",this.parser||this.Parser),Jl("processSync",this.compiler||this.Compiler),this.process(e,i),gh("processSync","process",n),r;function i(s,a){n=!0,zl(s),r=a}}run(e,n,r){mh(e),this.freeze();let i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?s(void 0,r):new Promise(s);function s(a,u){let c=Wo(n);i.run(e,c,d);function d(h,m,w){let g=m||e;h?u(h):a?a(g):r(void 0,g,w)}}}runSync(e,n){let r=!1,i;return this.run(e,n,s),gh("runSync","run",r),i;function s(a,u){zl(a),i=u,r=!0}}stringify(e,n){this.freeze();let r=Wo(n),i=this.compiler||this.Compiler;return Jl("stringify",i),mh(e),i(e,r)}use(e,...n){let r=this.attachers,i=this.namespace;if(Ql("use",this.frozen),e!=null)if(typeof e=="function")c(e,n);else if(typeof e=="object")Array.isArray(e)?u(e):a(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(d){if(typeof d=="function")c(d,[]);else if(typeof d=="object")if(Array.isArray(d)){let[h,...m]=d;c(h,m)}else a(d);else throw new TypeError("Expected usable value, not `"+d+"`")}function a(d){if(!("plugins"in d)&&!("settings"in d))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");u(d.plugins),d.settings&&(i.settings=(0,zo.default)(!0,i.settings,d.settings))}function u(d){let h=-1;if(d!=null)if(Array.isArray(d))for(;++h<d.length;){let m=d[h];s(m)}else throw new TypeError("Expected a list of plugins, not `"+d+"`")}function c(d,h){let m=-1,w=-1;for(;++m<r.length;)if(r[m][0]===d){w=m;break}if(w===-1)r.push([d,...h]);else if(h.length>0){let[g,...v]=h,P=r[w][1];mi(P)&&mi(g)&&(g=(0,zo.default)(!0,P,g)),r[w]=[d,g,...v]}}}},tu=new eu().freeze();function Zl(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}function Jl(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}function Ql(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function mh(t){if(!mi(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}function gh(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}function Wo(t){return Ev(t)?t:new gi(t)}function Ev(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}function Cv(t){return typeof t=="string"||xv(t)}function xv(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}var wh=tu().use(xr).use(Vo).freeze();var ru={d:(t,e)=>{for(var n in e)ru.o(e,n)&&!ru.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},iu={};ru.d(iu,{Z:()=>Pv,$:()=>Ah});var _r={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function yh(t){return t<_r.nul||t===_r.space}function nu(t){return t<_r.horizontalTab}var Tv={553:t=>{t.exports=function(e){var n,r;return e._compiled||(n=e.before?"(?:"+e.before+")":"",r=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(r||""),"g")),e._compiled}},112:t=>{function e(n,r,i){var s;if(!r)return i;for(typeof r=="string"&&(r=[r]),s=-1;++s<r.length;)if(n.indexOf(r[s])!==-1)return!0;return!1}t.exports=function(n,r){return e(n,r.inConstruct,!0)&&!e(n,r.notInConstruct)}},113:(t,e,n)=>{t.exports=function(u,c,d){for(var h,m,w,g,v,P,x,E,F=(d.before||"")+(c||"")+(d.after||""),_=[],Y=[],W={},T=-1;++T<u.unsafe.length;)if(g=u.unsafe[T],i(u.stack,g))for(v=r(g);P=v.exec(F);)h="before"in g||g.atBreak,m="after"in g,w=P.index+(h?P[1].length:0),_.indexOf(w)===-1?(_.push(w),W[w]={before:h,after:m}):(W[w].before&&!h&&(W[w].before=!1),W[w].after&&!m&&(W[w].after=!1));for(_.sort(s),x=d.before?d.before.length:0,E=F.length-(d.after?d.after.length:0),T=-1;++T<_.length;)(w=_[T])<x||w>=E||w+1<E&&_[T+1]===w+1&&W[w].after&&!W[w+1].before&&!W[w+1].after||(x!==w&&Y.push(a(F.slice(x,w),"\\")),x=w,!/[!-/:-@[-`{-~]/.test(F.charAt(w))||d.encode&&d.encode.indexOf(F.charAt(w))!==-1?(Y.push("&#x"+F.charCodeAt(w).toString(16).toUpperCase()+";"),x++):Y.push("\\"));return Y.push(a(F.slice(x,E),d.after)),Y.join("")};var r=n(553),i=n(112);function s(u,c){return u-c}function a(u,c){for(var d,h=/\\(?=[!-/:-@[-`{-~])/g,m=[],w=[],g=-1,v=0,P=u+c;d=h.exec(P);)m.push(d.index);for(;++g<m.length;)v!==m[g]&&w.push(u.slice(v,m[g])),w.push("\\"),v=m[g];return w.push(u.slice(v)),w.join("")}}},bh={};function Ut(t){var e=bh[t];if(e!==void 0)return e.exports;var n=bh[t]={exports:{}};return Tv[t](n,n.exports,Ut),n.exports}Ut.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Ut.d(e,{a:e}),e},Ut.d=(t,e)=>{for(var n in e)Ut.o(e,n)&&!Ut.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Ut.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var ou={};(()=>{function t(i={}){let s=i.permalinks||[],a=i.pageResolver||(w=>[w.replace(/ /g,"_").toLowerCase()]),u=i.newClassName||"new",c=i.wikiLinkClassName||"internal",d=i.hrefTemplate||(w=>`#/page/${w}`),h;function m(w){return w[w.length-1]}return{enter:{wikiLink:function(w){h={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(h,w)}},exit:{wikiLinkTarget:function(w){let g=this.sliceSerialize(w);m(this.stack).value=g},wikiLinkAlias:function(w){let g=this.sliceSerialize(w);m(this.stack).data.alias=g},wikiLink:function(w){this.exit(w);let g=h,v=a(g.value),P=v.find((Y=>s.indexOf(Y)!==-1)),x=P!==void 0,E;E=x?P:v[0]||"";let F=g.value;g.data.alias&&(F=g.data.alias);let _=c;x||(_+=" "+u),g.data.alias=F,g.data.permalink=E,g.data.exists=x,g.data.hName="a",g.data.hProperties={className:_,href:d(E)},g.data.hChildren=[{type:"text",value:F}]}}}}Ut.d(ou,{V:()=>t,x:()=>r});var e=Ut(113),n=Ut.n(e);function r(i={}){let s=i.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:function(a,u,c){let d=c.enter("wikiLink"),h=n()(c,a.value,{before:"[",after:"]"}),m=n()(c,a.data.alias,{before:"[",after:"]"}),w;return w=m!==h?`[[${h}${s}${m}]]`:`[[${h}]]`,d(),w}}}}})();var Sv=ou.V,Fv=ou.x,kh=!1;function Ah(t={}){let e=this.data();function n(r,i){e[r]?e[r].push(i):e[r]=[i]}!kh&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(kh=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",(function(){var r=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",i="]]";return{text:{91:{tokenize:function(s,a,u){var c,d,h=0,m=0,w=0;return function(F){return F!=="[[".charCodeAt(m)?u(F):(s.enter("wikiLink"),s.enter("wikiLinkMarker"),g(F))};function g(F){return m===2?(s.exit("wikiLinkMarker"),(function(_){return nu(_)||_===_r.eof?u(_):(s.enter("wikiLinkData"),s.enter("wikiLinkTarget"),v(_))})(F)):F!=="[[".charCodeAt(m)?u(F):(s.consume(F),m++,g)}function v(F){return F===r.charCodeAt(h)?c?(s.exit("wikiLinkTarget"),s.enter("wikiLinkAliasMarker"),P(F)):u(F):F===i.charCodeAt(w)?c?(s.exit("wikiLinkTarget"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),E(F)):u(F):nu(F)||F===_r.eof?u(F):(yh(F)||(c=!0),s.consume(F),v)}function P(F){return h===r.length?(s.exit("wikiLinkAliasMarker"),s.enter("wikiLinkAlias"),x(F)):F!==r.charCodeAt(h)?u(F):(s.consume(F),h++,P)}function x(F){return F===i.charCodeAt(w)?d?(s.exit("wikiLinkAlias"),s.exit("wikiLinkData"),s.enter("wikiLinkMarker"),E(F)):u(F):nu(F)||F===_r.eof?u(F):(yh(F)||(d=!0),s.consume(F),x)}function E(F){return w===2?(s.exit("wikiLinkMarker"),s.exit("wikiLink"),a(F)):F!==i.charCodeAt(w)?u(F):(s.consume(F),w++,E)}}}}}})(t)),n("fromMarkdownExtensions",Sv(t)),n("toMarkdownExtensions",Fv(t))}var Pv=Ah,RO=iu.Z,vh=iu.$;(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var _v=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function su(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return _v.test(t)}var qn=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function Ho(t){let e=(0,qn.getFrontMatterInfo)(t);return(0,qn.parseYaml)(e.frontmatter)??{}}function Eh(t,e){let n=(0,qn.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let r=(0,qn.stringifyYaml)(e);return n.exists?Sf(t,r,n.from,n.to):`---
${r}---
${t}`}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function ht(t){if(!ct(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function Ch(t){return au(t)&&t.type==="file"}function au(t){return ct(t)&&!!t.isCanvas}function Ir(t,e){return{newContent:e,oldContent:t.original,reference:t}}function xh(t){return t.sort((e,n)=>{if(ct(e)&&ct(n)){let r=ht(e)?e.startOffset:0,i=ht(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(ht(n))-Number(ht(e))||r-i}return an(e)&&an(n)?e.position.start.offset-n.position.start.offset:ct(e)?1:-1})}var Th=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();async function Sh(t,e,n){let r=_e(t,e),i=bt(n);await Go(t,i);let s=Fh(t,n);try{await t.vault.copy(r,s)}catch(a){if(!await t.vault.exists(s))throw a}return s}async function Go(t,e){if(await t.vault.adapter.exists(e))return!1;try{return await t.vault.createFolder(e),!0}catch(n){if(!await t.vault.exists(e))throw n;return!0}}function Fh(t,e){let n=Ve(e);return t.vault.getAvailablePath(Ae(ge(e),xe(e,n)),n.slice(1))}function lu(t,e,n){let r=ve(t,e);if(t.vault.adapter.insensitive){let i=ge(n),s=xe(n),a;for(;a=Yt(t,i,!0),!a;)s=Ae(xe(i),s),i=ge(i);n=Ae(a.getParentPrefix(),s)}return r.toLowerCase()===n.toLowerCase()?n:Fh(t,n)}async function uu(t,e){let n=await cu(t,ve(t,e));return n.files.length===0&&n.folders.length===0}async function cu(t,e){let n=ve(t,e),r={files:[],folders:[]};if((await t.vault.adapter.stat(n))?.type!=="folder")return r;try{return await t.vault.adapter.list(n)}catch(i){if(await t.vault.exists(n))throw i;return r}}async function qo(t,e,n,r={}){let s={...{shouldFailOnMissingFile:!0},...r};await wo(async a=>{a.throwIfAborted();let u=await fu(t,e);if(a.throwIfAborted(),u===null)return m();let c=await Bn(n,a,u);if(a.throwIfAborted(),c===null)return!1;let d=!0;if(!await Ph(t,e,async w=>{a.throwIfAborted(),await t.vault.process(w,g=>(a.throwIfAborted(),g!==u?(console.warn("Content has changed since it was read. Retrying...",{actualContent:g,expectedContent:u,path:w.path}),d=!1,g):c)),a.throwIfAborted()}))return m();return d;function m(){if(s.shouldFailOnMissingFile){let w=ve(t,e);throw new Error(`File '${w}' not found`)}return!0}},s)}async function fu(t,e){let n=null;return await Ph(t,e,async r=>{n=await t.vault.read(r)}),n}async function jo(t,e,n){let r=_e(t,e,!1,!0),i=lu(t,e,n);if(r.path.toLowerCase()===i.toLowerCase())return r.path!==n&&await t.vault.rename(r,i),i;let s=bt(i);await Go(t,s);try{await t.vault.rename(r,i)}catch(a){if(!await t.vault.exists(i)||await t.vault.exists(r.path))throw a}return i}async function du(t,e){if(!cn(t,e))return;let n=ve(t,e);for(let r of t.workspace.getLeavesOfType(Rf.Markdown))r.view instanceof Th.MarkdownView&&r.view.file?.path===n&&r.view.dirty&&await r.view.save()}async function Ph(t,e,n){let r=ve(t,e),i=ot(t,r);if(!i||i.deleted)return!1;try{return await n(i),!0}catch(s){if(i=ot(t,r),!i||i.deleted)return!1;throw s}}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();async function Zo(t,e,n,r,i=!0){t.throwIfAborted();let s=await Bn(r,t),a={},u=!1;try{a=Ho(e)}catch(w){console.error(new Error(`Frontmatter parsing failed in ${n}`,{cause:w})),u=!0}if(!Lv(s,e,a,n,i))return i?null:e;s.sort((w,g)=>dn(w)&&dn(g)?w.reference.position.start.offset-g.reference.position.start.offset:Xo(w)&&Xo(g)?w.reference.key.localeCompare(g.reference.key)||w.reference.startOffset-g.reference.startOffset:Ko(w)&&Ko(g)?w.reference.key.localeCompare(g.reference.key):dn(w)?-1:1),s=s.filter((w,g)=>w.oldContent===w.newContent?!1:g===0?!0:!wt(w,s[g-1]));for(let w=1;w<s.length;w++){let g=s[w];if(!g)continue;let v=s[w-1];if(v&&dn(v)&&dn(g)&&v.reference.position.end.offset&&v.reference.position.end.offset>g.reference.position.start.offset)return console.warn("Overlapping changes",{change:g,previousChange:v}),null}let c="",d=0,h=!1,m=new Map;for(let w of s)if(dn(w))c+=e.slice(d,w.reference.position.start.offset),c+=w.newContent,d=w.reference.position.end.offset;else if(Xo(w))if(u)console.error(`Cannot apply frontmatter change in ${n}, because frontmatter parsing failed`,{change:w});else{let g=m.get(w.reference.key);g||(g=[],m.set(w.reference.key,g)),g.push(w),h=!0}else Ko(w)&&(u?console.error(`Cannot apply frontmatter change in ${n}, because frontmatter parsing failed`,{change:w}):(sl(a,w.reference.key,w.newContent),h=!0));return await Dv(t,a,m,n),t.throwIfAborted(),c+=e.slice(d),h&&(c=Eh(c,a)),c}async function Jo(t,e,n,r={},i=!0){await qo(t,e,async(s,a)=>un(t,e)?await Rv(s,a,ve(t,e),n,i):await Zo(s,a,ve(t,e),n,i),r)}function wi(t){return au(t.reference)}function Iv(t){return wi(t)&&t.reference.type==="file"}function Ov(t){return wi(t)&&t.reference.type==="text"}function dn(t){return an(t.reference)}function Ko(t){return ct(t.reference)}function Xo(t){return ht(t.reference)}async function Rv(t,e,n,r,i=!0){let s=await Bn(r,t),a=Mv(e),u=new Map;for(let c of s){if(!wi(c))return console.warn("Only canvas changes are supported for canvas files",{change:c,path:n}),null;let d=a.nodes[c.reference.nodeIndex];if(!d)return console.warn("Node not found",{nodeIndex:c.reference.nodeIndex,path:n}),null;if(Iv(c)){if(d.file!==c.oldContent)return console.warn("Content mismatch",{actualContent:d.file,expectedContent:c.oldContent,nodeIndex:c.reference.nodeIndex,path:n,type:"file"}),null;d.file=c.newContent}else if(Ov(c)){let h=u.get(c.reference.nodeIndex);h||(h=[],u.set(c.reference.nodeIndex,h)),h.push(c)}}for(let[c,d]of u.entries()){let h=a.nodes[c];if(!h)return console.warn("Node not found",{nodeIndex:c,path:n}),null;if(typeof h.text!="string")return console.warn("Node text is not a string",{nodeIndex:c,path:n}),null;let m=d.map(w=>Ir(w.reference.originalReference,w.newContent));h.text=await Zo(t,h.text,`${n}.node${String(c)}.VIRTUAL_FILE.md`,m,i)}return JSON.stringify(a,null,"	")}async function Dv(t,e,n,r){for(let[i,s]of n.entries()){let a=kn(e,i);if(typeof a!="string")return;let u=s.map(d=>({newContent:d.newContent,oldContent:d.oldContent,reference:{link:"",original:"",position:{end:{col:d.reference.endOffset,line:0,offset:d.reference.endOffset},start:{col:d.reference.startOffset,line:0,offset:d.reference.startOffset}}}})),c=await Zo(t,a,`${r}.frontmatter.${i}.VIRTUAL_FILE.md`,u);if(c===null)return;sl(e,i,c)}}function Mv(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}function Lv(t,e,n,r,i){let s=hr("FileChange:validateChanges"),a=i?console.warn.bind(console):s;for(let u of t)if(dn(u)){let c=u.reference.position.start.offset,d=u.reference.position.end.offset,h=e.slice(c,d);if(h!==u.oldContent)return a("Content mismatch",{actualContent:h,endOffset:d,expectedContent:u.oldContent,path:r,startOffset:c}),!1}else if(Xo(u)){let c=kn(n,u.reference.key);if(typeof c!="string")return a("Property value is not a string",{frontmatterKey:u.reference.key,path:r,propertyValue:c}),!1;let d=c.slice(u.reference.startOffset,u.reference.endOffset);if(d!==u.oldContent)return a("Content mismatch",{actualContent:d,expectedContent:u.oldContent,frontmatterKey:u.reference.key,path:r,startOffset:u.reference.startOffset}),!1}else if(Ko(u)){let c=kn(n,u.reference.key);if(c!==u.oldContent)return a("Content mismatch",{actualContent:c,expectedContent:u.oldContent,frontmatterKey:u.reference.key,path:r}),!1}return!0}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();async function _h(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}function xn(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),xh(e),e=e.filter((n,r)=>{if(r===0)return!0;let i=e[r-1];if(!i)return!0;if(an(n)&&an(i))return n.position.start.offset!==i.position.start.offset;if(ct(n)&&ct(i)){let s=ht(n)?n.startOffset:0,a=ht(i)?i.startOffset:0;return n.key!==i.key||ht(n)!==ht(i)||s!==a}return!0}),e}function hu(t,e){let n=_e(t,e,!0);return yi(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}async function hn(t,e,n={}){let r=t.metadataCache.getBacklinksForFile.safe;if(r)return r(e);let i=new Of;return await wo(async s=>{s.throwIfAborted();let a=_e(t,e);await _h(t),s.throwIfAborted(),i=hu(t,a);for(let u of i.keys()){s.throwIfAborted();let c=ot(t,u);if(!c)return!1;await du(t,c),s.throwIfAborted();let d=await fu(t,c);if(s.throwIfAborted(),!d)return!1;let h=Ho(d),m=i.get(u);if(!m)return!1;for(let w of m){let g;if(an(w))g=d.slice(w.position.start.offset,w.position.end.offset);else if(ct(w)){let v=kn(h,w.key);if(typeof v!="string")return!1;let P=0,x=v.length;ht(w)&&(P=w.startOffset,x=w.endOffset),g=v.slice(P,x)}else return!0;if(g!==w.original)return!1}}return!0},n),i}async function Or(t,e){let n=ot(t,e);if(!n||n.deleted)return null;await du(t,n);let r=t.metadataCache.fileCache[n.path];return r&&r.mtime===n.stat.mtime&&r.size===n.stat.size&&t.metadataCache.metadataCache[r.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await _h(t)),t.metadataCache.getFileCache(n)}function Nv(t,e){let n=new Set;for(let r of e){if(!r.deleted)continue;let i=r;for(;i.deleted;)n.add(i.path),t.vault.fileMap[i.path]=i,i=i.parent??oi(t,bt(i.path),!0);kt(r)&&t.metadataCache.uniqueFileLookup.add(r.name.toLowerCase(),r)}return()=>{for(let r of n)delete t.vault.fileMap[r];for(let r of e)r.deleted&&kt(r)&&t.metadataCache.uniqueFileLookup.remove(r.name.toLowerCase(),r)}}function yi(t,e,n){let r=Nv(t,e);try{return n()}finally{r()}}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function Ih(t){return t.vault.getConfig("newLinkFormat")==="relative"}function pu(t){return!t.vault.getConfig("useMarkdownLinks")}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var $v="\\|",Bv=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,Vv=/[\\[\]<>_*~=`$]/g,Dh=/(?<!\\)\|/g,Mh="|",mu=(t=>(t.Markdown="Markdown",t.ObsidianSettingsDefault="ObsidianSettingsDefault",t.PreserveExisting="PreserveExisting",t.Wikilink="Wikilink",t))(mu||{});function Yv(t){let e=Rr(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?Ai({app:t.app,link:t.link,linkStyle:t.linkStyle,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldUpdateFileNameAlias:t.shouldUpdateFileNameAlias}):t.link.original}async function gu(t,e,n,r={}){await Jo(t,e,async()=>{let i=await Or(t,e);return await Kv(i,un(t,e),n)},r)}function bi(t){return ke(t,Bv,({substring:e})=>encodeURIComponent(e))}function Rr(t,e,n,r=!1){let{linkPath:i}=Lh(e.link),s=ve(t,n),a=t.metadataCache.getFirstLinkpathDest(i,s);if(a)return a;if(!r)return null;if(i.startsWith("/"))return _e(t,i,!0);let u=Ae(ge(s),`./${i}`);return u.startsWith("../")?null:_e(t,u,!0)}function wu(t){let{app:e}=t,r=(e.fileManager.generateMarkdownLink.defaultOptionsFn??(()=>({})))();t={...{isEmptyEmbedAliasAllowed:!0},...r,...t};let s=_e(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return yi(e,[s],()=>Gv(t))}function ki(t){let e=Uv(t);return e[0]?.raw===t?e[0]:null}function Uv(t){let e=new Set,n="![",r=" [",i=ke(t,n,h=>(e.add(h.offset),r)),a=wh().use(xr).use(vh,{aliasDivider:Mh}).parse(i),u=[],c=[];pi(a,h=>{let m;switch(h.type){case"link":m=Zv(h,t);break;case"wikiLink":m=Jv(h,t);break;default:return}e.has(m.startOffset-1)&&(m.isEmbed=!0,m.startOffset--,m.raw=`!${m.raw}`),u.push(m)}),u.sort((h,m)=>h.startOffset-m.startOffset);let d=0;for(let h of u)Oh(t,d,h.startOffset-1,c),d=h.endOffset+1;return Oh(t,d,t.length-1,c),u.push(...c),u.sort((h,m)=>h.startOffset-m.startOffset),u}function Wv(t){let{app:e,displayText:n,isWikilink:r,newSourcePathOrFile:i,oldSourcePathOrFile:s,oldTargetPath:a,targetPathOrFile:u}=t;if(r===!1)return!1;if(!n)return!0;let c=_e(e,u,!0),d=ve(e,i),h=ve(e,s??i),m=ge(d),w=ge(h),g=new Set;for(let P of[c.path,a]){if(!P)continue;let x=ve(e,P);g.add(x),g.add(xe(x)),g.add(br(m,x)),g.add(br(w,x))}for(let P of[h,d])g.add(e.metadataCache.fileToLinktext(c,P,!1));let v=ke((0,Qo.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let P of g){if(P.toLowerCase()===v)return!0;let x=ge(P),E=xe(P,Ve(P));if(Ae(x,E).toLowerCase()===v)return!0}return!1}function Lh(t){let e=(0,Qo.parseLinktext)(ii(t));return{linkPath:e.path,subpath:e.subpath}}function yu(t){return ki(t)?.hasAngleBrackets??!1}function Nh(t){return ki(t)?.isEmbed??!1}function zv(t){return ki(t)?.url.startsWith("./")??!1}function bu(t){return ki(t)?.isWikilink??!1}function Ai(t){let{app:e,link:n,linkStyle:r,newSourcePathOrFile:i,newTargetPathOrFile:s,oldSourcePathOrFile:a,oldTargetPathOrFile:u,shouldUpdateFileNameAlias:c}=t;if(!s)return n.original;let d=_e(e,s,!0),h=ve(e,u??s),m=Vh(e,n.original,r),{subpath:w}=Lh(n.link),g=!c;if(un(e,i)&&Ch(n))return d.path+w;let v=ki(n.original),P;return m&&v?.alias&&(P=v.alias,g=!0),P??=Wv({app:e,displayText:n.displayText,isWikilink:m,newSourcePathOrFile:i,oldSourcePathOrFile:a,oldTargetPath:h,targetPathOrFile:d})?void 0:v?.alias,g||(P===xe(h,Ve(h))?P=d.basename:P===xe(h)&&(P=d.name)),wu({alias:P,app:e,linkStyle:r,originalLink:n.original,sourcePathOrFile:i,subpath:w,targetPathOrFile:d})}async function $h(t){let{app:e,linkStyle:n,newSourcePathOrFile:r,oldSourcePathOrFile:i,shouldUpdateEmbedOnlyLinks:s,shouldUpdateFileNameAlias:a}=t;un(e,r)&&!e.internalPlugins.getEnabledPluginById(yt.Canvas)||await gu(e,r,u=>{let c=Nh(u.original);if(!(s!==void 0&&s!==c))return Yv({app:e,link:u,linkStyle:n,newSourcePathOrFile:r,oldSourcePathOrFile:i,shouldUpdateFileNameAlias:a})},t)}function Oh(t,e,n,r){if(e>n)return;let i=t.slice(e,n+1);ke(i,/(?<Url>\S+)/g,(s,a)=>{su(a)&&r.push({encodedUrl:bi(a),endOffset:e+s.offset+a.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:a,startOffset:e+s.offset,url:a})})}function Hv(t,e,n,r,i){n==="/"&&(n="");let s;return e.path===n&&r?s=r:i.shouldForceRelativePath?s=br(ge(n),i.isWikilink?zf(t,e):e.path)+r:s=t.metadataCache.fileToLinktext(e,n,i.isWikilink)+r,i.shouldForceRelativePath&&i.shouldUseLeadingDot&&!s.startsWith(".")&&!s.startsWith("#")&&(s=`./${s}`),s}function Gv(t){let{app:e}=t,n=_e(e,t.targetPathOrFile,t.isNonExistingFileAllowed),r=ve(e,t.sourcePathOrFile),i=t.subpath??"",s=Xv(t,n),a=Hv(e,n,r,i,s);return s.isWikilink?jv(a,t.alias,s.isEmbed):qv(a,n,t,s)}function qv(t,e,n,r){let{app:i}=n,s=r.isEmbed?"!":"",a=r.shouldUseAngleBrackets?`<${t}>`:bi(t),u=n.alias??"";!u&&(!r.isEmbed||!n.isEmptyEmbedAliasAllowed)&&(u=!n.shouldIncludeAttachmentExtensionToEmbedAlias||cn(i,e)?e.basename:e.name);let c=ke(u,Vv,"\\$&");return`${s}[${c}](${a})`}function jv(t,e,n){let r=n?"!":"",i=e??"";if(i&&i.toLowerCase()===t.toLowerCase())return`${r}[[${i}]]`;let s=i?`|${i}`:"";return`${r}[[${t}${s}]]`}async function Kv(t,e,n,r){if(r??=De(),r.throwIfAborted(),!t)return[];let i=[],s=(t.sections??[]).filter(a=>a.type==="table").map(a=>({end:a.position.end.offset,start:a.position.start.offset}));for(let a of xn(t)){r.throwIfAborted();let u=await n(a,r);if(r.throwIfAborted(),u===void 0)continue;let c=Ir(a,u);e?wi(c)?i.push(c):console.warn("Unsupported file change",c):(Qv(c,s)&&(c.newContent=c.newContent.replaceAll(Dh,$v)),i.push(c))}return i}function Xv(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?Nh(t.originalLink):void 0)??!cn(n,e),isWikilink:Vh(n,t.originalLink,t.linkStyle),shouldForceRelativePath:t.shouldForceRelativePath??Ih(n),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?yu(t.originalLink):void 0)??!1,shouldUseLeadingDot:t.shouldUseLeadingDot??(t.originalLink?zv(t.originalLink):void 0)??!1}}function Bh(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}function Zv(t,e){let s=Bh(t,e),a=t.children[0],u=e.slice((a?.position?.end.offset??1)+2,(t.position?.end.offset??0)-1),c=s.startsWith("<")||u.startsWith("<"),d=su(t.url),h=t.url;if(!d&&!c)try{h=decodeURIComponent(h)}catch(m){console.error(`Failed to decode URL ${h}`,m)}return{alias:a?.value,encodedUrl:d?bi(h):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:c,isEmbed:!1,isExternal:d,isWikilink:!1,raw:s,startOffset:t.position?.start.offset??0,title:t.title??void 0,url:h}}function Jv(t,e){return{alias:e.includes(Mh)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:Bh(t,e),startOffset:t.position?.start.offset??0,url:t.value}}function Qv(t,e){return!dn(t)||!Dh.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}function Vh(t,e,n){switch(n??"PreserveExisting"){case"Markdown":return!1;case"ObsidianSettingsDefault":return pu(t);case"PreserveExisting":return e===void 0?pu(t):bu(e);case"Wikilink":return!0;default:throw new Error(`Invalid link style: ${n}.`)}}function Yh(t,e){let n=Object.keys(e).map(r=>eE(t,r,e[r]));return n.length===1?n[0]:function(){n.forEach(r=>r())}}function eE(t,e,n){let r=t[e],i=t.hasOwnProperty(e),s=i?r:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},a=n(s);return r&&Object.setPrototypeOf(a,r),Object.setPrototypeOf(u,a),t[e]=u,c;function u(...d){return a===s&&t[e]===u&&c(),a.apply(this,d)}function c(){t[e]===u&&(i?t[e]=s:delete t[e]),a!==s&&(a=s,Object.setPrototypeOf(u,r||Function))}}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function tE(t,e){return Yh(t,e)}function Wt(t,e,n){let r=tE(e,n),i=!1;function s(){if(!i)try{r()}finally{i=!0}}return t.register(s),r}var is=require("obsidian");var Uh=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var es=class extends Uh.Component{registerAsyncEvent(e){ts(this,e)}};function ts(t,e){t.register(()=>{e.asyncEvents.offref(e)})}var Gh=Re(zh(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var $=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))($||{});(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Hh=`${fo}-styles`;function ue(t,...e){t.addClass($.LibraryName,ho(),...e)}function qh(t,e){wf(e),kf(e);let n=on(t,"lastLibraryVersion","0.0.0");if((0,Gh.compareVersions)(Za,n.value)<=0)return;n.value=Za;let r=nE();r.DEBUG=bf(),document.head.querySelector(`#${Hh}`)?.remove(),document.head.createEl("style",{attr:{id:Hh},text:mf})}function nE(){return window}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var rs=class extends is.Plugin{events=new Nt;get abortSignal(){return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){hr(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),Ef(this.afterLoad.bind(this))}onunload(){super.onunload(),me(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerForLifecycleEvent(e,n){me(async()=>{await this.waitForLifecycleEvent(e),await n()})}registerPopupDocumentDomEvent(e,n,r){this.registerPopupDomEvent(i=>{this.registerDomEvent(i.document,e,n,r)})}registerPopupWindowDomEvent(e,n,r){this.registerPopupDomEvent(i=>{this.registerDomEvent(i,e,n,r)})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}async onLayoutReady(){await Lt()}async onloadImpl(){qh(this.app,this.manifest.id),this.register(pf(()=>{this.showNotice("An unhandled error occurred. Please check the console for more information.")})),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(ts(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),ts(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort(new dr(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(e,n){await Lt()}async onSaveSettings(e,n,r){await Lt()}async onunloadImpl(){await Lt()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new is.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this._abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(it(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}registerPopupDomEvent(e){this.app.workspace.iterateRootLeaves(n=>{e(n.view.containerEl.win)}),this.registerEvent(this.app.workspace.on("window-open",n=>{e(n.win)}))}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};var ep=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();async function jh(t,e,n,r){n.throwIfAborted();let i=ut("Logger:invokeAsyncAndLog"),s=performance.now();r??=Xe(1),sn(i,r,`${t}:start`,{fn:e,timestampStart:s});try{await e(n);let a=performance.now(),u=a-s;n.aborted&&(sn(i,r,`${t}:aborted`,{abortReason:n.reason,duration:u,fn:e,timestampEnd:a,timestampStart:s}),n.throwIfAborted()),sn(i,r,`${t}:end`,{duration:u,fn:e,timestampEnd:a,timestampStart:s})}catch(a){let u=performance.now();throw sn(i,r,`${t}:error`,{duration:u-s,error:a,fn:e,timestampEnd:u,timestampStart:s}),a}}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function Tn(t,e,n,r,i){i??=Xe(1),me(()=>rE(t,e,n,r,i),i)}async function rE(t,e,n,r,i){n??=De(),n.throwIfAborted(),r??=6e4,i??=Xe(1);let a=Kh(t).value;a.items.push({abortSignal:n,fn:e,stackTrace:i,timeoutInMilliseconds:r}),a.promise=a.promise.then(()=>Xh(t)),await a.promise}function Kh(t){return on(t,"queue",{items:[],promise:Promise.resolve()})}async function Xh(t){let e=Kh(t).value,n=e.items[0];n&&(await tl(()=>nl(n.timeoutInMilliseconds,r=>jh(Xh.name,n.fn,Ln(r,n.abortSignal),n.stackTrace),{queuedFn:n.fn}),n.stackTrace),e.items.shift())}var Zh=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();async function os(t,e){let n=Yt(t,e);for(;n;){if(!await uu(t,n))return;let r=n.parent;await Dr(t,n.path),n=r}}async function Dr(t,e,n,r,i){let s=Vn(t,e);if(!s)return!1;let a=kt(s)||(i??!0);if(kt(s)){let u=await hn(t,s);n&&u.clear(n),u.count()!==0&&(r&&new Zh.Notice(`Attachment ${s.path} is still used by other notes. It will not be deleted.`),a=!1)}else if(ul(s)){let u=await cu(t,s);for(let c of[...u.files,...u.folders])a&&=await Dr(t,c,n,r);a&&=await uu(t,s)}if(a)try{await t.fileManager.trashFile(s)}catch(u){await t.vault.exists(s.path)&&($n(new Error(`Failed to delete ${s.path}`,{cause:u})),a=!1)}return a}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ku=new Map,vi=new Set,ss=new Map,st=(t=>(t.Delete="Delete",t.DeleteWithEmptyParents="DeleteWithEmptyParents",t.Keep="Keep",t))(st||{});function tp(t,e){let n=as(t.app),r=t.manifest.id;n.set(r,e),Qh(t.app),t.register(()=>{n.delete(r),Qh(t.app)});let i=t.app,s=t.abortSignal??De();t.registerEvent(i.vault.on("delete",a=>{lE(t,a,s)})),t.registerEvent(i.vault.on("rename",(a,u)=>{dE(t,a,u,s)})),t.registerEvent(i.metadataCache.on("deleted",(a,u)=>{cE(t,a,u)})),Wt(t,i.fileManager,{runAsyncLinkUpdate:a=>u=>pE(i,a,u)})}async function np(t,e,n){let r=Sn(t);if(r.emptyAttachmentFolderBehavior!=="Keep")for(let i of e)switch(r.emptyAttachmentFolderBehavior){case"Delete":await Dr(t,i,n,void 0,!0);break;case"DeleteWithEmptyParents":await os(t,i);break;default:break}}async function iE(t,e,n,r,i){let s=ss.get(e);if(s){ss.delete(e);for(let a of s)await Au(t,a.oldPath,n,r,i,a.combinedBacklinksMap)}}async function oE(t,e,n,r,i,s){if(s.throwIfAborted(),r.set(e,n),!Ei(t,e))return;let a=Sn(t),u=await kr(t,e),c=a.shouldRenameAttachmentFolder?await kr(t,n):u,d=u==="/",h=Yt(t,u);if(!h||u===c&&!a.shouldRenameAttachmentFiles)return;let m=[];if(await dl(t,e))ep.Vault.recurseChildren(h,w=>{s.throwIfAborted(),kt(w)&&m.push(w)});else for(let w of i){s.throwIfAborted();let g=Rr(t,w,e);if(g&&(d||g.path.startsWith(u))){let v=await hn(t,g);s.throwIfAborted(),v.keys().length===1&&m.push(g)}}for(let w of m){if(s.throwIfAborted(),Ei(t,w.path))continue;let g;if(a.shouldRenameAttachmentFiles)g=await cl(t,w,n,!0),s.throwIfAborted();else{let v=d?w.path:br(u,w.path),P=Ae(c,ge(v));g=Ae(P,w.name)}if(w.path!==g){if(a.shouldDeleteConflictingAttachments){let v=ot(t,g);v&&(console.warn(`Removing conflicting attachment ${v.path}.`),await t.fileManager.trashFile(v),s.throwIfAborted())}else{let v=ge(g),P=Ve(g),x=xe(g,P);g=t.vault.getAvailablePath(Ae(v,x),P.slice(1))}r.set(w.path,g)}}}function as(t){return on(t,"renameDeleteHandlersMap",new Map).value}function Sn(t){let e=as(t),n=Array.from(e.values()).reverse(),r={};r.isNote=i=>si(t,i),r.isPathIgnored=()=>!1;for(let i of n){let s=i();r.shouldDeleteConflictingAttachments||=s.shouldDeleteConflictingAttachments??!1,s.emptyAttachmentFolderBehavior&&(r.emptyAttachmentFolderBehavior??=s.emptyAttachmentFolderBehavior),r.shouldHandleDeletions||=s.shouldHandleDeletions??!1,r.shouldHandleRenames||=s.shouldHandleRenames??!1,r.shouldRenameAttachmentFiles||=s.shouldRenameAttachmentFiles??!1,r.shouldRenameAttachmentFolder||=s.shouldRenameAttachmentFolder??!1,r.shouldUpdateFileNameAliases||=s.shouldUpdateFileNameAliases??!1;let a=r.isPathIgnored;r.isPathIgnored=c=>a(c)||(s.isPathIgnored?.(c)??!1);let u=r.isNote;r.isNote=c=>u(c)&&(s.isNote?.(c)??!0)}return r.emptyAttachmentFolderBehavior??="Keep",r}async function sE(t,e,n,r,i){if(!t.vault.adapter.insensitive||e.toLowerCase()!==n.toLowerCase())return!1;let s=Ae(ge(n),`__temp__${xe(n)}`);return await ip(t,n,s),await Au(t,e,s,r,i),await t.vault.rename(_e(t,s),n),!0}async function aE(t,e,n){if(n.throwIfAborted(),ut("RenameDeleteHandler:handleDelete")(`Handle Delete ${e}`),!Ei(t,e))return;let r=Sn(t);if(!r.shouldHandleDeletions)return;if(r.isPathIgnored?.(e)){console.warn(`Skipping delete handler of ${e} as the path is ignored.`);return}let i=ku.get(e);ku.delete(e);let s=new Set;if(i){let c=xn(i);for(let d of c){let h=Rr(t,d,e);h&&(Ei(t,h.path)||(s.add(h.parent?.path??""),await Dr(t,h,e,!1,r.emptyAttachmentFolderBehavior!=="Keep"),n.throwIfAborted()))}}await np(t,Array.from(s),e),n.throwIfAborted();let a=await kr(t,e),u=Yt(t,a);u&&await dl(t,e)&&(n.throwIfAborted(),await Dr(t,u,e,!1,r.emptyAttachmentFolderBehavior!=="Keep"),n.throwIfAborted())}function lE(t,e,n){let r=t.app;if(!vu(t))return;let i=e.path;Tn(r,s=>aE(r,i,s),n)}function uE(t,e,n){let r=Sn(t);if(r.isPathIgnored?.(e.path)){console.warn(`Skipping metadata delete handler of ${e.path} as the path is ignored.`);return}r.shouldHandleDeletions&&cn(t,e)&&n&&ku.set(e.path,n)}function cE(t,e,n){vu(t)&&uE(t.app,e,n)}function fE(t,e,n,r){let i=rp(e,n);if(ut("RenameDeleteHandler:handleRename")(`Handle Rename ${i}`),vi.has(i)){vi.delete(i);return}let s=Sn(t);if(!s.shouldHandleRenames)return;if(s.isPathIgnored?.(e)){console.warn(`Skipping rename handler of old path ${e} as the path is ignored.`);return}if(s.isPathIgnored?.(n)){console.warn(`Skipping rename handler of new path ${n} as the path is ignored.`);return}let a=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),u=a?xn(a):[],c=hu(t,e).data;Tn(t,d=>Au(t,e,n,c,u,void 0,d),r)}async function Au(t,e,n,r,i,s,a){if(a??=De(),a.throwIfAborted(),await iE(t,e,n,r,i),a.throwIfAborted(),await hE(t,e,n,r,i),a.throwIfAborted(),!await sE(t,e,n,r,i)){a.throwIfAborted();try{let u=new Map;await oE(t,e,n,u,i,a),a.throwIfAborted();let c=new Map;Jh(r,u,c,e);for(let m of u.keys()){if(m===e)continue;let w=(await hn(t,m)).data;Jh(w,u,c,m)}let d=new Set;for(let[m,w]of u.entries()){if(m===e)continue;let g=await ip(t,m,w);u.set(m,g),d.add(ge(m))}await np(t,Array.from(d),e),a.throwIfAborted();let h=Sn(t);for(let[m,w]of Array.from(c.entries()).concat(Array.from(s?.entries()??[])))await gu(t,m,g=>{let v=w.get(gr(g));if(!v)return;let P=u.get(v);if(P)return Ai({app:t,link:g,newSourcePathOrFile:m,newTargetPathOrFile:P,oldTargetPathOrFile:v,shouldUpdateFileNameAlias:h.shouldUpdateFileNameAliases})},{shouldFailOnMissingFile:!1}),a.throwIfAborted();if(Ei(t,n)&&(await $h({app:t,newSourcePathOrFile:n,oldSourcePathOrFile:e,shouldFailOnMissingFile:!1,shouldUpdateFileNameAlias:h.shouldUpdateFileNameAliases}),a.throwIfAborted()),!ot(t,n)){let m=ss.get(n);m||(m=[],ss.set(n,m)),m.push({combinedBacklinksMap:c,oldPath:e})}}finally{let u=Array.from(vi);Tn(t,()=>{for(let c of u)vi.delete(c)},a)}}}function dE(t,e,n,r){if(!vu(t)||!kt(e))return;let i=e.path;fE(t.app,n,i,r)}function Jh(t,e,n,r){for(let[i,s]of t.entries()){let a=e.get(i)??i,u=n.get(a)??new Map;n.set(a,u);for(let c of s)u.set(gr(c),r)}}function Ei(t,e){return Sn(t).isNote?.(e)??!1}function Qh(t){let e=as(t);ut("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(e.keys()))}`)}function rp(t,e){return`${t} -> ${e}`}async function hE(t,e,n,r,i){let s=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),a=s?xn(s):[],u=_e(t,e,!0),c=new Map;await yi(t,[u],async()=>{c=(await hn(t,u)).data});for(let d of a)i.includes(d)||i.push(d);for(let[d,h]of c.entries()){let m=r.get(d);m||(m=[],r.set(d,m));for(let w of h)m.includes(w)||m.push(w)}}async function ip(t,e,n){if(n=lu(t,e,n),e===n)return n;let r=rp(e,n);return vi.add(r),n=await jo(t,e,n),n}async function pE(t,e,n){await e.call(t.fileManager,r);async function r(i){let s=!1,a=t.vault.on("rename",()=>{s=!0});try{await n(i)}finally{t.vault.offref(a)}let u=Sn(t);s&&u.shouldHandleRenames&&ei(i,c=>u.isPathIgnored?.(c.sourceFile.path)?(console.warn(`Roll back to default link update of source file ${c.sourceFile.path} as the path is ignored.`),!0):u.isPathIgnored?.(c.resolvedFile.path)?(console.warn(`Roll back to default link update of resolved file ${c.resolvedFile.path} as the path is ignored.`),!0):!t.internalPlugins.getEnabledPluginById(yt.Canvas)||t.plugins.getPlugin("backlink-cache")?!1:c.sourceFile.extension==="canvas"||c.resolvedFile.extension==="canvas")}}function vu(t){let e=t.app,n=t.manifest.id,r=as(e);return Array.from(r.keys())[0]===n}var Fn=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function Q(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}function op(t){return`${String(t)}px`}var sp=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();async function ap(t){let n={...{abortSignal:De(),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeMinTimeoutInMilliseconds:2e3,processItem:It,progressBarTitle:"",shouldContinueOnError:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...t},r=Xe(1),i=n.items,s=0,a=null;n.shouldShowProgressBar&&(a=new sp.Notice("",0));let u=sleep(n.noticeMinTimeoutInMilliseconds),c=createEl("progress");if(c.max=i.length,n.shouldShowProgressBar){let h=createFragment();h.createDiv({text:n.progressBarTitle}),h.appendChild(c),a?.setMessage(h)}let d=performance.now();for(let h of i){if(n.abortSignal.aborted){a?.hide();return}s++;let m=`# ${String(s)} / ${String(i.length)}`,w=n.buildNoticeMessage(h,m);n.shouldShowProgressBar||a?.setMessage(w),ut("Loop")(w);try{performance.now()-d>n.uiUpdateThresholdInMilliseconds&&(await Cf(),d=performance.now()),await n.processItem(h)}catch(g){if(console.error("Error processing item",h),!n.shouldContinueOnError)throw a?.hide(),new Ot("loop failed",r,g);uo(new Ot(lo,r,g))}c.value++}await u,a?.hide()}var Eu=require("obsidian");var lp=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Mr=class extends lp.Modal{constructor(e,n,r){super(e.app),this.resolve=n,ue(this.containerEl,r),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function ls(t){return await new Promise(e=>{t(e).open()})}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Cu=class extends Mr{isConfirmed=!1;options;constructor(e,n){super(e,n,$.ConfirmModal);let r={app:e.app,cancelButtonText:"Cancel",cssClass:"",message:e.message,okButtonText:"OK",title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve(this.isConfirmed)}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new Eu.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(()=>{this.isConfirmed=!0,this.close()}),e.setClass($.OkButton);let n=new Eu.ButtonComponent(this.contentEl);n.setButtonText(this.options.cancelButtonText),n.onClick(this.close.bind(this)),n.setClass($.CancelButton)}};async function us(t){return await ls(e=>new Cu(t,e))}var ds=require("obsidian");var Ci=Re(nn(),1),wE=Re(require("obsidian"),1);var up=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function cp(t){return t.validationMessage!==void 0}var mE=/[*\\/<>:|?"]/g,gE=/[\0/]/g;function cs(t){return t??=up.Platform.isWin,t?mE:gE}var pp=Re(fp(),1);var pn=require("obsidian");var Su=class extends pn.Modal{constructor(n){super(n.ctx.app);this.options=n;ue(this.containerEl,"preview-modal")}embedComponent;tempFile;onClose(){super.onClose(),this.embedComponent.unload(),me(async()=>{await this.app.vault.delete(this.tempFile)})}onOpen(){super.onOpen(),me(this.onOpenAsync.bind(this))}async onOpenAsync(){let n=this.app.embedRegistry.embedByExtension[this.options.ctx.originalAttachmentFileExtension];if(!n||!this.options.ctx.attachmentFileContent)return;let r=`${this.options.ctx.originalAttachmentFileName}.${this.options.ctx.originalAttachmentFileExtension}`;this.titleEl.setText(`Preview attachment file '${r}'`);let i=`__temp${String(Date.now())}__${r}`;this.tempFile=await this.app.vault.createBinary(i,this.options.ctx.attachmentFileContent);let s=this.contentEl.createDiv("preview-container");this.embedComponent=n({app:this.app,containerEl:s},this.tempFile),this.embedComponent.load(),this.embedComponent.loadFile()}},Fu=class extends pn.Modal{constructor(n,r){super(n.ctx.app);this.options=n;this.resolve=r;ue(this.containerEl,$.PromptModal),this.value=n.ctx.originalAttachmentFileName}isOkClicked=!1;value;onClose(){super.onClose(),this.resolve(this.isOkClicked?this.value:null)}onOpen(){let n=createFragment(h=>{h.appendText("Provide a value for the prompt token:"),h.createEl("br"),h.appendText(this.options.ctx.fullTemplate.slice(0,this.options.ctx.tokenStartOffset)),h.createSpan({cls:"highlighted-token",text:this.options.ctx.tokenWithFormat}),h.appendText(this.options.ctx.fullTemplate.slice(this.options.ctx.tokenEndOffset))});super.onOpen(),this.titleEl.setText(n);let r=new pn.TextComponent(this.contentEl),i=r.inputEl,s=async()=>{let h=await this.options.valueValidator(i.value);i.setCustomValidity(h??""),i.reportValidity()};r.setValue(this.value),r.setPlaceholder("Provide a value for the prompt token"),i.addClass($.TextBox),r.onChange(h=>{this.value=h}),i.addEventListener("keydown",h=>{h.key==="Enter"?this.handleOk(h,r):h.key==="Escape"&&this.close()}),i.addEventListener("input",it(s)),i.addEventListener("focus",it(s)),me(s);let a=new pn.ButtonComponent(this.contentEl);a.setButtonText("OK"),a.setCta(),a.onClick(h=>{this.handleOk(h,r)}),a.setClass($.OkButton);let u=new pn.ButtonComponent(this.contentEl);u.setButtonText("Cancel"),u.onClick(this.close.bind(this)),u.setClass($.CancelButton);let c=new pn.ButtonComponent(this.contentEl);c.setButtonText("Preview attachment file"),c.onClick(this.preview.bind(this));let d=this.app.embedRegistry.embedByExtension[this.options.ctx.originalAttachmentFileExtension];(!this.options.ctx.attachmentFileContent||!d)&&c.setDisabled(!0)}handleOk(n,r){n.preventDefault(),r.inputEl.checkValidity()&&(this.isOkClicked=!0,this.close())}preview(){new Su(this.options).open()}};function dp(t){return new Promise(e=>{new Fu(t,e).open()})}var yE=_f(pp.default),bE=["1","2","3","4","5","6","any"],kE=/^\.{3,}$/,AE=/\.+$/,xi=/\${(?<Token>.+?)(?::(?<Format>.*?))?}/g;function Pu(t){let e=new Map;try{return new Function("registerCustomToken",t)(n),e}catch(r){return $n(new Error("Error registering custom tokens",{cause:r})),null}function n(r,i){e.set(r,i)}}function vE(t){return(0,Ci.default)().format(t)}function hp(t,e,n,r){let i=ot(t,e);return i?(0,Ci.default)(r(i)).format(n):""}function EE(t,e){let{base:i,parameter:s}=fs(e);switch(i){case"":case"B":return t.toFixed(s??0);case"KB":return(t/1024).toFixed(s??0);case"MB":return(t/1048576).toFixed(s??0);default:throw new Error(`Invalid file size format: ${e}`)}}function CE(t,e){let n=t.split("/"),r=n.length-1,i=e.indexOf(",");i===-1&&(i=e.length);let a=e.slice(0,i),u=e.slice(i+1),c=fs(a);switch(c.base){case"indexFromEnd":r=n.length-1-(c.parameter??0);break;case"indexFromStart":r=c.parameter??0;break;default:if(u)throw new Error(`Invalid format: ${a}`);return jn(n[r]??"",a)}let d=n[r]??"";return jn(d,u)}function jn(t,e){let{base:n,parameter:r}=fs(e);switch(n){case"":return t;case"left":return t.slice(0,r??1);case"lower":return t.toLowerCase();case"right":return t.slice(-(r??1));case"slug":return _E(t);case"upper":return t.toUpperCase();default:throw new Error(`Invalid file name format: ${e}`)}}function xE(t){if(t==="uuid")return crypto.randomUUID();let{base:e,parameter:n}=fs(t),r;switch(e){case"D":r="0123456789";break;case"DL":r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;case"L":r="ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;default:throw new Error(`Invalid random value format: ${t}`)}let i="";for(let s=0;s<(n??1);s++)i+=FE(r);return i}function TE(t,e,n){let r=ot(t,e);if(!r)return"";let i=t.metadataCache.getFileCache(r);if(!i?.frontmatter)return"";let s=kn(i.frontmatter,n)??"";return String(s)}async function SE(t){if(jn("",t.format),t.originalAttachmentFileName===Ar)return Ar;let e=await dp({ctx:t,valueValidator:n=>Kn({app:t.app,areTokensAllowed:!1,path:n})});if(e===null)throw new Error("Prompt cancelled");return jn(e,t.format)}var Ue=class t{static evaluators=new Map;static{this.registerCustomTokens("")}noteFolderPath;app;attachmentFileContent;attachmentFileStat;cursorLine;generatedAttachmentFileName;generatedAttachmentFilePath;headingsInfo=null;noteFileName;noteFilePath;noteFolderName;originalAttachmentFileExtension;originalAttachmentFileName;constructor(e){this.app=e.app,this.noteFilePath=e.noteFilePath,this.noteFileName=xe(this.noteFilePath,Ve(this.noteFilePath)),this.noteFolderName=xe(ge(this.noteFilePath)),this.noteFolderPath=ge(this.noteFilePath);let n=e.originalAttachmentFileName??"",r=Ve(n);if(this.originalAttachmentFileName=xe(n,r),this.originalAttachmentFileExtension=r.slice(1),this.attachmentFileContent=e.attachmentFileContent,this.attachmentFileStat=e.attachmentFileStat,this.generatedAttachmentFileName=e.generatedAttachmentFileName??"",this.generatedAttachmentFilePath=e.generatedAttachmentFilePath??"",this.cursorLine=null,this.app.workspace.activeEditor?.file?.path===this.noteFilePath){let i=this.app.workspace.activeEditor.editor?.getCursor();i&&(this.cursorLine=i.line)}}static isRegisteredToken(e){return t.evaluators.has(e.toLowerCase())}static registerCustomTokens(e){this.evaluators.clear(),this.registerToken("date",r=>vE(r.format)),this.registerToken("noteFileCreationDate",r=>hp(r.app,r.noteFilePath,r.format,i=>i.stat.ctime)),this.registerToken("noteFileModificationDate",r=>hp(r.app,r.noteFilePath,r.format,i=>i.stat.mtime)),this.registerToken("originalAttachmentFileCreationDate",r=>r.attachmentFileStat?.ctime?(0,Ci.default)(r.attachmentFileStat.ctime).format(r.format):""),this.registerToken("originalAttachmentFileModificationDate",r=>r.attachmentFileStat?.mtime?(0,Ci.default)(r.attachmentFileStat.mtime).format(r.format):""),this.registerToken("noteFileName",r=>jn(r.noteFileName,r.format)),this.registerToken("noteFilePath",r=>r.noteFilePath),this.registerToken("noteFolderName",r=>CE(r.noteFolderPath,r.format)),this.registerToken("noteFolderPath",r=>r.noteFolderPath),this.registerToken("frontmatter",r=>TE(r.app,r.noteFilePath,r.format)),this.registerToken("originalAttachmentFileExtension",r=>r.originalAttachmentFileExtension),this.registerToken("originalAttachmentFileName",r=>jn(r.originalAttachmentFileName,r.format)),this.registerToken("prompt",r=>SE(r)),this.registerToken("random",r=>xE(r.format)),this.registerToken("attachmentFileSize",r=>EE(r.attachmentFileContent?.byteLength??0,r.format)),this.registerToken("generatedAttachmentFileName",r=>jn(r.generatedAttachmentFileName,r.format)),this.registerToken("generatedAttachmentFilePath",r=>r.generatedAttachmentFilePath),this.registerToken("heading",async(r,i)=>i.getHeading(r.format));let n=Pu(e)??new Map;for(let[r,i]of n.entries())this.registerToken(r,i)}static registerToken(e,n){this.evaluators.set(e.toLowerCase(),n)}async fillTemplate(e){return await Ff(e,xi,async(n,r,i,s)=>{n.throwIfAborted();let a=t.evaluators.get(i.toLowerCase());if(!a)throw new Error(`Unknown token '${i}'.`);let u={abortSignal:n,app:this.app,attachmentFileContent:this.attachmentFileContent,attachmentFileStat:this.attachmentFileStat,fillTemplate:this.fillTemplate.bind(this),format:s,fullTemplate:e,generatedAttachmentFileName:this.generatedAttachmentFileName,generatedAttachmentFilePath:this.generatedAttachmentFilePath,noteFileName:this.noteFileName,noteFilePath:this.noteFilePath,noteFolderName:this.noteFolderName,noteFolderPath:this.noteFolderPath,obsidian:wE,originalAttachmentFileExtension:this.originalAttachmentFileExtension,originalAttachmentFileName:this.originalAttachmentFileName,token:i,tokenEndOffset:r.offset+r.substring.length,tokenStartOffset:r.offset,tokenWithFormat:r.substring};try{let c=await a(u,this);if(n.throwIfAborted(),typeof c!="string")throw console.error("Token returned non-string value.",{ctx:u,result:c}),new Error("Token returned non-string value");return c}catch(c){throw new Error(`Error formatting token \${${i}}`,{cause:c})}})}async getHeading(e){if(e||="any",!bE.includes(e))throw new Error(`Invalid heading level: ${e}`);return(await this.initHeadings()).get(e)??""}async initHeadings(){if(this.headingsInfo)return this.headingsInfo;if(this.headingsInfo=new Map,!this.cursorLine)return this.headingsInfo;let e=await Or(this.app,this.noteFilePath);if(!e?.headings)return this.headingsInfo;let n=new Map;for(let r of e.headings){if(r.position.start.line>this.cursorLine)continue;let i=String(r.level),s=n.get(i)??-1;r.position.start.line>s&&(this.headingsInfo.set(i,r.heading),n.set(i,r.position.start.line),r.position.start.line>(n.get("any")??-1)&&(n.set("any",r.position.start.line),this.headingsInfo.set("any",r.heading)))}return this.headingsInfo}};function _u(t){return mp(t).some(e=>e.token==="prompt")}async function Ti(t){switch(t.tokenValidationMode){case"Error":{if(t.fileName.match(xi))return"Tokens are not allowed in file name";break}case"Skip":break;case"Validate":{let n=await gp(t.app,t.fileName);if(n)return n;break}default:throw new Error(`Invalid token validation mode: ${t.tokenValidationMode}`)}let e=PE(t.fileName);return e==="."||e===".."?t.areSingleDotsAllowed?"":"Single dots are not allowed in file name":e?cs().test(e)?`File name "${t.fileName}" contains invalid symbols`:kE.test(e)?`File name "${t.fileName}" contains more than two dots`:AE.test(e)?`File name "${t.fileName}" contains trailing dots`:"":t.isEmptyAllowed?"":"File name is empty"}async function Kn(t){if(t.areTokensAllowed){let r=await gp(t.app,t.path);if(r)return`Unknown token: ${r}`}else if(t.path.match(xi))return"Tokens are not allowed in path";let e=pr(t.path,"/");if(e=bo(e,"/"),e==="")return"";let n=e.split("/");for(let r of n){let i=await Ti({app:t.app,areSingleDotsAllowed:!0,fileName:r,isEmptyAllowed:!0,tokenValidationMode:"Skip"});if(i)return i}return""}function mp(t){let e=t.matchAll(xi);return Array.from(e).map(n=>({format:n.groups?.Format??"",token:n.groups?.Token??""}))}function FE(t){return t[Math.floor(Math.random()*t.length)]??""}function fs(t){let e=/^(?<Base>\w*?)(?<Parameter>\d*)$/.exec(t);if(!e)throw new Error(`Invalid format: ${t}`);let n=e.groups?.Base??"",r=e.groups?.Parameter,i=r?parseInt(r,10):void 0;return{base:n,parameter:i}}function PE(t){return ke(t,xi,(e,n,r)=>`_${n}_${r}_`)}function _E(t){return yE(t,{lower:!0})}async function gp(t,e){let n=new Ue({app:t,noteFilePath:Ar,originalAttachmentFileName:Ar}),r=mp(e);for(let i of r){if(!Ue.isRegisteredToken(i.token))return`Unknown token '${i.token}'.`;let s=i.format.split(",");for(let a of s)try{await n.fillTemplate(`\${${i.token}:${a}}`)}catch{return`Token '${i.token}' is used with unknown format '${a}'.`}}return null}async function Si(t,e,n,r){return await RE(t,new Ue({app:t.app,attachmentFileContent:r,noteFilePath:e,originalAttachmentFileName:n}))}async function Lr(t,e){let n=await wp(t,t.settings.generatedAttachmentFileName,e,!0),r=await Kn({app:t.app,areTokensAllowed:!1,path:n});if(!r){let s=n.split("/").at(-1)??"";r=await Ti({app:t.app,areSingleDotsAllowed:!1,fileName:s,isEmptyAllowed:!1,tokenValidationMode:"Error"})}if(r){let i=`Generated attachment file name "${n}" is invalid.
${r}
Check your 'Generated attachment file name' setting.`;throw new ds.Notice(i),console.error(i,e),new Error(i)}return n}function OE(t,e){return t.settings.specialCharacters&&(e=e.replace(t.settings.specialCharactersRegExp,t.settings.specialCharactersReplacement)),e}async function RE(t,e){return await wp(t,t.settings.attachmentFolderPath,e,!1)}async function wp(t,e,n,r){let i=await n.fillTemplate(e),s=await Kn({app:t.app,areTokensAllowed:!1,path:i});if(s)throw new Error(`Resolved path ${i} is invalid: ${s}`);return i=OE(t,i),r||((i.startsWith("./")||i.startsWith("../"))&&(i=Ae(n.noteFolderPath,i)),i=(0,ds.normalizePath)(i)),i}var $r=require("obsidian");var ms=`registerCustomToken('foo', (ctx) => {
  return ctx.noteFileName + ctx.app.appId + ctx.format + ctx.obsidian.apiVersion;
});

registerCustomToken('bar', async (ctx) => {
  await sleep(100);
  return ctx.noteFileName + ctx.app.appId + ctx.format + ctx.obsidian.apiVersion;
});

registerCustomToken('baz', async (ctx) => {
  return ctx.noteFileName + await ctx.fillTemplate('corge \${grault} garply \${waldo:fred} plugh');
});
`,yp=/(?:)/,hs=/$./,Nr=(r=>(r.None="None",r.OnlyPastedImages="Only pasted images",r.All="All",r))(Nr||{}),Xn=(s=>(s.Cancel="Cancel",s.Copy="Copy",s.Move="Move",s.Prompt="Prompt",s.Skip="Skip",s))(Xn||{}),ps=class{attachmentFolderPath="./assets/${noteFileName}";attachmentRenameMode="Only pasted images";collectAttachmentUsedByMultipleNotesMode="Skip";duplicateNameSeparator=" ";emptyAttachmentFolderBehavior=st.DeleteWithEmptyParents;generatedAttachmentFileName="file-${date:YYYYMMDDHHmmssSSS}";jpegQuality=.8;markdownUrlFormat="";shouldConvertPastedImagesToJpeg=!1;shouldDeleteOrphanAttachments=!1;shouldRenameAttachmentFiles=!1;shouldRenameAttachmentFolder=!0;shouldRenameCollectedAttachments=!1;specialCharacters="#^[]|*\\<>:?";specialCharactersReplacement="-";treatAsAttachmentExtensions=[".excalidraw.md"];warningVersion="";get customTokensStr(){return this._customTokensStr}set customTokensStr(e){this._customTokensStr=e}get excludePaths(){return this._excludePaths}set excludePaths(e){this._excludePaths=e.filter(Boolean),this._excludePathsRegExp=Iu(this._excludePaths,hs)}get excludePathsFromAttachmentCollecting(){return this._excludePathsFromAttachmentCollecting}set excludePathsFromAttachmentCollecting(e){this._excludePathsFromAttachmentCollecting=e.filter(Boolean),this._excludePathsFromAttachmentCollectingRegExp=Iu(this._excludePathsFromAttachmentCollecting,hs)}get includePaths(){return this._includePaths}set includePaths(e){this._includePaths=e.filter(Boolean),this._includePathsRegExp=Iu(this._includePaths,yp)}get specialCharactersRegExp(){return new RegExp(`[${yo(this.specialCharacters)}]+`,"g")}_customTokensStr="";_excludePaths=[];_excludePathsFromAttachmentCollecting=[];_excludePathsFromAttachmentCollectingRegExp=hs;_excludePathsRegExp=hs;_includePaths=[];_includePathsRegExp=yp;isExcludedFromAttachmentCollecting(e){return this._excludePathsFromAttachmentCollectingRegExp.test(e)}isPathIgnored(e){return!this._includePathsRegExp.test(e)||this._excludePathsRegExp.test(e)}};function Iu(t,e){if(t.length===0)return e;let n=t.map(r=>r.startsWith("/")&&r.endsWith("/")?r.slice(1,-1):`^${yo(r)}`).map(r=>`(${r})`).join("|");return new RegExp(n)}var Ou=class extends $r.Modal{constructor(n,r,i,s){super(n);this.attachmentPath=r;this.backlinks=i;this.resolve=s}isSelected=!1;onClose(){this.isSelected||this.select("Cancel",!1)}onOpen(){super.onOpen(),new $r.Setting(this.contentEl).setName("Collecting attachment used by multiple notes").setHeading(),this.contentEl.appendChild(createFragment(r=>{r.appendText("Attachment "),Q(r,this.attachmentPath),r.appendText(" is referenced by multiple notes."),r.createEl("ul",{},i=>{for(let s of this.backlinks)i.createEl("li",{},a=>[a.appendChild(createFragment(u=>{Q(u,s)}))])})}));let n=!1;new $r.Setting(this.contentEl).setName("Should use the same action for other problematic attachments").addToggle(r=>{r.setValue(!1),r.onChange(i=>{n=i})}),new $r.Setting(this.contentEl).addButton(r=>{r.setButtonText("Skip"),r.onClick(()=>{this.select("Skip",n)})}).addButton(r=>{r.setButtonText("Move"),r.onClick(()=>{this.select("Move",n)})}).addButton(r=>{r.setButtonText("Copy"),r.onClick(()=>{this.select("Copy",n)})}).addButton(r=>{r.setButtonText("Cancel"),r.onClick(()=>{this.select("Cancel",n)})})}select(n,r){this.isSelected=!0,this.resolve({mode:n,shouldUseSameActionForOtherProblematicAttachments:r}),this.close()}};function bp(t,e,n){return new Promise(r=>{new Ou(t,e,n,r).open()})}async function kp(t,e,n,r){r.throwIfAborted();let i=t.app;if(n.isAborted)return;let s=new Fn.Notice(`Collecting attachments for ${e.path}`),a=new Map,u=un(i,e);await Jo(i,e,async c=>{if(c.throwIfAborted(),n.isAborted)return[];let d=await Or(i,e);if(c.throwIfAborted(),!d)return[];let h=u?await DE(i,e):xn(d);c.throwIfAborted();let m=[];for(let w of h){if(n.isAborted)return m;let g=await ME(t,w,e.path,e.path);if(c.throwIfAborted(),!g)continue;if(t.settings.isExcludedFromAttachmentCollecting(g.oldAttachmentPath)){console.warn(`Skipping collecting attachment ${g.oldAttachmentPath} as it is excluded from attachment collecting.`);continue}let v=await hn(i,g.oldAttachmentPath);if(c.throwIfAborted(),v.keys().length>1){let x=v.keys().sort((_,Y)=>_.localeCompare(Y)),E=x.map(_=>`- ${_}`).join(`
`);async function F(_){if(c.throwIfAborted(),!g)return!1;switch(_){case"Cancel":return console.error(`Cancelling collecting attachments, as attachment ${g.oldAttachmentPath} is referenced by multiple notes.
${E}`),new Fn.Notice("Collecting attachments cancelled. See console for details."),n.isAborted=!0,!1;case"Copy":g.newAttachmentPath=await Sh(i,g.oldAttachmentPath,g.newAttachmentPath);break;case"Move":await P(),c.throwIfAborted();break;case"Prompt":{let{mode:Y,shouldUseSameActionForOtherProblematicAttachments:W}=await bp(i,g.oldAttachmentPath,x);return W&&(n.collectAttachmentUsedByMultipleNotesMode=Y),F(Y)}case"Skip":return console.warn(`Skipping collecting attachment ${g.oldAttachmentPath} as it is referenced by multiple notes.
${E}`),!1;default:throw new Error(`Unknown collect attachment used by multiple notes mode: ${t.settings.collectAttachmentUsedByMultipleNotesMode}`)}return!0}if(!await F(n.collectAttachmentUsedByMultipleNotesMode??t.settings.collectAttachmentUsedByMultipleNotesMode)){c.throwIfAborted();continue}}else c.throwIfAborted(),await P(),c.throwIfAborted();async function P(){c.throwIfAborted(),g&&(g.newAttachmentPath=await jo(i,g.oldAttachmentPath,g.newAttachmentPath),c.throwIfAborted(),await os(i,ge(g.oldAttachmentPath)))}if(a.set(g.oldAttachmentPath,g.newAttachmentPath),!u){let x=Ai({app:i,link:w,newSourcePathOrFile:e,newTargetPathOrFile:g.newAttachmentPath,oldTargetPathOrFile:g.oldAttachmentPath});m.push(Ir(w,x))}}return m},If({timeoutInMilliseconds:ws(t)})),u&&await qo(i,e,(c,d)=>{c.throwIfAborted();let h=JSON.parse(d);for(let m of h.nodes){if(m.type!=="file")continue;let w=a.get(m.file);w&&(m.file=w)}return gr(h)}),s.hide()}function Ap(t,e){let n=t.app.workspace.getActiveFile();return Zn(t,n)?(e||Tn(t.app,r=>gs(t,n?.parent??rn(new Error("Parent folder not found")),r),t.abortSignal,ws(t)),!0):!1}function vp(t,e){let n=t.app.workspace.getActiveFile();if(!n||!Zn(t,n))return!1;if(!e){if(t.settings.isPathIgnored(n.path))return new Fn.Notice("Note path is ignored"),console.warn(`Cannot collect attachments in the note as note path is ignored: ${n.path}.`),!0;Tn(t.app,r=>kp(t,n,{},r),t.abortSignal,ws(t))}return!0}function Ep(t){Tn(t.app,e=>gs(t,t.app.vault.getRoot(),e),t.abortSignal,ws(t))}async function gs(t,e,n){if(n.throwIfAborted(),!await us({app:t.app,message:createFragment(u=>{u.appendText("Do you want to collect attachments for all notes in folder: "),Q(u,e.path),u.appendText(" and all its subfolders?"),u.createEl("br"),u.appendText("This operation cannot be undone.")}),title:createFragment(u=>{(0,Fn.setIcon)(u.createSpan(),"lucide-alert-triangle"),u.appendText(" Collect attachments in folder")})})){n.throwIfAborted();return}t.consoleDebug(`Collect attachments in folder: ${e.path}`);let r=[];Fn.Vault.recurseChildren(e,u=>{Zn(t,u)&&r.push(u)}),r.sort((u,c)=>u.path.localeCompare(c.path));let i={},s=new AbortController,a=Ln(s.signal,t.abortSignal);await ap({abortSignal:a,buildNoticeMessage:(u,c)=>`Collecting attachments ${c} - ${u.path}`,items:r,processItem:async u=>{if(a.throwIfAborted(),t.settings.isPathIgnored(u.path)){console.warn(`Cannot collect attachments in the note as note path is ignored: ${u.path}.`);return}await kp(t,u,i,a),a.throwIfAborted(),i.isAborted&&s.abort()},progressBarTitle:"Custom Attachment Location: Collecting attachments...",shouldContinueOnError:!0,shouldShowProgressBar:!0})}function Zn(t,e){if(!e||!si(t.app,e))return!1;let n=ve(t.app,e);return t.settings.treatAsAttachmentExtensions.every(r=>!n.endsWith(r))}async function DE(t,e){return(await t.vault.readJson(e.path)).nodes.filter(i=>i.type==="file").map(i=>i.file).map(i=>({link:i,original:i,position:{end:{col:0,line:0,loc:0,offset:0},start:{col:0,line:0,loc:0,offset:0}}}))}function ws(t){return t.settings.collectAttachmentUsedByMultipleNotesMode==="Prompt"||_u(t.settings.attachmentFolderPath)||_u(t.settings.generatedAttachmentFileName)?Ga:void 0}async function ME(t,e,n,r){let i=t.app,s=Rr(i,e,r);if(!s)return console.warn(`Skipping collecting attachment ${e.link} as it could not be resolved.`),null;if(Zn(t,s))return console.warn(`Skipping collecting attachment ${s.path} as it is a note.`),null;let a=s.path,u=s.name,c;t.settings.shouldRenameCollectedAttachments?c=Vt(await Lr(t,new Ue({app:t.app,attachmentFileContent:await t.app.vault.readBinary(s),noteFilePath:n,originalAttachmentFileName:s.name})),s.extension):c=u;let d=await Si(t,n,c),h=Ae(d,c);return a===h?(console.warn(`Skipping collecting attachment ${s.path} as it is already in the destination folder.`),null):{newAttachmentPath:h,oldAttachmentPath:a}}var wg=require("obsidian");var Cp=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Ru=class extends Mr{options;constructor(e,n){super(e,n,$.AlertModal);let r={app:e.app,cssClass:"",message:e.message,okButtonText:"OK",title:""};this.options={...r,...e}}onClose(){super.onClose(),this.resolve()}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new Cp.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(this.close.bind(this)),e.setClass($.OkButton)}};async function ys(t){await ls(e=>new Ru(t,e))}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Pn=class{getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let r=this.getTransformerId(e,n);if(r){let a=this.transformValue(e,n);return a===void 0?void 0:{__transformerId:r,transformedValue:a}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((a,u)=>this.transformValueRecursively(a,String(u)));let i=e;if(i.__transformerId)return this.getTransformer(i.__transformerId).restoreValue(i.transformedValue,n);let s={};for(let a of mr(e)){let u=e[a],c=this.transformValueRecursively(u,a);s[a]=c}return s}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var vt=class extends Pn{};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var bs=class extends vt{get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var xp=Re(nn(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ks=class extends vt{get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return(0,xp.duration)(e)}transformValue(e){return e.toISOString()}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var As=class extends Pn{constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??rn(`No transformer with id ${e} found`)}transformValue(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);if(r===null)throw new Error("No transformer can transform the value");return r.transformValue(e,n)}getTransformerId(e,n){let r=this.getFirstTransformerThatCanTransform(e,n);return r===null?null:r.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(r=>r.canTransform(e,n))??null}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var vs=class extends vt{get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Es=class extends vt{get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var LE="_",Cs=class extends Pn{get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(LE)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Fi=class{keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,r]of e)this.set(n,r)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var xs=class extends vt{get id(){return"two-way-map"}canTransform(e){return e instanceof Fi}restoreValue(e){return new Fi(e)}transformValue(e){return Array.from(e.entries())}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var NE=new As([new Cs,new bs,new ks,new vs,new Es,new xs]),Ts=class extends Nt{constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=mr(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let r of this.propertyNames)n[r]&&(e[r]=this.defaultSettings[r])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let r=n,i=await this.rawRecordToSettings(r),s=await this.validate(i);for(let u of this.propertyNames)this.setPropertyImpl(u,i[u],s[u]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let a=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);wt(a,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,r){return super.on(e,n,r)}async revalidate(){return await this.edit(It),this.currentSettingsWrapper.validationMessages}async saveToFile(e){wt(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(r=>{r[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[r,i]of this.validators.entries()){let s=await i(e[r],e);s&&(n[r]=s)}return n}getTransformer(){return NE}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await Lt()}registerLegacySettingsConverter(e,n){let r=this;this.legacySettingsConverters.push(i);function i(s){let a=new Set(Object.keys(new e)),u=new Set(r.propertyNames),c=s;n(c);for(let d of Object.keys(c))u.has(d)||a.has(d)&&delete s[d]}}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),r=JSON.stringify(n),i=JSON.parse(r);return await this.rawRecordToSettings(i)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let r of this.propertyNames){let i=n[r]??"";this.currentSettingsWrapper.validationMessages[r]=i,this.currentSettingsWrapper.safeSettings[r]=i?this.defaultSettings[r]:this.currentSettingsWrapper.settings[r]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[r,i]of Object.entries(e)){if(!this.isValidPropertyName(r)){console.warn(`Unknown property: ${r}`);continue}typeof i!=typeof this.defaultSettings[r]&&console.warn("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[r],propertyName:r,value:i}),n[r]=i}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,r){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=r??"",this.currentSettingsWrapper.safeSettings[e]=r?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let r of this.propertyNames)n[r]=e[r];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var Ju=Re(pg(),1);var R2=2e3,Qu=class{autoRenameFiles=!1;autoRenameFolder=!0;convertImagesOnDragAndDrop=!1;convertImagesToJpeg=!1;dateTimeFormat="";deleteOrphanAttachments=!1;generatedAttachmentFilename="";keepEmptyAttachmentFolders=!1;pastedFileName="file-${date:YYYYMMDDHHmmssSSS}";pastedImageFileName="";renameAttachmentsOnDragAndDrop=!1;renameCollectedFiles=!1;renameOnlyImages=!1;renamePastedFilesWithKnownNames=!1;replaceWhitespace=!1;shouldDuplicateCollectedAttachments=!1;shouldKeepEmptyAttachmentFolders=!1;shouldRenameAttachments=!0;shouldRenameAttachmentsToLowerCase=!1;toLowerCase=!1;whitespaceReplacement=""},Bs=class extends Ts{shouldDebounceCustomTokensValidation=!1;customTokensValidatorDebounced=(0,wg.debounce)(this.customTokensValidatorImpl.bind(this),R2);lastCustomTokenValidatorResult=void 0;createDefaultSettings(){return new ps}registerLegacySettingsConverters(){this.registerLegacySettingsConverter(Qu,e=>{let n=e.dateTimeFormat??"YYYYMMDDHHmmssSSS";e.attachmentFolderPath=mg(e.attachmentFolderPath??"",n),e.generatedAttachmentFileName=mg(e.generatedAttachmentFileName??e.generatedAttachmentFilename??e.pastedFileName??e.pastedImageFileName??"file-${date}",n),e.replaceWhitespace!==void 0&&(e.whitespaceReplacement=e.replaceWhitespace?"-":""),e.autoRenameFiles!==void 0&&(e.shouldRenameAttachmentFiles=e.autoRenameFiles),e.autoRenameFolder!==void 0&&(e.shouldRenameAttachmentFolder=e.autoRenameFolder),e.shouldRenameAttachments!==void 0&&(e.shouldRenameAttachmentFolder=e.shouldRenameAttachments),e.deleteOrphanAttachments!==void 0&&(e.shouldDeleteOrphanAttachments=e.deleteOrphanAttachments),e.keepEmptyAttachmentFolders!==void 0&&(e.shouldKeepEmptyAttachmentFolders=e.keepEmptyAttachmentFolders),e.renameCollectedFiles!==void 0&&(e.shouldRenameCollectedAttachments=e.renameCollectedFiles),(e.toLowerCase||e.shouldRenameAttachmentsToLowerCase)&&me(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await ys({app:this.app,message:createFragment(r=>{r.appendText('In plugin version 9.0.0, the "Rename attachments to lower case" setting is deprecated. Use '),Q(r,"lower"),r.appendText(" format instead. See "),r.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"documentation."}),r.appendText(" for more information.")})})}),e.customTokensStr&&e.warningVersion&&(0,Ju.compare)(e.warningVersion,"9.0.0")<0&&(e.customTokensStr=`// Custom tokens were commented out as they have to be updated to the new format introduced in plugin version 9.0.0.
// Refer to the documentation (https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens) for more information.

${D2(e.customTokensStr)}
`,me(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await ys({app:this.app,message:createFragment(r=>{r.appendText("In plugin version 9.0.0, the format of custom token registration changed. Please update your tokens accordingly. Refer to the "),r.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens",text:"documentation"}),r.appendText(" for more information.")})})})),e.convertImagesToJpeg!==void 0&&(e.shouldConvertPastedImagesToJpeg=e.convertImagesToJpeg),e.whitespaceReplacement&&(e.specialCharacters=`${e.specialCharacters??""} `,e.specialCharactersReplacement=e.whitespaceReplacement),e.shouldKeepEmptyAttachmentFolders!==void 0&&(e.emptyAttachmentFolderBehavior=e.shouldKeepEmptyAttachmentFolders?st.Keep:st.DeleteWithEmptyParents),e.attachmentFolderPath=this.replaceLegacyTokens(e.attachmentFolderPath),e.generatedAttachmentFileName=this.replaceLegacyTokens(e.generatedAttachmentFileName),e.markdownUrlFormat=this.replaceLegacyTokens(e.markdownUrlFormat),e.customTokensStr=this.replaceLegacyTokens(e.customTokensStr??""),e.collectAttachmentUsedByMultipleNotesMode===void 0&&e.shouldDuplicateCollectedAttachments!==void 0&&(e.collectAttachmentUsedByMultipleNotesMode=e.shouldDuplicateCollectedAttachments?"Copy":"Skip"),e.warningVersion&&(0,Ju.compare)(e.warningVersion,"9.2.0")<0&&(e.markdownUrlFormat==="${generatedAttachmentFilePath}"||e.markdownUrlFormat==="${noteFilePath}")&&me(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await ys({app:this.app,message:createFragment(r=>{r.appendText("You have potentially incorrect value set for the "),Q(r,"Markdown URL format"),r.appendText(" setting. Please refer to the "),r.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#markdown-url-format",text:"documentation"}),r.appendText(" for more information. This message will not be shown again.")})})}),e.warningVersion=this.plugin.manifest.version})}registerValidators(){this.registerValidator("attachmentFolderPath",async e=>await Kn({app:this.app,areTokensAllowed:!0,path:e})),this.registerValidator("generatedAttachmentFileName",async e=>await Kn({app:this.app,areTokensAllowed:!0,path:e})),this.registerValidator("specialCharacters",e=>{if(e.includes("/"))return"Special characters must not contain /"}),this.registerValidator("specialCharactersReplacement",e=>{if(cs().exec(e))return"Special character replacement must not contain invalid file name path characters."}),this.registerValidator("duplicateNameSeparator",async e=>await Ti({app:this.app,areSingleDotsAllowed:!1,fileName:`foo${e}1`,isEmptyAllowed:!1,tokenValidationMode:"Error"})),this.registerValidator("includePaths",e=>gg(e)),this.registerValidator("excludePaths",e=>gg(e)),this.registerValidator("customTokensStr",e=>this.customTokensValidator(e))}customTokensValidator(e){return this.shouldDebounceCustomTokensValidation?this.customTokensValidatorDebounced(e):this.customTokensValidatorImpl(e),this.lastCustomTokenValidatorResult??void 0}customTokensValidatorImpl(e){let n=Pu(e);this.lastCustomTokenValidatorResult=n===null?"Invalid custom tokens code":void 0}replaceLegacyTokens(e){if(e===void 0)return"";let n={fileCreationDate:"noteFileCreationDate",fileModificationDate:"noteFileModificationDate",fileName:"noteFileName",filePath:"noteFilePath",folderName:"noteFolderName",folderPath:"noteFolderPath",originalCopiedFileExtension:"originalAttachmentFileExtension",originalCopiedFileName:"originalAttachmentFileName",randomDigit:"random:D",randomDigitOrLetter:"random:DL",randomLetter:"random:L",uuid:"random:uuid"};for(let[r,i]of Object.entries(n))e=ke(e,new RegExp(`\\\${${r}(?<Suffix>[:}])`,"i"),`\${${i}$<Suffix>`),e=ke(e,`substitutions.${r}`,`substitutions.${i}`);return e}};function mg(t,e){return t.replaceAll("${date}",`\${date:${e}}`)}function D2(t){return t.replaceAll(/^/gm,"// ")}function gg(t){for(let e of t)if(e.startsWith("/")&&e.endsWith("/")){let n=e.slice(1,-1);if(!Tf(n))return`Invalid regular expression ${e}`}}var ba=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function Vs(t,e){let n=Object.keys(t).find(r=>t[r]===e);if(n===void 0)throw new Error(`Invalid enum value: ${e}`);return n}function Ys(t,e){let n=t[e];if(n===void 0)throw new Error(`Invalid enum key: ${e}`);return n}var Qn=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();function Us(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains($.SettingComponentWrapper))return e;let n=Array.from(e.children),r=createDiv();ue(r,$.SettingComponentWrapper);for(let i of n)r.appendChild(i);return e.appendChild(r),r}var yg=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ec=class{constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function bg(t){return M2(t)?t:t instanceof yg.AbstractTextComponent?new ec(t):null}function M2(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}var ze=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Ws=class{constructor(e){this.el=e;let n=Us(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),ue(this._validatorEl,$.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let r=this.el.querySelector("[tabindex]");r||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),r=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{r.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},_n=class{constructor(e){this.validatorEl=e}};function kg(t){return L2(t)?t:t instanceof ze.ColorComponent?new _n(t.colorPickerEl):t instanceof ze.DropdownComponent?new _n(t.selectEl):t instanceof ze.ProgressBarComponent?new Ws(t.progressBar):t instanceof ze.SearchComponent?new _n(t.inputEl):t instanceof ze.SliderComponent?new _n(t.sliderEl):t instanceof ze.TextAreaComponent?new _n(t.inputEl):t instanceof ze.TextComponent?new _n(t.inputEl):t instanceof ze.ToggleComponent?new Ws(t.toggleEl):null}function L2(t){return!!t.validatorEl}(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var tc="PluginSettingsTab",zs=class extends Qn.PluginSettingTab{constructor(e){super(e.app,e),this.plugin=e,ue(this.containerEl,$.PluginSettingsTab),this.saveSettingsDebounced=(0,Qn.debounce)(it(()=>this.plugin.settingsManager.saveToFile(tc)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new es,this.asyncEvents=new Nt}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,r){let s={...{componentToPluginSettingsValueConverter:F=>F,onChanged:It,pluginSettingsToComponentValueConverter:F=>F,shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...r},a=kg(e)?.validatorEl,u=bg(e),c=this.pluginSettings[n],d=this.plugin.settingsManager.defaultSettings[n];u?.setPlaceholderValue(s.pluginSettingsToComponentValueConverter(d));let h,m=null,w=null;if(a){let F=Us(a);m=F.createDiv(),ue(m,$.Tooltip,$.TooltipValidator),w=m.createSpan();let _=m.createDiv();ue(_,$.TooltipArrow),m.hide(),F.appendChild(m)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(F,_)=>{n===F&&(h=_,x())}));let g=!1;u&&s.shouldShowPlaceholderForDefaultValues&&wt(c,d)?u.empty():e.setValue(s.pluginSettingsToComponentValueConverter(c));let v=!1,x=(0,Qn.debounce)(()=>{requestAnimationFrame(()=>{E()})},100);return e.onChange(async F=>{if(v){v=!1;return}g=!1;let _=this.pluginSettings[n],Y,W=!0;if(u?.isEmpty()&&s.shouldResetSettingWhenComponentIsEmpty)Y=d;else{let T=s.componentToPluginSettingsValueConverter(F);cp(T)?(h=T.validationMessage,W=!1):Y=T}W&&(h=await this.plugin.settingsManager.setProperty(n,Y),u&&s.shouldShowPlaceholderForDefaultValues&&!u.isEmpty()&&wt(Y,d)&&(g=!0)),x(),Y!==void 0&&await s.onChanged(Y,_),this.saveSettingsDebounced()}),a?.addEventListener("focus",()=>{x()}),a?.addEventListener("blur",()=>{x()}),a?.addEventListener("click",()=>{requestAnimationFrame(()=>{x()})}),h=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",x(),e;function E(){g&&!a?.isActiveElement()&&(g=!1,u?.isEmpty()||(v=!0,u?.empty())),a&&(h===""&&(a.setCustomValidity(""),a.checkValidity(),h=a.validationMessage),a.setCustomValidity(h),s.shouldShowValidationMessage?(w&&(w.textContent=h),m?.toggle(!!h)):h&&(0,Qn.setTooltip)(a,h))}}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),me(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(tc)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await Lt()}async revalidate(){let e=await this.plugin.settingsManager.revalidate();await this.updateValidations(e)}on(e,n,r){return this.asyncEvents.on(e,n,r)}async onSaveSettings(e,n,r){if(r===tc){await this.updateValidations(e.validationMessages);return}this.display()}async updateValidations(e){for(let[n,r]of Object.entries(e))await this.asyncEvents.triggerAsync("validationMessageChanged",n,r)}};var Fg=require("obsidian");var Ag=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Hs=class extends Ag.ValueComponent{inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),ue(e,$.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var Yr=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Gs=class extends Yr.ValueComponent{get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),ue(e,$.CodeHighlighterComponent);let n=e.createDiv();ue(n,$.SettingComponentWrapper),this.textAreaComponent=new Yr.TextAreaComponent(n),this.preEl=n.createEl("pre"),this.codeEl=this.preEl.createEl("code"),this.inputEl.addEventListener("input",it(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let r=2;this.tabSize=r}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let r of[this.preEl,this.codeEl]){for(let i of Array.from(r.classList))i.startsWith(n)&&r.classList.remove(i);r.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,me(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),me(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;e.preventDefault();let n=this.getValue(),r=this.inputEl.selectionStart,i=this.inputEl.selectionEnd,s=n.slice(0,r),a=n.slice(i),u=" ".repeat(this.tabSize),c=s;e.shiftKey?s.endsWith(u)&&(c=s.slice(0,-this.tabSize)):c=s+u;let d=`${c}${a}`;this.setValue(d),this.inputEl.selectionStart=c.length,this.inputEl.selectionEnd=c.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await(0,Yr.loadPrism)()).highlightElement(this.codeEl),this.preEl.toggleClass($.IsPlaceholder,this.isEmpty()),requestAnimationFrame(()=>{let n=Math.max(0,this.inputEl.scrollHeight-this.preEl.scrollHeight);this.preEl.setCssProps({"--bottom-gap":op(n)}),this.handleScroll()})}};var nc=Re(nn(),1);var qs=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Oe=class extends qs.ValueComponent{inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,r){super(),this.textComponent=new qs.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,ue(e,r)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var lt=class extends Oe{setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=String(e),this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var vg="YYYY-MM-DD",js=class extends lt{constructor(e){super(e,"date",$.DateComponent)}valueFromString(e){return(0,nc.default)(e,vg).toDate()}valueToString(e){return(0,nc.default)(e).format(vg)}};var rc=Re(nn(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Eg="YYYY-MM-DDTHH:mm",Ks=class extends lt{constructor(e){super(e,"datetime-local",$.DateTimeComponent)}valueFromString(e){return(0,rc.default)(e,Eg).toDate()}valueToString(e){return(0,rc.default)(e).format(Eg)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Xs=class extends Oe{constructor(e){super(e,"email",$.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Zs=class extends Oe{constructor(e){super(e,"file",$.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var ic=Re(nn(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Cg="YYYY-MM",Js=class extends lt{constructor(e){super(e,"month",$.MonthComponent)}valueFromString(e){let n=(0,ic.default)(e,Cg);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return(0,ic.default)().year(e.year).month(e.month-1).format(Cg)}};var Qs=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Ur=class extends Qs.ValueComponent{get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new Qs.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,ue(e,$.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ea=class extends Oe{constructor(e){super(e,"email",$.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ta=class extends Oe{constructor(e){super(e,"file",$.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var ra=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var na=class extends ra.ValueComponent{get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new ra.TextAreaComponent(e),ue(e,$.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ia=class extends lt{constructor(e){super(e,"number",$.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var oa=class extends Oe{constructor(e){super(e,"password",$.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var sa=class extends Oe{constructor(e){super(e,"tel",$.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var la=Re(nn(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var aa=class extends lt{constructor(e){super(e,"time",$.TimeComponent)}valueFromString(e){return(0,la.duration)(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",(0,la.utc)(e.asMilliseconds()).format(n)}};var xg=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ua=class extends xg.ValueComponent{inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),ue(e,$.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var fa=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ca=class extends fa.ValueComponent{get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new fa.DropdownComponent(e),ue(e,$.TypedDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.dropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var Tg=require("obsidian");(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var da=class extends Tg.ValueComponent{get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new Ur(e),ue(e,$.TypedMultipleDropdownComponent)}addOption(e,n){let r=this.values.indexOf(e);return r===-1&&(this.values.push(e),r=this.values.length-1),this.multipleDropdownComponent.addOption(String(r),n),this}addOptions(e){for(let[n,r]of e.entries())this.addOption(n,r);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(r=>this.values.indexOf(r)).filter(r=>r!==-1);return this.multipleDropdownComponent.setValue(n.map(r=>String(r))),this}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var ha=class extends Oe{constructor(e){super(e,"url",$.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var oc=Re(nn(),1);(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var Sg="YYYY-[W]WW",pa=class extends lt{constructor(e){super(e,"week",$.WeekComponent)}valueFromString(e){let n=(0,oc.default)(e,Sg);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return(0,oc.default)().year(e.year).isoWeek(e.weekNumber).format(Sg)}};(function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e})();var we=class extends Fg.Setting{addCheckbox(e){return this.addComponent(Hs,e)}addCodeHighlighter(e){return this.addComponent(Gs,e)}addComponent(e,n){let r=new e(this.controlEl);return this.components.push(r),n(r),this}addDate(e){return this.addComponent(js,e)}addDateTime(e){return this.addComponent(Ks,e)}addEmail(e){return this.addComponent(Xs,e)}addFile(e){return this.addComponent(Zs,e)}addMonth(e){return this.addComponent(Js,e)}addMultipleDropdown(e){return this.addComponent(Ur,e)}addMultipleEmail(e){return this.addComponent(ea,e)}addMultipleFile(e){return this.addComponent(ta,e)}addMultipleText(e){return this.addComponent(na,e)}addNumber(e){return this.addComponent(ia,e)}addPassword(e){return this.addComponent(oa,e)}addTelephone(e){return this.addComponent(sa,e)}addTime(e){return this.addComponent(aa,e)}addTriStateCheckbox(e){return this.addComponent(ua,e)}addTypedDropdown(e){return this.addComponent(ca,e)}addTypedMultipleDropdown(e){return this.addComponent(da,e)}addUrl(e){return this.addComponent(ha,e)}addWeek(e){return this.addComponent(pa,e)}};var ga=require("obsidian");var Wr="custom-attachment-location-tokenized-string",ma=class extends ga.Component{onload(){super.onload(),me(this.initPrism.bind(this))}async initPrism(){let e=await(0,ga.loadPrism)();e.languages[Wr]={expression:{greedy:!0,inside:{prefix:{alias:"regex",pattern:/\${/},token:{alias:"number",pattern:/^[a-zA-Z0-9_,]+/},formatDelimiter:{alias:"regex",pattern:/:/},format:{alias:"string",pattern:/[a-zA-Z0-9_,-]+/},suffix:{alias:"regex",pattern:/}/}},pattern:/\${.+?}/},important:{pattern:/^\./},operator:{alias:"entity",pattern:/\//}},this.register(()=>{delete e.languages[Wr]})}};var wa="\u2423",ya=class extends zs{display(){super.display(),this.containerEl.empty();let e={componentToPluginSettingsValueConverter(i){return(0,ba.normalizePath)(i.trimEnd())},pluginSettingsToComponentValueConverter(i){return i.trimEnd()}};new we(this.containerEl).setName("Location for new attachments").setDesc(createFragment(i=>{i.appendText("Start with "),Q(i,"."),i.appendText(" to use relative path."),i.createEl("br"),i.appendText("See available "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"tokens"}),i.createEl("br"),i.appendText("Dot-folders like "),Q(i,".attachments"),i.appendText(" are not recommended, because Obsidian doesn't track them. You might need to use "),i.createEl("a",{href:"https://github.com/polyipseity/obsidian-show-hidden-files/",text:"Show Hidden Files"}),i.appendText(" Plugin to manage them.")})).addCodeHighlighter(i=>{i.setLanguage(Wr),i.inputEl.addClass("tokenized-string-setting-control"),this.bind(i,"attachmentFolderPath",e)}),new we(this.containerEl).setName("Generated attachment file name").setDesc(createFragment(i=>{i.appendText("See available "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"tokens"})})).addCodeHighlighter(i=>{i.setLanguage(Wr),i.inputEl.addClass("tokenized-string-setting-control"),this.bind(i,"generatedAttachmentFileName",e)}),new we(this.containerEl).setName("Markdown URL format").setDesc(createFragment(i=>{i.appendText("Format for the URL that will be inserted into Markdown."),i.createEl("br"),i.appendText("See available "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"tokens"}),i.createEl("br"),i.appendText("Leave blank to use the default format.")})).addCodeHighlighter(i=>{i.setLanguage(Wr),i.inputEl.addClass("tokenized-string-setting-control"),this.bind(i,"markdownUrlFormat",e)}),new we(this.containerEl).setName("Attachment rename mode").setDesc(createFragment(i=>{i.appendText("When attaching files:"),i.createEl("br"),Q(i,"None"),i.appendText(" - their names are preserved."),i.createEl("br"),Q(i,"Only pasted images"),i.appendText(" - only pasted images are renamed."),i.createEl("br"),Q(i,"All"),i.appendText(" - all files are renamed.")})).addDropdown(i=>{i.addOptions(Nr),this.bind(i,"attachmentRenameMode",{componentToPluginSettingsValueConverter:s=>Ys(Nr,s),pluginSettingsToComponentValueConverter:s=>Vs(Nr,s)})}),new we(this.containerEl).setName("Should rename attachment folders").setDesc("Whether to rename attachment folders when a note is renamed.").addToggle(i=>{this.bind(i,"shouldRenameAttachmentFolder")}),new we(this.containerEl).setName("Should rename attachment files").setDesc("Whether to rename attachment files when a note is renamed.").addToggle(i=>{this.bind(i,"shouldRenameAttachmentFiles")}),new we(this.containerEl).setName("Special characters").setDesc(createFragment(i=>{i.appendText("Special characters in attachment folder and file name to be replaced or removed."),i.createEl("br"),i.appendText("Leave blank to preserve special characters.")})).addText(i=>{this.bind(i,"specialCharacters",{componentToPluginSettingsValueConverter:s=>s.replaceAll(wa,""),pluginSettingsToComponentValueConverter:s=>s.replaceAll(" ",wa),shouldResetSettingWhenComponentIsEmpty:!1}),i.inputEl.addEventListener("input",()=>{i.inputEl.value=sc(i.inputEl.value)})}),new we(this.containerEl).setName("Special characters replacement").setDesc(createFragment(i=>{i.appendText("Replacement string for special characters in attachment folder and file name."),i.createEl("br"),i.appendText("Leave blank to remove special characters.")})).addText(i=>{this.bind(i,"specialCharactersReplacement",{shouldResetSettingWhenComponentIsEmpty:!1})}),new we(this.containerEl).setName("Should convert pasted images to JPEG").setDesc("Paste images from clipboard converting them to JPEG.").addToggle(i=>{this.bind(i,"shouldConvertPastedImagesToJpeg")}),new we(this.containerEl).setName("JPEG Quality").setDesc("The smaller the quality, the greater the compression ratio.").addDropdown(i=>{i.addOptions(N2()),this.bind(i,"jpegQuality",{componentToPluginSettingsValueConverter:s=>Number(s),pluginSettingsToComponentValueConverter:s=>s.toString()})}),new we(this.containerEl).setName("Should rename collected attachments").setDesc(createFragment(i=>{i.appendText("If enabled, attachments processed via "),Q(i,"Collect attachments"),i.appendText(" commands will be renamed according to the "),Q(i,"Pasted File Name"),i.appendText(" setting.")})).addToggle(i=>{this.bind(i,"shouldRenameCollectedAttachments")}),new we(this.containerEl).setName("Collect attachment used by multiple notes mode").setDesc(createFragment(i=>{i.appendText("When the collected attachment is used by multiple notes:"),i.createEl("br"),Q(i,"Skip"),i.appendText(" - skip the attachment and proceed to the next one."),i.createEl("br"),Q(i,"Move"),i.appendText(" - move the attachment to the new location."),i.createEl("br"),Q(i,"Copy"),i.appendText(" - copy the attachment to the new location."),i.createEl("br"),Q(i,"Cancel"),i.appendText(" - cancel the attachment collecting."),i.createEl("br"),Q(i,"Prompt"),i.appendText(" - prompt the user to select the action.")})).addDropdown(i=>{i.addOptions({Skip:"Skip",Move:"Move",Copy:"Copy",Cancel:"Cancel",Prompt:"Prompt"}),this.bind(i,"collectAttachmentUsedByMultipleNotesMode",{componentToPluginSettingsValueConverter:s=>Ys(Xn,s),pluginSettingsToComponentValueConverter:s=>Vs(Xn,s)})}),new we(this.containerEl).setName("Duplicate name separator").setDesc(createFragment(i=>{i.appendText("When you are pasting/dragging a file with the same name as an existing file, this separator will be added to the file name."),i.createEl("br"),i.appendText("E.g., when you are dragging file "),Q(i,"existingFile.pdf"),i.appendText(", it will be renamed to "),Q(i,"existingFile 1.pdf"),i.appendText(", "),Q(i,"existingFile 2.pdf"),i.appendText(", etc, getting the first name available.")})).addText(i=>{this.bind(i,"duplicateNameSeparator",{componentToPluginSettingsValueConverter:s=>s.replaceAll(wa," "),pluginSettingsToComponentValueConverter:sc}),i.inputEl.addEventListener("input",()=>{i.inputEl.value=sc(i.inputEl.value)})}),new we(this.containerEl).setName("Empty attachment folder behavior").setDesc(createFragment(i=>{i.appendText("When the attachment folder becomes empty:"),i.createEl("br"),Q(i,"Keep"),i.appendText(" - will keep the empty attachment folder."),i.createEl("br"),Q(i,"Delete"),i.appendText(" - will delete the empty attachment folder."),i.createEl("br"),Q(i,"Delete with empty parents"),i.appendText(" - will delete the empty attachment folder and its empty parent folders.")})).addDropdown(i=>{i.addOptions({[st.Keep]:"Keep",[st.Delete]:"Delete",[st.DeleteWithEmptyParents]:"Delete with empty parents"}),this.bind(i,"emptyAttachmentFolderBehavior",{componentToPluginSettingsValueConverter:s=>Ys(st,s),pluginSettingsToComponentValueConverter:s=>Vs(st,s)})}),new we(this.containerEl).setName("Should delete orphan attachments").setDesc("If enabled, when the note is deleted, its orphan attachments are deleted as well.").addToggle(i=>{this.bind(i,"shouldDeleteOrphanAttachments")}),new we(this.containerEl).setName("Include paths").setDesc(createFragment(i=>{i.appendText("Include notes from the following paths."),i.createEl("br"),i.appendText("Insert each path on a new line."),i.createEl("br"),i.appendText("You can use path string or "),Q(i,"/regular expression/."),i.createEl("br"),i.appendText("If the setting is empty, all notes are included.")})).addMultipleText(i=>{this.bind(i,"includePaths")}),new we(this.containerEl).setName("Exclude paths").setDesc(createFragment(i=>{i.appendText("Exclude notes from the following paths."),i.createEl("br"),i.appendText("Insert each path on a new line."),i.createEl("br"),i.appendText("You can use path string or "),Q(i,"/regular expression/."),i.createEl("br"),i.appendText("If the setting is empty, no notes are excluded.")})).addMultipleText(i=>{this.bind(i,"excludePaths")}),new we(this.containerEl).setName("Exclude paths from attachment collecting").setDesc(createFragment(i=>{i.appendText("Exclude attachments from the following paths when "),Q(i,"Collect attachments"),i.appendText(" command is executed."),i.createEl("br"),i.appendText("Insert each path on a new line."),i.createEl("br"),i.appendText("You can use path string or "),Q(i,"/regular expression/."),i.createEl("br"),i.appendText("If the setting is empty, no paths are excluded from attachment collecting.")})).addMultipleText(i=>{this.bind(i,"excludePathsFromAttachmentCollecting")});let r=(0,ba.debounce)(i=>{me(async()=>{Ue.registerCustomTokens(i),await this.revalidate()})},2e3);new we(this.containerEl).setName("Custom tokens").setDesc(createFragment(i=>{i.appendText("Custom tokens to be used in the attachment folder path and pasted file name."),i.createEl("br"),i.appendText("See "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens",text:"documentation"}),i.appendText(" for more information."),i.createEl("br"),i.appendText("\u26A0\uFE0F Custom tokens can be an arbitrary JavaScript code. If poorly written, it can cause the data loss. Use it at your own risk.")})).addCodeHighlighter(i=>{i.setLanguage("javascript"),i.inputEl.addClass("custom-tokens-setting-control"),this.bind(i,"customTokensStr",{onChanged:s=>{r(s)}}),i.setPlaceholder(ms)}),this.plugin.settingsManager.shouldDebounceCustomTokensValidation=!0,new we(this.containerEl).addButton(i=>{i.setButtonText("Reset to sample custom tokens"),i.setWarning(),i.onClick(it(async()=>{this.plugin.settings.customTokensStr!==ms&&(this.plugin.settings.customTokensStr!==""&&!await us({app:this.plugin.app,message:"Are you sure you want to reset the custom tokens to the sample custom tokens? Your changes will be lost.",title:"Reset to sample custom tokens"})||(await this.plugin.settingsManager.editAndSave(s=>{s.customTokensStr=ms}),this.display()))}))}),new we(this.containerEl).setName("Treat as attachment extensions").setDesc(createFragment(i=>{i.appendText("Treat files with these extensions as attachments."),i.createEl("br"),i.appendText("By default, "),Q(i,".md"),i.appendText(", "),Q(i,".canvas"),i.appendText(" and "),Q(i,".base"),i.appendText(" linked files are not treated as attachments and are not moved with the note."),i.createEl("br"),i.appendText("You can add custom extensions, e.g. "),Q(i,".foo.md"),i.appendText(", "),Q(i,".bar.canvas"),i.appendText(", "),Q(i,".baz.base"),i.appendText(", to override this behavior.")})).addMultipleText(i=>{this.bind(i,"treatAsAttachmentExtensions")})}hide(){super.hide(),this.plugin.settingsManager.shouldDebounceCustomTokensValidation=!1}};function N2(){let e={};for(let n=1;n<=10;n++){let r=(n/10).toFixed(1);e[r]=r}return e}function sc(t){return t.replaceAll(" ",wa)}var $2=/Pasted image (?<Timestamp>\d{14})/,B2="YYYYMMDDHHmmss",V2=10,ac="__IMPORT_FILES__",Aa=class extends rs{arrayBufferFileStatMap=new WeakMap;currentAttachmentFolderPath=null;getAvailablePathForAttachmentsOriginal=null;lastOpenFilePath=null;pathMarkdownUrlMap=new Map;createSettingsManager(){return new Bs(this)}createSettingsTab(){return new ya(this)}async onLayoutReady(){await super.onLayoutReady(),Ue.registerCustomTokens(this.settings.customTokensStr),await this.settingsManager.loadFromFile(!1),Wt(this,this.app.vault,{getAvailablePath:()=>this.getAvailablePath.bind(this),getAvailablePathForAttachments:a=>{this.getAvailablePathForAttachmentsOriginal=a.bind(this.app.vault);let u={isExtended:!0};return Object.assign(this.getAvailablePathForAttachments.bind(this),u)},getConfig:a=>u=>this.getConfig(a,u)}),ka.webUtils&&Wt(this,ka.webUtils,{getPathForFile:a=>u=>this.getPathForFile(u,a)}),Wt(this,this.app.fileManager,{generateMarkdownLink:a=>(u,c,d,h)=>this.generateMarkdownLink(a,u,c,d,h)}),Wt(this,ol(this.app.shareReceiver),{importFiles:a=>u=>this.importFiles(a,u)}),this.registerPopupDocumentDomEvent("change",this.handleInputFileChange.bind(this),{capture:!0});let e=`__TEMP_${crypto.randomUUID()}.md`,n=await this.app.vault.create(e,""),r=this.app.workspace.getLeaf();await r.openFile(n);let i=r.view,s=this;Wt(this,ol(i.editMode.clipboardManager),{insertFiles:a=>function(c){return s.insertFiles(a,this,c)}}),await i.close(),r.detach(),await this.app.vault.delete(n)}async onloadImpl(){await super.onloadImpl(),tp(this,()=>({emptyAttachmentFolderBehavior:this.settings.emptyAttachmentFolderBehavior,isNote:n=>Zn(this,n),isPathIgnored:n=>this.settings.isPathIgnored(n),shouldHandleDeletions:this.settings.shouldDeleteOrphanAttachments,shouldHandleRenames:!0,shouldRenameAttachmentFiles:this.settings.shouldRenameAttachmentFiles,shouldRenameAttachmentFolder:this.settings.shouldRenameAttachmentFolder,shouldUpdateFileNameAliases:!0})),this.addCommand({checkCallback:e=>vp(this,e),id:"collect-attachments-current-note",name:"Collect attachments in current note"}),this.addCommand({checkCallback:e=>Ap(this,e),id:"collect-attachments-current-folder",name:"Collect attachments in current folder"}),this.addCommand({callback:()=>{Ep(this)},id:"collect-attachments-entire-vault",name:"Collect attachments in entire vault"}),this.registerEvent(this.app.workspace.on("file-menu",this.handleFileMenu.bind(this))),Wt(this,this.app,{saveAttachment:()=>(e,n,r)=>this.saveAttachment(e,n,r)}),this.addChild(new ma),this.registerEvent(this.app.workspace.on("file-open",it(this.handleFileOpen.bind(this)))),this.registerEvent(this.app.vault.on("rename",it(this.handleRename.bind(this)))),this.registerEvent(this.app.workspace.on("receive-text-menu",this.handleReceiveTextMenu.bind(this))),this.registerEvent(this.app.workspace.on("receive-files-menu",this.handleReceiveFilesMenu.bind(this)))}async fileArrayBuffer(e,n){let r=await e.call(n);if(this.app.vault.adapter instanceof Rt.FileSystemAdapter){let i=ka.webUtils.getPathForFile(n);if(await this.setFileStat(r,i))return r}return this.arrayBufferFileStatMap.set(r,{ctime:0,mtime:n.lastModified,size:n.size,type:"file"}),r}generateMarkdownLink(e,n,r,i,s){let a=e.call(this.app.fileManager,n,r,i,s);if(!this.settings.markdownUrlFormat)return a;let u=this.pathMarkdownUrlMap.get(n.path);return u?(bu(a)&&(a=wu({app:this.app,linkStyle:mu.Markdown,originalLink:a,sourcePathOrFile:r,targetPathOrFile:n})),yu(a)?a.replace(/\]\(<.+?>\)/,`](<${u}>)`):a.replace(/\]\(.+?\)/,`](${bi(u)})`)):a}getAvailablePath(e,n){let r=0;for(;;){let i=Vt(r===0?e:`${e}${this.settings.duplicateNameSeparator}${String(r)}`,n);if(!Vn(this.app,i,!0))return i;r++}}async getAvailablePathForAttachments(e,n,r,i,s,a,u){if(e.startsWith(ac)&&(e=pr(e,ac),u=!0),r&&this.settings.isPathIgnored(r.path)&&this.getAvailablePathForAttachmentsOriginal)return this.getAvailablePathForAttachmentsOriginal(e,n,r);let c;if(!r||!Zn(this,r))c=await fl(this.app,e,n,r,!0,a??!1);else{let d=Vt(e,n),h=await Si(this,r.path,d,s),m=u?d:await Lr(this,new Ue({app:this.app,attachmentFileContent:s,noteFilePath:r.path,originalAttachmentFileName:d})),w=Ae(h,m);if(a)c=w;else{let g=ge(w),v=xe(w,n?`.${n}`:"");c=this.app.vault.getAvailablePath(Ae(g,v),n)}}if(!i){let d=bt(c);await this.app.vault.exists(d)||(await Go(this.app,d),this.settings.emptyAttachmentFolderBehavior===st.Keep&&await this.app.vault.create(Ae(d,".gitkeep"),""))}return c}getConfig(e,n){return n!=="attachmentFolderPath"||this.currentAttachmentFolderPath===null?e.call(this.app.vault,n):this.currentAttachmentFolderPath}getPathForFile(e,n){let r=e;return r.path?r.path:n(e)}handleFileMenu(e,n){n instanceof Rt.TFolder&&e.addItem(r=>{r.setTitle("Collect attachments in folder").setIcon("download").onClick(()=>gs(this,n,this.abortSignal))})}async handleFileOpen(e){if(e===null||this.settings.isPathIgnored(e.path)){this.currentAttachmentFolderPath=null,this.lastOpenFilePath=null;return}e.path!==this.lastOpenFilePath&&(this.lastOpenFilePath=e.path,this.currentAttachmentFolderPath=await Si(this,e.path,"dummy.pdf"))}handleInputFileChange(e){if(!(e.target instanceof HTMLInputElement)||e.target.type!=="file")return;let n=this;for(let r of e.target.files??[])Wt(this,r,{arrayBuffer:i=>function(){return n.fileArrayBuffer(i,this)}})}handleReceiveFilesMenu(e,n){this.handleReceiveMenuItemClick(e,r=>["",...n.map(s=>this.app.fileManager.generateMarkdownLink(s,r.path)),""].join(`
`))}handleReceiveMenuItemClick(e,n){let r=this.app,i=e.items.find(a=>a instanceof Rt.MenuItem&&!!a.iconEl.querySelector(".lucide-file"));i&&(i.callback=s);function s(){let a=r.workspace.getActiveViewOfType(Rt.MarkdownView);if(!a?.file)return;let u=n(a.file);a.editor.replaceSelection(u)}}handleReceiveTextMenu(e,n){this.handleReceiveMenuItemClick(e,()=>n)}async handleRename(){await this.handleFileOpen(this.app.workspace.getActiveFile())}async importFiles(e,n){for(let r of n){let i=window.Capacitor.convertFileSrc(r.uri),a=await(await fetch(i)).arrayBuffer(),u=new Ue({app:this.app,attachmentFileContent:a,noteFilePath:this.app.workspace.getActiveFile()?.path??"",originalAttachmentFileName:r.name}),c=await Lr(this,u),d=Ve(r.name).slice(1);r.name=ac+Vt(c,d)}return e.call(this.app.shareReceiver,n)}async insertFiles(e,n,r){for(let i of r){let s=await i.data;await this.setFileStat(s,i.filepath)}return e.call(n,r)}async saveAttachment(e,n,r){let i=this.app.workspace.getActiveFile();if(!i||this.settings.isPathIgnored(i.path))return await this.saveAttachmentCore(e,n,r);let s=!1,a=$2.exec(e);if(a){let d=a.groups?.Timestamp;if(d){let h=(0,lc.default)(d,B2);h.isValid()&&(0,lc.default)().diff(h,"seconds")<V2&&(s=!0)}}s&&n==="png"&&this.settings.shouldConvertPastedImagesToJpeg&&(n="jpg",r=await xf(new Blob([r],{type:"image/png"}),this.settings.jpegQuality));let u=!1;switch(this.settings.attachmentRenameMode){case"All":u=!0;break;case"None":break;case"Only pasted images":u=s;break;default:throw new Error("Invalid attachment rename mode")}u&&(e=await Lr(this,new Ue({app:this.app,attachmentFileContent:r,attachmentFileStat:this.arrayBufferFileStatMap.get(r),noteFilePath:i.path,originalAttachmentFileName:Vt(e,n)})));let c=await this.saveAttachmentCore(e,n,r);if(this.settings.markdownUrlFormat){let d=await new Ue({app:this.app,attachmentFileContent:r,generatedAttachmentFileName:c.name,generatedAttachmentFilePath:c.path,noteFilePath:i.path,originalAttachmentFileName:Vt(e,n)}).fillTemplate(this.settings.markdownUrlFormat);this.pathMarkdownUrlMap.set(c.path,d)}else this.pathMarkdownUrlMap.delete(c.path);return c}async saveAttachmentCore(e,n,r){let i=this.app.workspace.getActiveFile(),s=await this.getAvailablePathForAttachments(e,n,i,!1,r,!1,!0);return await this.app.vault.createBinary(s,r)}async setFileStat(e,n){if(!n)return!1;if(this.app.vault.adapter instanceof Rt.FileSystemAdapter){let r=await this.app.vault.adapter.fsPromises.stat(n);return this.arrayBufferFileStatMap.set(e,{ctime:r.ctimeMs,mtime:r.mtimeMs,size:r.size,type:"file"}),!0}if(this.app.vault.adapter instanceof Rt.CapacitorAdapter){let r=await this.app.vault.adapter.fs.stat(n);return this.arrayBufferFileStatMap.set(e,{ctime:r.ctime??0,mtime:r.mtime??0,size:e.byteLength,type:"file"}),!0}return!1}};var Y2=Aa;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/

/* nosourcemap */