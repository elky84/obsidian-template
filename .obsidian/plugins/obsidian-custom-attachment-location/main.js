/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

(function initCjs() {
  const globalThisRecord = globalThis;
  globalThisRecord["__name"] ??= name;
  const originalRequire = require;
  if (originalRequire && !originalRequire.__isPatched) {
    require = Object.assign(
      (id) => requirePatched(id),
      originalRequire,
      {
        __isPatched: true
      }
    );
  }
  const newFuncs = {
    __extractDefault() {
      return extractDefault;
    },
    process() {
      const browserProcess = {
        browser: true,
        cwd() {
          return "/";
        },
        env: {},
        platform: "android"
      };
      return browserProcess;
    }
  };
  for (const key of Object.keys(newFuncs)) {
    globalThisRecord[key] ??= newFuncs[key]?.();
  }
  function name(obj) {
    return obj;
  }
  function extractDefault(module2) {
    return module2 && module2.__esModule && "default" in module2 ? module2.default : module2;
  }
  function requirePatched(id) {
    const module2 = originalRequire?.(id);
    if (module2) {
      return extractDefault(module2);
    }
    if (id === "process" || id === "node:process") {
      console.error(`Module not found: ${id}. Fake process object is returned instead.`);
      return globalThis.process;
    }
    console.error(`Module not found: ${id}. Empty object is returned instead.`);
    return {};
  }
})();

"use strict";var ub=Object.create;var ni=Object.defineProperty;var cb=Object.getOwnPropertyDescriptor;var fb=Object.getOwnPropertyNames;var db=Object.getPrototypeOf,hb=Object.prototype.hasOwnProperty;var r=(t,e)=>ni(t,"name",{value:e,configurable:!0});var U=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),Zc=(t,e)=>{for(var n in e)ni(t,n,{get:e[n],enumerable:!0})},Jc=(t,e,n,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of fb(e))!hb.call(t,o)&&o!==n&&ni(t,o,{get:()=>e[o],enumerable:!(i=cb(e,o))||i.enumerable});return t};var De=(t,e,n)=>(n=t!=null?ub(db(t)):{},Jc(e||!t||!t.__esModule?ni(n,"default",{value:t,enumerable:!0}):n,t)),pb=t=>Jc(ni({},"__esModule",{value:!0}),t);var rn=U((qa,cr)=>{(function(t,e){typeof qa=="object"&&typeof cr<"u"?cr.exports=e():typeof define=="function"&&define.amd?define(e):t.moment=e()})(qa,(function(){"use strict";var t;function e(){return t.apply(null,arguments)}r(e,"hooks");function n(s){t=s}r(n,"setHookCallback");function i(s){return s instanceof Array||Object.prototype.toString.call(s)==="[object Array]"}r(i,"isArray");function o(s){return s!=null&&Object.prototype.toString.call(s)==="[object Object]"}r(o,"isObject");function a(s,u){return Object.prototype.hasOwnProperty.call(s,u)}r(a,"hasOwnProp");function l(s){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(s).length===0;var u;for(u in s)if(a(s,u))return!1;return!0}r(l,"isObjectEmpty");function c(s){return s===void 0}r(c,"isUndefined");function f(s){return typeof s=="number"||Object.prototype.toString.call(s)==="[object Number]"}r(f,"isNumber");function p(s){return s instanceof Date||Object.prototype.toString.call(s)==="[object Date]"}r(p,"isDate");function h(s,u){var d=[],m,b=s.length;for(m=0;m<b;++m)d.push(u(s[m],m));return d}r(h,"map");function g(s,u){for(var d in u)a(u,d)&&(s[d]=u[d]);return a(u,"toString")&&(s.toString=u.toString),a(u,"valueOf")&&(s.valueOf=u.valueOf),s}r(g,"extend");function y(s,u,d,m){return Fc(s,u,d,m,!0).utc()}r(y,"createUTC");function w(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}r(w,"defaultParsingFlags");function E(s){return s._pf==null&&(s._pf=w()),s._pf}r(E,"getParsingFlags");var x;Array.prototype.some?x=Array.prototype.some:x=r(function(s){var u=Object(this),d=u.length>>>0,m;for(m=0;m<d;m++)if(m in u&&s.call(this,u[m],m,u))return!0;return!1},"some");function F(s){var u=null,d=!1,m=s._d&&!isNaN(s._d.getTime());if(m&&(u=E(s),d=x.call(u.parsedDateParts,function(b){return b!=null}),m=u.overflow<0&&!u.empty&&!u.invalidEra&&!u.invalidMonth&&!u.invalidWeekday&&!u.weekdayMismatch&&!u.nullInput&&!u.invalidFormat&&!u.userInvalidated&&(!u.meridiem||u.meridiem&&d),s._strict&&(m=m&&u.charsLeftOver===0&&u.unusedTokens.length===0&&u.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(s))s._isValid=m;else return m;return s._isValid}r(F,"isValid");function C(s){var u=y(NaN);return s!=null?g(E(u),s):E(u).userInvalidated=!0,u}r(C,"createInvalid");var I=e.momentProperties=[],_=!1;function W(s,u){var d,m,b,A=I.length;if(c(u._isAMomentObject)||(s._isAMomentObject=u._isAMomentObject),c(u._i)||(s._i=u._i),c(u._f)||(s._f=u._f),c(u._l)||(s._l=u._l),c(u._strict)||(s._strict=u._strict),c(u._tzm)||(s._tzm=u._tzm),c(u._isUTC)||(s._isUTC=u._isUTC),c(u._offset)||(s._offset=u._offset),c(u._pf)||(s._pf=E(u)),c(u._locale)||(s._locale=u._locale),A>0)for(d=0;d<A;d++)m=I[d],b=u[m],c(b)||(s[m]=b);return s}r(W,"copyConfig");function z(s){W(this,s),this._d=new Date(s._d!=null?s._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),_===!1&&(_=!0,e.updateOffset(this),_=!1)}r(z,"Moment");function S(s){return s instanceof z||s!=null&&s._isAMomentObject!=null}r(S,"isMoment");function te(s){e.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+s)}r(te,"warn");function Z(s,u){var d=!0;return g(function(){if(e.deprecationHandler!=null&&e.deprecationHandler(null,s),d){var m=[],b,A,T,M=arguments.length;for(A=0;A<M;A++){if(b="",typeof arguments[A]=="object"){b+=`
[`+A+"] ";for(T in arguments[0])a(arguments[0],T)&&(b+=T+": "+arguments[0][T]+", ");b=b.slice(0,-2)}else b=arguments[A];m.push(b)}te(s+`
Arguments: `+Array.prototype.slice.call(m).join("")+`
`+new Error().stack),d=!1}return u.apply(this,arguments)},u)}r(Z,"deprecate");var J={};function le(s,u){e.deprecationHandler!=null&&e.deprecationHandler(s,u),J[s]||(te(u),J[s]=!0)}r(le,"deprecateSimple"),e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;function de(s){return typeof Function<"u"&&s instanceof Function||Object.prototype.toString.call(s)==="[object Function]"}r(de,"isFunction");function oe(s){var u,d;for(d in s)a(s,d)&&(u=s[d],de(u)?this[d]=u:this["_"+d]=u);this._config=s,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}r(oe,"set");function Y(s,u){var d=g({},s),m;for(m in u)a(u,m)&&(o(s[m])&&o(u[m])?(d[m]={},g(d[m],s[m]),g(d[m],u[m])):u[m]!=null?d[m]=u[m]:delete d[m]);for(m in s)a(s,m)&&!a(u,m)&&o(s[m])&&(d[m]=g({},d[m]));return d}r(Y,"mergeConfigs");function q(s){s!=null&&this.set(s)}r(q,"Locale");var H;Object.keys?H=Object.keys:H=r(function(s){var u,d=[];for(u in s)a(s,u)&&d.push(u);return d},"keys");var se={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function be(s,u,d){var m=this._calendar[s]||this._calendar.sameElse;return de(m)?m.call(u,d):m}r(be,"calendar");function ke(s,u,d){var m=""+Math.abs(s),b=u-m.length,A=s>=0;return(A?d?"+":"":"-")+Math.pow(10,Math.max(0,b)).toString().substr(1)+m}r(ke,"zeroFill");var rt=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,v=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ne={},Be={};function k(s,u,d,m){var b=m;typeof m=="string"&&(b=r(function(){return this[m]()},"func")),s&&(Be[s]=b),u&&(Be[u[0]]=function(){return ke(b.apply(this,arguments),u[1],u[2])}),d&&(Be[d]=function(){return this.localeData().ordinal(b.apply(this,arguments),s)})}r(k,"addFormatToken");function Ge(s){return s.match(/\[[\s\S]/)?s.replace(/^\[|\]$/g,""):s.replace(/\\/g,"")}r(Ge,"removeFormattingTokens");function Gt(s){var u=s.match(rt),d,m;for(d=0,m=u.length;d<m;d++)Be[u[d]]?u[d]=Be[u[d]]:u[d]=Ge(u[d]);return function(b){var A="",T;for(T=0;T<m;T++)A+=de(u[T])?u[T].call(b,s):u[T];return A}}r(Gt,"makeFormatFunction");function gn(s,u){return s.isValid()?(u=Rn(u,s.localeData()),Ne[u]=Ne[u]||Gt(u),Ne[u](s)):s.localeData().invalidDate()}r(gn,"formatMoment");function Rn(s,u){var d=5;function m(b){return u.longDateFormat(b)||b}for(r(m,"replaceLongDateFormatTokens"),v.lastIndex=0;d>=0&&v.test(s);)s=s.replace(v,m),v.lastIndex=0,d-=1;return s}r(Rn,"expandFormat");var Se={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Dn(s){var u=this._longDateFormat[s],d=this._longDateFormat[s.toUpperCase()];return u||!d?u:(this._longDateFormat[s]=d.match(rt).map(function(m){return m==="MMMM"||m==="MM"||m==="DD"||m==="dddd"?m.slice(1):m}).join(""),this._longDateFormat[s])}r(Dn,"longDateFormat");var Tt="Invalid date";function qt(){return this._invalidDate}r(qt,"invalidDate");var wn="%d",Gr=/\d{1,2}/;function Ca(s){return this._ordinal.replace("%d",s)}r(Ca,"ordinal");var Vi={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Yi(s,u,d,m){var b=this._relativeTime[d];return de(b)?b(s,u,d,m):b.replace(/%d/i,s)}r(Yi,"relativeTime");function Wi(s,u){var d=this._relativeTime[s>0?"future":"past"];return de(d)?d(u):d.replace(/%s/i,u)}r(Wi,"pastFuture");var Ui={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function qe(s){return typeof s=="string"?Ui[s]||Ui[s.toLowerCase()]:void 0}r(qe,"normalizeUnits");function nr(s){var u={},d,m;for(m in s)a(s,m)&&(d=qe(m),d&&(u[d]=s[m]));return u}r(nr,"normalizeObjectUnits");var xa={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Ta(s){var u=[],d;for(d in s)a(s,d)&&u.push({unit:d,priority:xa[d]});return u.sort(function(m,b){return m.priority-b.priority}),u}r(Ta,"getPrioritizedUnits");var zi=/\d/,je=/\d\d/,Hi=/\d{3}/,P=/\d{4}/,R=/[+-]?\d{6}/,D=/\d\d?/,Q=/\d\d\d\d?/,ue=/\d\d\d\d\d\d?/,$e=/\d{1,3}/,St=/\d{1,4}/,it=/[+-]?\d{1,6}/,mt=/\d+/,Mt=/[+-]?\d+/,Ke=/Z|[+-]\d\d:?\d\d/gi,Ft=/Z|[+-]\d\d(?::?\d\d)?/gi,Pt=/[+-]?\d+(\.\d{1,3})?/,qr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,rr=/^[1-9]\d?/,Sa=/^([1-9]\d|\d)/,Gi;Gi={};function B(s,u,d){Gi[s]=de(u)?u:function(m,b){return m&&d?d:u}}r(B,"addRegexToken");function Ig(s,u){return a(Gi,s)?Gi[s](u._strict,u._locale):new RegExp(_g(s))}r(Ig,"getParseRegexForToken");function _g(s){return jt(s.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(u,d,m,b,A){return d||m||b||A}))}r(_g,"unescapeFormat");function jt(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}r(jt,"regexEscape");function gt(s){return s<0?Math.ceil(s)||0:Math.floor(s)}r(gt,"absFloor");function ne(s){var u=+s,d=0;return u!==0&&isFinite(u)&&(d=gt(u)),d}r(ne,"toInt");var Fa={};function fe(s,u){var d,m=u,b;for(typeof s=="string"&&(s=[s]),f(u)&&(m=r(function(A,T){T[u]=ne(A)},"func")),b=s.length,d=0;d<b;d++)Fa[s[d]]=m}r(fe,"addParseToken");function jr(s,u){fe(s,function(d,m,b,A){b._w=b._w||{},u(d,b._w,b,A)})}r(jr,"addWeekParseToken");function Og(s,u,d){u!=null&&a(Fa,s)&&Fa[s](u,d._a,d,s)}r(Og,"addTimeToArrayFromToken");function qi(s){return s%4===0&&s%100!==0||s%400===0}r(qi,"isLeapYear");var Ve=0,Kt=1,Lt=2,Fe=3,It=4,Xt=5,Mn=6,Rg=7,Dg=8;k("Y",0,0,function(){var s=this.year();return s<=9999?ke(s,4):"+"+s}),k(0,["YY",2],0,function(){return this.year()%100}),k(0,["YYYY",4],0,"year"),k(0,["YYYYY",5],0,"year"),k(0,["YYYYYY",6,!0],0,"year"),B("Y",Mt),B("YY",D,je),B("YYYY",St,P),B("YYYYY",it,R),B("YYYYYY",it,R),fe(["YYYYY","YYYYYY"],Ve),fe("YYYY",function(s,u){u[Ve]=s.length===2?e.parseTwoDigitYear(s):ne(s)}),fe("YY",function(s,u){u[Ve]=e.parseTwoDigitYear(s)}),fe("Y",function(s,u){u[Ve]=parseInt(s,10)});function Kr(s){return qi(s)?366:365}r(Kr,"daysInYear"),e.parseTwoDigitYear=function(s){return ne(s)+(ne(s)>68?1900:2e3)};var dc=ir("FullYear",!0);function Mg(){return qi(this.year())}r(Mg,"getIsLeapYear");function ir(s,u){return function(d){return d!=null?(hc(this,s,d),e.updateOffset(this,u),this):Xr(this,s)}}r(ir,"makeGetSet");function Xr(s,u){if(!s.isValid())return NaN;var d=s._d,m=s._isUTC;switch(u){case"Milliseconds":return m?d.getUTCMilliseconds():d.getMilliseconds();case"Seconds":return m?d.getUTCSeconds():d.getSeconds();case"Minutes":return m?d.getUTCMinutes():d.getMinutes();case"Hours":return m?d.getUTCHours():d.getHours();case"Date":return m?d.getUTCDate():d.getDate();case"Day":return m?d.getUTCDay():d.getDay();case"Month":return m?d.getUTCMonth():d.getMonth();case"FullYear":return m?d.getUTCFullYear():d.getFullYear();default:return NaN}}r(Xr,"get");function hc(s,u,d){var m,b,A,T,M;if(!(!s.isValid()||isNaN(d))){switch(m=s._d,b=s._isUTC,u){case"Milliseconds":return void(b?m.setUTCMilliseconds(d):m.setMilliseconds(d));case"Seconds":return void(b?m.setUTCSeconds(d):m.setSeconds(d));case"Minutes":return void(b?m.setUTCMinutes(d):m.setMinutes(d));case"Hours":return void(b?m.setUTCHours(d):m.setHours(d));case"Date":return void(b?m.setUTCDate(d):m.setDate(d));case"FullYear":break;default:return}A=d,T=s.month(),M=s.date(),M=M===29&&T===1&&!qi(A)?28:M,b?m.setUTCFullYear(A,T,M):m.setFullYear(A,T,M)}}r(hc,"set$1");function Lg(s){return s=qe(s),de(this[s])?this[s]():this}r(Lg,"stringGet");function Ng(s,u){if(typeof s=="object"){s=nr(s);var d=Ta(s),m,b=d.length;for(m=0;m<b;m++)this[d[m].unit](s[d[m].unit])}else if(s=qe(s),de(this[s]))return this[s](u);return this}r(Ng,"stringSet");function Bg(s,u){return(s%u+u)%u}r(Bg,"mod");var Ce;Array.prototype.indexOf?Ce=Array.prototype.indexOf:Ce=r(function(s){var u;for(u=0;u<this.length;++u)if(this[u]===s)return u;return-1},"indexOf");function Pa(s,u){if(isNaN(s)||isNaN(u))return NaN;var d=Bg(u,12);return s+=(u-d)/12,d===1?qi(s)?29:28:31-d%7%2}r(Pa,"daysInMonth"),k("M",["MM",2],"Mo",function(){return this.month()+1}),k("MMM",0,0,function(s){return this.localeData().monthsShort(this,s)}),k("MMMM",0,0,function(s){return this.localeData().months(this,s)}),B("M",D,rr),B("MM",D,je),B("MMM",function(s,u){return u.monthsShortRegex(s)}),B("MMMM",function(s,u){return u.monthsRegex(s)}),fe(["M","MM"],function(s,u){u[Kt]=ne(s)-1}),fe(["MMM","MMMM"],function(s,u,d,m){var b=d._locale.monthsParse(s,m,d._strict);b!=null?u[Kt]=b:E(d).invalidMonth=s});var $g="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),pc="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),mc=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Vg=qr,Yg=qr;function Wg(s,u){return s?i(this._months)?this._months[s.month()]:this._months[(this._months.isFormat||mc).test(u)?"format":"standalone"][s.month()]:i(this._months)?this._months:this._months.standalone}r(Wg,"localeMonths");function Ug(s,u){return s?i(this._monthsShort)?this._monthsShort[s.month()]:this._monthsShort[mc.test(u)?"format":"standalone"][s.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}r(Ug,"localeMonthsShort");function zg(s,u,d){var m,b,A,T=s.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],m=0;m<12;++m)A=y([2e3,m]),this._shortMonthsParse[m]=this.monthsShort(A,"").toLocaleLowerCase(),this._longMonthsParse[m]=this.months(A,"").toLocaleLowerCase();return d?u==="MMM"?(b=Ce.call(this._shortMonthsParse,T),b!==-1?b:null):(b=Ce.call(this._longMonthsParse,T),b!==-1?b:null):u==="MMM"?(b=Ce.call(this._shortMonthsParse,T),b!==-1?b:(b=Ce.call(this._longMonthsParse,T),b!==-1?b:null)):(b=Ce.call(this._longMonthsParse,T),b!==-1?b:(b=Ce.call(this._shortMonthsParse,T),b!==-1?b:null))}r(zg,"handleStrictParse");function Hg(s,u,d){var m,b,A;if(this._monthsParseExact)return zg.call(this,s,u,d);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),m=0;m<12;m++){if(b=y([2e3,m]),d&&!this._longMonthsParse[m]&&(this._longMonthsParse[m]=new RegExp("^"+this.months(b,"").replace(".","")+"$","i"),this._shortMonthsParse[m]=new RegExp("^"+this.monthsShort(b,"").replace(".","")+"$","i")),!d&&!this._monthsParse[m]&&(A="^"+this.months(b,"")+"|^"+this.monthsShort(b,""),this._monthsParse[m]=new RegExp(A.replace(".",""),"i")),d&&u==="MMMM"&&this._longMonthsParse[m].test(s))return m;if(d&&u==="MMM"&&this._shortMonthsParse[m].test(s))return m;if(!d&&this._monthsParse[m].test(s))return m}}r(Hg,"localeMonthsParse");function gc(s,u){if(!s.isValid())return s;if(typeof u=="string"){if(/^\d+$/.test(u))u=ne(u);else if(u=s.localeData().monthsParse(u),!f(u))return s}var d=u,m=s.date();return m=m<29?m:Math.min(m,Pa(s.year(),d)),s._isUTC?s._d.setUTCMonth(d,m):s._d.setMonth(d,m),s}r(gc,"setMonth");function wc(s){return s!=null?(gc(this,s),e.updateOffset(this,!0),this):Xr(this,"Month")}r(wc,"getSetMonth");function Gg(){return Pa(this.year(),this.month())}r(Gg,"getDaysInMonth");function qg(s){return this._monthsParseExact?(a(this,"_monthsRegex")||yc.call(this),s?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=Vg),this._monthsShortStrictRegex&&s?this._monthsShortStrictRegex:this._monthsShortRegex)}r(qg,"monthsShortRegex");function jg(s){return this._monthsParseExact?(a(this,"_monthsRegex")||yc.call(this),s?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=Yg),this._monthsStrictRegex&&s?this._monthsStrictRegex:this._monthsRegex)}r(jg,"monthsRegex");function yc(){function s(G,re){return re.length-G.length}r(s,"cmpLenRev");var u=[],d=[],m=[],b,A,T,M;for(b=0;b<12;b++)A=y([2e3,b]),T=jt(this.monthsShort(A,"")),M=jt(this.months(A,"")),u.push(T),d.push(M),m.push(M),m.push(T);u.sort(s),d.sort(s),m.sort(s),this._monthsRegex=new RegExp("^("+m.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+u.join("|")+")","i")}r(yc,"computeMonthsParse");function Kg(s,u,d,m,b,A,T){var M;return s<100&&s>=0?(M=new Date(s+400,u,d,m,b,A,T),isFinite(M.getFullYear())&&M.setFullYear(s)):M=new Date(s,u,d,m,b,A,T),M}r(Kg,"createDate");function Zr(s){var u,d;return s<100&&s>=0?(d=Array.prototype.slice.call(arguments),d[0]=s+400,u=new Date(Date.UTC.apply(null,d)),isFinite(u.getUTCFullYear())&&u.setUTCFullYear(s)):u=new Date(Date.UTC.apply(null,arguments)),u}r(Zr,"createUTCDate");function ji(s,u,d){var m=7+u-d,b=(7+Zr(s,0,m).getUTCDay()-u)%7;return-b+m-1}r(ji,"firstWeekOffset");function bc(s,u,d,m,b){var A=(7+d-m)%7,T=ji(s,m,b),M=1+7*(u-1)+A+T,G,re;return M<=0?(G=s-1,re=Kr(G)+M):M>Kr(s)?(G=s+1,re=M-Kr(s)):(G=s,re=M),{year:G,dayOfYear:re}}r(bc,"dayOfYearFromWeeks");function Jr(s,u,d){var m=ji(s.year(),u,d),b=Math.floor((s.dayOfYear()-m-1)/7)+1,A,T;return b<1?(T=s.year()-1,A=b+Zt(T,u,d)):b>Zt(s.year(),u,d)?(A=b-Zt(s.year(),u,d),T=s.year()+1):(T=s.year(),A=b),{week:A,year:T}}r(Jr,"weekOfYear");function Zt(s,u,d){var m=ji(s,u,d),b=ji(s+1,u,d);return(Kr(s)-m+b)/7}r(Zt,"weeksInYear"),k("w",["ww",2],"wo","week"),k("W",["WW",2],"Wo","isoWeek"),B("w",D,rr),B("ww",D,je),B("W",D,rr),B("WW",D,je),jr(["w","ww","W","WW"],function(s,u,d,m){u[m.substr(0,1)]=ne(s)});function Xg(s){return Jr(s,this._week.dow,this._week.doy).week}r(Xg,"localeWeek");var Zg={dow:0,doy:6};function Jg(){return this._week.dow}r(Jg,"localeFirstDayOfWeek");function Qg(){return this._week.doy}r(Qg,"localeFirstDayOfYear");function e0(s){var u=this.localeData().week(this);return s==null?u:this.add((s-u)*7,"d")}r(e0,"getSetWeek");function t0(s){var u=Jr(this,1,4).week;return s==null?u:this.add((s-u)*7,"d")}r(t0,"getSetISOWeek"),k("d",0,"do","day"),k("dd",0,0,function(s){return this.localeData().weekdaysMin(this,s)}),k("ddd",0,0,function(s){return this.localeData().weekdaysShort(this,s)}),k("dddd",0,0,function(s){return this.localeData().weekdays(this,s)}),k("e",0,0,"weekday"),k("E",0,0,"isoWeekday"),B("d",D),B("e",D),B("E",D),B("dd",function(s,u){return u.weekdaysMinRegex(s)}),B("ddd",function(s,u){return u.weekdaysShortRegex(s)}),B("dddd",function(s,u){return u.weekdaysRegex(s)}),jr(["dd","ddd","dddd"],function(s,u,d,m){var b=d._locale.weekdaysParse(s,m,d._strict);b!=null?u.d=b:E(d).invalidWeekday=s}),jr(["d","e","E"],function(s,u,d,m){u[m]=ne(s)});function n0(s,u){return typeof s!="string"?s:isNaN(s)?(s=u.weekdaysParse(s),typeof s=="number"?s:null):parseInt(s,10)}r(n0,"parseWeekday");function r0(s,u){return typeof s=="string"?u.weekdaysParse(s)%7||7:isNaN(s)?null:s}r(r0,"parseIsoWeekday");function Ia(s,u){return s.slice(u,7).concat(s.slice(0,u))}r(Ia,"shiftWeekdays");var i0="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),kc="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),o0="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),s0=qr,a0=qr,l0=qr;function u0(s,u){var d=i(this._weekdays)?this._weekdays:this._weekdays[s&&s!==!0&&this._weekdays.isFormat.test(u)?"format":"standalone"];return s===!0?Ia(d,this._week.dow):s?d[s.day()]:d}r(u0,"localeWeekdays");function c0(s){return s===!0?Ia(this._weekdaysShort,this._week.dow):s?this._weekdaysShort[s.day()]:this._weekdaysShort}r(c0,"localeWeekdaysShort");function f0(s){return s===!0?Ia(this._weekdaysMin,this._week.dow):s?this._weekdaysMin[s.day()]:this._weekdaysMin}r(f0,"localeWeekdaysMin");function d0(s,u,d){var m,b,A,T=s.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],m=0;m<7;++m)A=y([2e3,1]).day(m),this._minWeekdaysParse[m]=this.weekdaysMin(A,"").toLocaleLowerCase(),this._shortWeekdaysParse[m]=this.weekdaysShort(A,"").toLocaleLowerCase(),this._weekdaysParse[m]=this.weekdays(A,"").toLocaleLowerCase();return d?u==="dddd"?(b=Ce.call(this._weekdaysParse,T),b!==-1?b:null):u==="ddd"?(b=Ce.call(this._shortWeekdaysParse,T),b!==-1?b:null):(b=Ce.call(this._minWeekdaysParse,T),b!==-1?b:null):u==="dddd"?(b=Ce.call(this._weekdaysParse,T),b!==-1||(b=Ce.call(this._shortWeekdaysParse,T),b!==-1)?b:(b=Ce.call(this._minWeekdaysParse,T),b!==-1?b:null)):u==="ddd"?(b=Ce.call(this._shortWeekdaysParse,T),b!==-1||(b=Ce.call(this._weekdaysParse,T),b!==-1)?b:(b=Ce.call(this._minWeekdaysParse,T),b!==-1?b:null)):(b=Ce.call(this._minWeekdaysParse,T),b!==-1||(b=Ce.call(this._weekdaysParse,T),b!==-1)?b:(b=Ce.call(this._shortWeekdaysParse,T),b!==-1?b:null))}r(d0,"handleStrictParse$1");function h0(s,u,d){var m,b,A;if(this._weekdaysParseExact)return d0.call(this,s,u,d);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),m=0;m<7;m++){if(b=y([2e3,1]).day(m),d&&!this._fullWeekdaysParse[m]&&(this._fullWeekdaysParse[m]=new RegExp("^"+this.weekdays(b,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[m]=new RegExp("^"+this.weekdaysShort(b,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[m]=new RegExp("^"+this.weekdaysMin(b,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[m]||(A="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[m]=new RegExp(A.replace(".",""),"i")),d&&u==="dddd"&&this._fullWeekdaysParse[m].test(s))return m;if(d&&u==="ddd"&&this._shortWeekdaysParse[m].test(s))return m;if(d&&u==="dd"&&this._minWeekdaysParse[m].test(s))return m;if(!d&&this._weekdaysParse[m].test(s))return m}}r(h0,"localeWeekdaysParse");function p0(s){if(!this.isValid())return s!=null?this:NaN;var u=Xr(this,"Day");return s!=null?(s=n0(s,this.localeData()),this.add(s-u,"d")):u}r(p0,"getSetDayOfWeek");function m0(s){if(!this.isValid())return s!=null?this:NaN;var u=(this.day()+7-this.localeData()._week.dow)%7;return s==null?u:this.add(s-u,"d")}r(m0,"getSetLocaleDayOfWeek");function g0(s){if(!this.isValid())return s!=null?this:NaN;if(s!=null){var u=r0(s,this.localeData());return this.day(this.day()%7?u:u-7)}else return this.day()||7}r(g0,"getSetISODayOfWeek");function w0(s){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||_a.call(this),s?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=s0),this._weekdaysStrictRegex&&s?this._weekdaysStrictRegex:this._weekdaysRegex)}r(w0,"weekdaysRegex");function y0(s){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||_a.call(this),s?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=a0),this._weekdaysShortStrictRegex&&s?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}r(y0,"weekdaysShortRegex");function b0(s){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||_a.call(this),s?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=l0),this._weekdaysMinStrictRegex&&s?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}r(b0,"weekdaysMinRegex");function _a(){function s(Xe,nn){return nn.length-Xe.length}r(s,"cmpLenRev");var u=[],d=[],m=[],b=[],A,T,M,G,re;for(A=0;A<7;A++)T=y([2e3,1]).day(A),M=jt(this.weekdaysMin(T,"")),G=jt(this.weekdaysShort(T,"")),re=jt(this.weekdays(T,"")),u.push(M),d.push(G),m.push(re),b.push(M),b.push(G),b.push(re);u.sort(s),d.sort(s),m.sort(s),b.sort(s),this._weekdaysRegex=new RegExp("^("+b.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+m.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+u.join("|")+")","i")}r(_a,"computeWeekdaysParse");function Oa(){return this.hours()%12||12}r(Oa,"hFormat");function k0(){return this.hours()||24}r(k0,"kFormat"),k("H",["HH",2],0,"hour"),k("h",["hh",2],0,Oa),k("k",["kk",2],0,k0),k("hmm",0,0,function(){return""+Oa.apply(this)+ke(this.minutes(),2)}),k("hmmss",0,0,function(){return""+Oa.apply(this)+ke(this.minutes(),2)+ke(this.seconds(),2)}),k("Hmm",0,0,function(){return""+this.hours()+ke(this.minutes(),2)}),k("Hmmss",0,0,function(){return""+this.hours()+ke(this.minutes(),2)+ke(this.seconds(),2)});function Ac(s,u){k(s,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),u)})}r(Ac,"meridiem"),Ac("a",!0),Ac("A",!1);function vc(s,u){return u._meridiemParse}r(vc,"matchMeridiem"),B("a",vc),B("A",vc),B("H",D,Sa),B("h",D,rr),B("k",D,rr),B("HH",D,je),B("hh",D,je),B("kk",D,je),B("hmm",Q),B("hmmss",ue),B("Hmm",Q),B("Hmmss",ue),fe(["H","HH"],Fe),fe(["k","kk"],function(s,u,d){var m=ne(s);u[Fe]=m===24?0:m}),fe(["a","A"],function(s,u,d){d._isPm=d._locale.isPM(s),d._meridiem=s}),fe(["h","hh"],function(s,u,d){u[Fe]=ne(s),E(d).bigHour=!0}),fe("hmm",function(s,u,d){var m=s.length-2;u[Fe]=ne(s.substr(0,m)),u[It]=ne(s.substr(m)),E(d).bigHour=!0}),fe("hmmss",function(s,u,d){var m=s.length-4,b=s.length-2;u[Fe]=ne(s.substr(0,m)),u[It]=ne(s.substr(m,2)),u[Xt]=ne(s.substr(b)),E(d).bigHour=!0}),fe("Hmm",function(s,u,d){var m=s.length-2;u[Fe]=ne(s.substr(0,m)),u[It]=ne(s.substr(m))}),fe("Hmmss",function(s,u,d){var m=s.length-4,b=s.length-2;u[Fe]=ne(s.substr(0,m)),u[It]=ne(s.substr(m,2)),u[Xt]=ne(s.substr(b))});function A0(s){return(s+"").toLowerCase().charAt(0)==="p"}r(A0,"localeIsPM");var v0=/[ap]\.?m?\.?/i,E0=ir("Hours",!0);function C0(s,u,d){return s>11?d?"pm":"PM":d?"am":"AM"}r(C0,"localeMeridiem");var Ec={calendar:se,longDateFormat:Se,invalidDate:Tt,ordinal:wn,dayOfMonthOrdinalParse:Gr,relativeTime:Vi,months:$g,monthsShort:pc,week:Zg,weekdays:i0,weekdaysMin:o0,weekdaysShort:kc,meridiemParse:v0},me={},Qr={},ei;function x0(s,u){var d,m=Math.min(s.length,u.length);for(d=0;d<m;d+=1)if(s[d]!==u[d])return d;return m}r(x0,"commonPrefix");function Cc(s){return s&&s.toLowerCase().replace("_","-")}r(Cc,"normalizeLocale");function T0(s){for(var u=0,d,m,b,A;u<s.length;){for(A=Cc(s[u]).split("-"),d=A.length,m=Cc(s[u+1]),m=m?m.split("-"):null;d>0;){if(b=Ki(A.slice(0,d).join("-")),b)return b;if(m&&m.length>=d&&x0(A,m)>=d-1)break;d--}u++}return ei}r(T0,"chooseLocale");function S0(s){return!!(s&&s.match("^[^/\\\\]*$"))}r(S0,"isLocaleNameSane");function Ki(s){var u=null,d;if(me[s]===void 0&&typeof cr<"u"&&cr&&cr.exports&&S0(s))try{u=ei._abbr,d=require,d("./locale/"+s),yn(u)}catch{me[s]=null}return me[s]}r(Ki,"loadLocale");function yn(s,u){var d;return s&&(c(u)?d=Jt(s):d=Ra(s,u),d?ei=d:typeof console<"u"&&console.warn&&console.warn("Locale "+s+" not found. Did you forget to load it?")),ei._abbr}r(yn,"getSetGlobalLocale");function Ra(s,u){if(u!==null){var d,m=Ec;if(u.abbr=s,me[s]!=null)le("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),m=me[s]._config;else if(u.parentLocale!=null)if(me[u.parentLocale]!=null)m=me[u.parentLocale]._config;else if(d=Ki(u.parentLocale),d!=null)m=d._config;else return Qr[u.parentLocale]||(Qr[u.parentLocale]=[]),Qr[u.parentLocale].push({name:s,config:u}),null;return me[s]=new q(Y(m,u)),Qr[s]&&Qr[s].forEach(function(b){Ra(b.name,b.config)}),yn(s),me[s]}else return delete me[s],null}r(Ra,"defineLocale");function F0(s,u){if(u!=null){var d,m,b=Ec;me[s]!=null&&me[s].parentLocale!=null?me[s].set(Y(me[s]._config,u)):(m=Ki(s),m!=null&&(b=m._config),u=Y(b,u),m==null&&(u.abbr=s),d=new q(u),d.parentLocale=me[s],me[s]=d),yn(s)}else me[s]!=null&&(me[s].parentLocale!=null?(me[s]=me[s].parentLocale,s===yn()&&yn(s)):me[s]!=null&&delete me[s]);return me[s]}r(F0,"updateLocale");function Jt(s){var u;if(s&&s._locale&&s._locale._abbr&&(s=s._locale._abbr),!s)return ei;if(!i(s)){if(u=Ki(s),u)return u;s=[s]}return T0(s)}r(Jt,"getLocale");function P0(){return H(me)}r(P0,"listLocales");function Da(s){var u,d=s._a;return d&&E(s).overflow===-2&&(u=d[Kt]<0||d[Kt]>11?Kt:d[Lt]<1||d[Lt]>Pa(d[Ve],d[Kt])?Lt:d[Fe]<0||d[Fe]>24||d[Fe]===24&&(d[It]!==0||d[Xt]!==0||d[Mn]!==0)?Fe:d[It]<0||d[It]>59?It:d[Xt]<0||d[Xt]>59?Xt:d[Mn]<0||d[Mn]>999?Mn:-1,E(s)._overflowDayOfYear&&(u<Ve||u>Lt)&&(u=Lt),E(s)._overflowWeeks&&u===-1&&(u=Rg),E(s)._overflowWeekday&&u===-1&&(u=Dg),E(s).overflow=u),s}r(Da,"checkOverflow");var I0=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_0=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,O0=/Z|[+-]\d\d(?::?\d\d)?/,Xi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Ma=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],R0=/^\/?Date\((-?\d+)/i,D0=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,M0={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function xc(s){var u,d,m=s._i,b=I0.exec(m)||_0.exec(m),A,T,M,G,re=Xi.length,Xe=Ma.length;if(b){for(E(s).iso=!0,u=0,d=re;u<d;u++)if(Xi[u][1].exec(b[1])){T=Xi[u][0],A=Xi[u][2]!==!1;break}if(T==null){s._isValid=!1;return}if(b[3]){for(u=0,d=Xe;u<d;u++)if(Ma[u][1].exec(b[3])){M=(b[2]||" ")+Ma[u][0];break}if(M==null){s._isValid=!1;return}}if(!A&&M!=null){s._isValid=!1;return}if(b[4])if(O0.exec(b[4]))G="Z";else{s._isValid=!1;return}s._f=T+(M||"")+(G||""),Na(s)}else s._isValid=!1}r(xc,"configFromISO");function L0(s,u,d,m,b,A){var T=[N0(s),pc.indexOf(u),parseInt(d,10),parseInt(m,10),parseInt(b,10)];return A&&T.push(parseInt(A,10)),T}r(L0,"extractFromRFC2822Strings");function N0(s){var u=parseInt(s,10);return u<=49?2e3+u:u<=999?1900+u:u}r(N0,"untruncateYear");function B0(s){return s.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}r(B0,"preprocessRFC2822");function $0(s,u,d){if(s){var m=kc.indexOf(s),b=new Date(u[0],u[1],u[2]).getDay();if(m!==b)return E(d).weekdayMismatch=!0,d._isValid=!1,!1}return!0}r($0,"checkWeekday");function V0(s,u,d){if(s)return M0[s];if(u)return 0;var m=parseInt(d,10),b=m%100,A=(m-b)/100;return A*60+b}r(V0,"calculateOffset");function Tc(s){var u=D0.exec(B0(s._i)),d;if(u){if(d=L0(u[4],u[3],u[2],u[5],u[6],u[7]),!$0(u[1],d,s))return;s._a=d,s._tzm=V0(u[8],u[9],u[10]),s._d=Zr.apply(null,s._a),s._d.setUTCMinutes(s._d.getUTCMinutes()-s._tzm),E(s).rfc2822=!0}else s._isValid=!1}r(Tc,"configFromRFC2822");function Y0(s){var u=R0.exec(s._i);if(u!==null){s._d=new Date(+u[1]);return}if(xc(s),s._isValid===!1)delete s._isValid;else return;if(Tc(s),s._isValid===!1)delete s._isValid;else return;s._strict?s._isValid=!1:e.createFromInputFallback(s)}r(Y0,"configFromString"),e.createFromInputFallback=Z("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(s){s._d=new Date(s._i+(s._useUTC?" UTC":""))});function or(s,u,d){return s??u??d}r(or,"defaults");function W0(s){var u=new Date(e.now());return s._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()]}r(W0,"currentDateArray");function La(s){var u,d,m=[],b,A,T;if(!s._d){for(b=W0(s),s._w&&s._a[Lt]==null&&s._a[Kt]==null&&U0(s),s._dayOfYear!=null&&(T=or(s._a[Ve],b[Ve]),(s._dayOfYear>Kr(T)||s._dayOfYear===0)&&(E(s)._overflowDayOfYear=!0),d=Zr(T,0,s._dayOfYear),s._a[Kt]=d.getUTCMonth(),s._a[Lt]=d.getUTCDate()),u=0;u<3&&s._a[u]==null;++u)s._a[u]=m[u]=b[u];for(;u<7;u++)s._a[u]=m[u]=s._a[u]==null?u===2?1:0:s._a[u];s._a[Fe]===24&&s._a[It]===0&&s._a[Xt]===0&&s._a[Mn]===0&&(s._nextDay=!0,s._a[Fe]=0),s._d=(s._useUTC?Zr:Kg).apply(null,m),A=s._useUTC?s._d.getUTCDay():s._d.getDay(),s._tzm!=null&&s._d.setUTCMinutes(s._d.getUTCMinutes()-s._tzm),s._nextDay&&(s._a[Fe]=24),s._w&&typeof s._w.d<"u"&&s._w.d!==A&&(E(s).weekdayMismatch=!0)}}r(La,"configFromArray");function U0(s){var u,d,m,b,A,T,M,G,re;u=s._w,u.GG!=null||u.W!=null||u.E!=null?(A=1,T=4,d=or(u.GG,s._a[Ve],Jr(he(),1,4).year),m=or(u.W,1),b=or(u.E,1),(b<1||b>7)&&(G=!0)):(A=s._locale._week.dow,T=s._locale._week.doy,re=Jr(he(),A,T),d=or(u.gg,s._a[Ve],re.year),m=or(u.w,re.week),u.d!=null?(b=u.d,(b<0||b>6)&&(G=!0)):u.e!=null?(b=u.e+A,(u.e<0||u.e>6)&&(G=!0)):b=A),m<1||m>Zt(d,A,T)?E(s)._overflowWeeks=!0:G!=null?E(s)._overflowWeekday=!0:(M=bc(d,m,b,A,T),s._a[Ve]=M.year,s._dayOfYear=M.dayOfYear)}r(U0,"dayOfYearFromWeekInfo"),e.ISO_8601=function(){},e.RFC_2822=function(){};function Na(s){if(s._f===e.ISO_8601){xc(s);return}if(s._f===e.RFC_2822){Tc(s);return}s._a=[],E(s).empty=!0;var u=""+s._i,d,m,b,A,T,M=u.length,G=0,re,Xe;for(b=Rn(s._f,s._locale).match(rt)||[],Xe=b.length,d=0;d<Xe;d++)A=b[d],m=(u.match(Ig(A,s))||[])[0],m&&(T=u.substr(0,u.indexOf(m)),T.length>0&&E(s).unusedInput.push(T),u=u.slice(u.indexOf(m)+m.length),G+=m.length),Be[A]?(m?E(s).empty=!1:E(s).unusedTokens.push(A),Og(A,m,s)):s._strict&&!m&&E(s).unusedTokens.push(A);E(s).charsLeftOver=M-G,u.length>0&&E(s).unusedInput.push(u),s._a[Fe]<=12&&E(s).bigHour===!0&&s._a[Fe]>0&&(E(s).bigHour=void 0),E(s).parsedDateParts=s._a.slice(0),E(s).meridiem=s._meridiem,s._a[Fe]=z0(s._locale,s._a[Fe],s._meridiem),re=E(s).era,re!==null&&(s._a[Ve]=s._locale.erasConvertYear(re,s._a[Ve])),La(s),Da(s)}r(Na,"configFromStringAndFormat");function z0(s,u,d){var m;return d==null?u:s.meridiemHour!=null?s.meridiemHour(u,d):(s.isPM!=null&&(m=s.isPM(d),m&&u<12&&(u+=12),!m&&u===12&&(u=0)),u)}r(z0,"meridiemFixWrap");function H0(s){var u,d,m,b,A,T,M=!1,G=s._f.length;if(G===0){E(s).invalidFormat=!0,s._d=new Date(NaN);return}for(b=0;b<G;b++)A=0,T=!1,u=W({},s),s._useUTC!=null&&(u._useUTC=s._useUTC),u._f=s._f[b],Na(u),F(u)&&(T=!0),A+=E(u).charsLeftOver,A+=E(u).unusedTokens.length*10,E(u).score=A,M?A<m&&(m=A,d=u):(m==null||A<m||T)&&(m=A,d=u,T&&(M=!0));g(s,d||u)}r(H0,"configFromStringAndArray");function G0(s){if(!s._d){var u=nr(s._i),d=u.day===void 0?u.date:u.day;s._a=h([u.year,u.month,d,u.hour,u.minute,u.second,u.millisecond],function(m){return m&&parseInt(m,10)}),La(s)}}r(G0,"configFromObject");function q0(s){var u=new z(Da(Sc(s)));return u._nextDay&&(u.add(1,"d"),u._nextDay=void 0),u}r(q0,"createFromConfig");function Sc(s){var u=s._i,d=s._f;return s._locale=s._locale||Jt(s._l),u===null||d===void 0&&u===""?C({nullInput:!0}):(typeof u=="string"&&(s._i=u=s._locale.preparse(u)),S(u)?new z(Da(u)):(p(u)?s._d=u:i(d)?H0(s):d?Na(s):j0(s),F(s)||(s._d=null),s))}r(Sc,"prepareConfig");function j0(s){var u=s._i;c(u)?s._d=new Date(e.now()):p(u)?s._d=new Date(u.valueOf()):typeof u=="string"?Y0(s):i(u)?(s._a=h(u.slice(0),function(d){return parseInt(d,10)}),La(s)):o(u)?G0(s):f(u)?s._d=new Date(u):e.createFromInputFallback(s)}r(j0,"configFromInput");function Fc(s,u,d,m,b){var A={};return(u===!0||u===!1)&&(m=u,u=void 0),(d===!0||d===!1)&&(m=d,d=void 0),(o(s)&&l(s)||i(s)&&s.length===0)&&(s=void 0),A._isAMomentObject=!0,A._useUTC=A._isUTC=b,A._l=d,A._i=s,A._f=u,A._strict=m,q0(A)}r(Fc,"createLocalOrUTC");function he(s,u,d,m){return Fc(s,u,d,m,!1)}r(he,"createLocal");var K0=Z("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var s=he.apply(null,arguments);return this.isValid()&&s.isValid()?s<this?this:s:C()}),X0=Z("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var s=he.apply(null,arguments);return this.isValid()&&s.isValid()?s>this?this:s:C()});function Pc(s,u){var d,m;if(u.length===1&&i(u[0])&&(u=u[0]),!u.length)return he();for(d=u[0],m=1;m<u.length;++m)(!u[m].isValid()||u[m][s](d))&&(d=u[m]);return d}r(Pc,"pickBy");function Z0(){var s=[].slice.call(arguments,0);return Pc("isBefore",s)}r(Z0,"min");function J0(){var s=[].slice.call(arguments,0);return Pc("isAfter",s)}r(J0,"max");var Q0=r(function(){return Date.now?Date.now():+new Date},"now"),ti=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ew(s){var u,d=!1,m,b=ti.length;for(u in s)if(a(s,u)&&!(Ce.call(ti,u)!==-1&&(s[u]==null||!isNaN(s[u]))))return!1;for(m=0;m<b;++m)if(s[ti[m]]){if(d)return!1;parseFloat(s[ti[m]])!==ne(s[ti[m]])&&(d=!0)}return!0}r(ew,"isDurationValid");function tw(){return this._isValid}r(tw,"isValid$1");function nw(){return _t(NaN)}r(nw,"createInvalid$1");function Zi(s){var u=nr(s),d=u.year||0,m=u.quarter||0,b=u.month||0,A=u.week||u.isoWeek||0,T=u.day||0,M=u.hour||0,G=u.minute||0,re=u.second||0,Xe=u.millisecond||0;this._isValid=ew(u),this._milliseconds=+Xe+re*1e3+G*6e4+M*1e3*60*60,this._days=+T+A*7,this._months=+b+m*3+d*12,this._data={},this._locale=Jt(),this._bubble()}r(Zi,"Duration");function Ji(s){return s instanceof Zi}r(Ji,"isDuration");function Ba(s){return s<0?Math.round(-1*s)*-1:Math.round(s)}r(Ba,"absRound");function rw(s,u,d){var m=Math.min(s.length,u.length),b=Math.abs(s.length-u.length),A=0,T;for(T=0;T<m;T++)(d&&s[T]!==u[T]||!d&&ne(s[T])!==ne(u[T]))&&A++;return A+b}r(rw,"compareArrays");function Ic(s,u){k(s,0,0,function(){var d=this.utcOffset(),m="+";return d<0&&(d=-d,m="-"),m+ke(~~(d/60),2)+u+ke(~~d%60,2)})}r(Ic,"offset"),Ic("Z",":"),Ic("ZZ",""),B("Z",Ft),B("ZZ",Ft),fe(["Z","ZZ"],function(s,u,d){d._useUTC=!0,d._tzm=$a(Ft,s)});var iw=/([\+\-]|\d\d)/gi;function $a(s,u){var d=(u||"").match(s),m,b,A;return d===null?null:(m=d[d.length-1]||[],b=(m+"").match(iw)||["-",0,0],A=+(b[1]*60)+ne(b[2]),A===0?0:b[0]==="+"?A:-A)}r($a,"offsetFromString");function Va(s,u){var d,m;return u._isUTC?(d=u.clone(),m=(S(s)||p(s)?s.valueOf():he(s).valueOf())-d.valueOf(),d._d.setTime(d._d.valueOf()+m),e.updateOffset(d,!1),d):he(s).local()}r(Va,"cloneWithOffset");function Ya(s){return-Math.round(s._d.getTimezoneOffset())}r(Ya,"getDateOffset"),e.updateOffset=function(){};function ow(s,u,d){var m=this._offset||0,b;if(!this.isValid())return s!=null?this:NaN;if(s!=null){if(typeof s=="string"){if(s=$a(Ft,s),s===null)return this}else Math.abs(s)<16&&!d&&(s=s*60);return!this._isUTC&&u&&(b=Ya(this)),this._offset=s,this._isUTC=!0,b!=null&&this.add(b,"m"),m!==s&&(!u||this._changeInProgress?Dc(this,_t(s-m,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?m:Ya(this)}r(ow,"getSetOffset");function sw(s,u){return s!=null?(typeof s!="string"&&(s=-s),this.utcOffset(s,u),this):-this.utcOffset()}r(sw,"getSetZone");function aw(s){return this.utcOffset(0,s)}r(aw,"setOffsetToUTC");function lw(s){return this._isUTC&&(this.utcOffset(0,s),this._isUTC=!1,s&&this.subtract(Ya(this),"m")),this}r(lw,"setOffsetToLocal");function uw(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var s=$a(Ke,this._i);s!=null?this.utcOffset(s):this.utcOffset(0,!0)}return this}r(uw,"setOffsetToParsedOffset");function cw(s){return this.isValid()?(s=s?he(s).utcOffset():0,(this.utcOffset()-s)%60===0):!1}r(cw,"hasAlignedHourOffset");function fw(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}r(fw,"isDaylightSavingTime");function dw(){if(!c(this._isDSTShifted))return this._isDSTShifted;var s={},u;return W(s,this),s=Sc(s),s._a?(u=s._isUTC?y(s._a):he(s._a),this._isDSTShifted=this.isValid()&&rw(s._a,u.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}r(dw,"isDaylightSavingTimeShifted");function hw(){return this.isValid()?!this._isUTC:!1}r(hw,"isLocal");function pw(){return this.isValid()?this._isUTC:!1}r(pw,"isUtcOffset");function _c(){return this.isValid()?this._isUTC&&this._offset===0:!1}r(_c,"isUtc");var mw=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,gw=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function _t(s,u){var d=s,m=null,b,A,T;return Ji(s)?d={ms:s._milliseconds,d:s._days,M:s._months}:f(s)||!isNaN(+s)?(d={},u?d[u]=+s:d.milliseconds=+s):(m=mw.exec(s))?(b=m[1]==="-"?-1:1,d={y:0,d:ne(m[Lt])*b,h:ne(m[Fe])*b,m:ne(m[It])*b,s:ne(m[Xt])*b,ms:ne(Ba(m[Mn]*1e3))*b}):(m=gw.exec(s))?(b=m[1]==="-"?-1:1,d={y:Ln(m[2],b),M:Ln(m[3],b),w:Ln(m[4],b),d:Ln(m[5],b),h:Ln(m[6],b),m:Ln(m[7],b),s:Ln(m[8],b)}):d==null?d={}:typeof d=="object"&&("from"in d||"to"in d)&&(T=ww(he(d.from),he(d.to)),d={},d.ms=T.milliseconds,d.M=T.months),A=new Zi(d),Ji(s)&&a(s,"_locale")&&(A._locale=s._locale),Ji(s)&&a(s,"_isValid")&&(A._isValid=s._isValid),A}r(_t,"createDuration"),_t.fn=Zi.prototype,_t.invalid=nw;function Ln(s,u){var d=s&&parseFloat(s.replace(",","."));return(isNaN(d)?0:d)*u}r(Ln,"parseIso");function Oc(s,u){var d={};return d.months=u.month()-s.month()+(u.year()-s.year())*12,s.clone().add(d.months,"M").isAfter(u)&&--d.months,d.milliseconds=+u-+s.clone().add(d.months,"M"),d}r(Oc,"positiveMomentsDifference");function ww(s,u){var d;return s.isValid()&&u.isValid()?(u=Va(u,s),s.isBefore(u)?d=Oc(s,u):(d=Oc(u,s),d.milliseconds=-d.milliseconds,d.months=-d.months),d):{milliseconds:0,months:0}}r(ww,"momentsDifference");function Rc(s,u){return function(d,m){var b,A;return m!==null&&!isNaN(+m)&&(le(u,"moment()."+u+"(period, number) is deprecated. Please use moment()."+u+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),A=d,d=m,m=A),b=_t(d,m),Dc(this,b,s),this}}r(Rc,"createAdder");function Dc(s,u,d,m){var b=u._milliseconds,A=Ba(u._days),T=Ba(u._months);s.isValid()&&(m=m??!0,T&&gc(s,Xr(s,"Month")+T*d),A&&hc(s,"Date",Xr(s,"Date")+A*d),b&&s._d.setTime(s._d.valueOf()+b*d),m&&e.updateOffset(s,A||T))}r(Dc,"addSubtract");var yw=Rc(1,"add"),bw=Rc(-1,"subtract");function Mc(s){return typeof s=="string"||s instanceof String}r(Mc,"isString");function kw(s){return S(s)||p(s)||Mc(s)||f(s)||vw(s)||Aw(s)||s===null||s===void 0}r(kw,"isMomentInput");function Aw(s){var u=o(s)&&!l(s),d=!1,m=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],b,A,T=m.length;for(b=0;b<T;b+=1)A=m[b],d=d||a(s,A);return u&&d}r(Aw,"isMomentInputObject");function vw(s){var u=i(s),d=!1;return u&&(d=s.filter(function(m){return!f(m)&&Mc(s)}).length===0),u&&d}r(vw,"isNumberOrStringArray");function Ew(s){var u=o(s)&&!l(s),d=!1,m=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],b,A;for(b=0;b<m.length;b+=1)A=m[b],d=d||a(s,A);return u&&d}r(Ew,"isCalendarSpec");function Cw(s,u){var d=s.diff(u,"days",!0);return d<-6?"sameElse":d<-1?"lastWeek":d<0?"lastDay":d<1?"sameDay":d<2?"nextDay":d<7?"nextWeek":"sameElse"}r(Cw,"getCalendarFormat");function xw(s,u){arguments.length===1&&(arguments[0]?kw(arguments[0])?(s=arguments[0],u=void 0):Ew(arguments[0])&&(u=arguments[0],s=void 0):(s=void 0,u=void 0));var d=s||he(),m=Va(d,this).startOf("day"),b=e.calendarFormat(this,m)||"sameElse",A=u&&(de(u[b])?u[b].call(this,d):u[b]);return this.format(A||this.localeData().calendar(b,this,he(d)))}r(xw,"calendar$1");function Tw(){return new z(this)}r(Tw,"clone");function Sw(s,u){var d=S(s)?s:he(s);return this.isValid()&&d.isValid()?(u=qe(u)||"millisecond",u==="millisecond"?this.valueOf()>d.valueOf():d.valueOf()<this.clone().startOf(u).valueOf()):!1}r(Sw,"isAfter");function Fw(s,u){var d=S(s)?s:he(s);return this.isValid()&&d.isValid()?(u=qe(u)||"millisecond",u==="millisecond"?this.valueOf()<d.valueOf():this.clone().endOf(u).valueOf()<d.valueOf()):!1}r(Fw,"isBefore");function Pw(s,u,d,m){var b=S(s)?s:he(s),A=S(u)?u:he(u);return this.isValid()&&b.isValid()&&A.isValid()?(m=m||"()",(m[0]==="("?this.isAfter(b,d):!this.isBefore(b,d))&&(m[1]===")"?this.isBefore(A,d):!this.isAfter(A,d))):!1}r(Pw,"isBetween");function Iw(s,u){var d=S(s)?s:he(s),m;return this.isValid()&&d.isValid()?(u=qe(u)||"millisecond",u==="millisecond"?this.valueOf()===d.valueOf():(m=d.valueOf(),this.clone().startOf(u).valueOf()<=m&&m<=this.clone().endOf(u).valueOf())):!1}r(Iw,"isSame");function _w(s,u){return this.isSame(s,u)||this.isAfter(s,u)}r(_w,"isSameOrAfter");function Ow(s,u){return this.isSame(s,u)||this.isBefore(s,u)}r(Ow,"isSameOrBefore");function Rw(s,u,d){var m,b,A;if(!this.isValid())return NaN;if(m=Va(s,this),!m.isValid())return NaN;switch(b=(m.utcOffset()-this.utcOffset())*6e4,u=qe(u),u){case"year":A=Qi(this,m)/12;break;case"month":A=Qi(this,m);break;case"quarter":A=Qi(this,m)/3;break;case"second":A=(this-m)/1e3;break;case"minute":A=(this-m)/6e4;break;case"hour":A=(this-m)/36e5;break;case"day":A=(this-m-b)/864e5;break;case"week":A=(this-m-b)/6048e5;break;default:A=this-m}return d?A:gt(A)}r(Rw,"diff");function Qi(s,u){if(s.date()<u.date())return-Qi(u,s);var d=(u.year()-s.year())*12+(u.month()-s.month()),m=s.clone().add(d,"months"),b,A;return u-m<0?(b=s.clone().add(d-1,"months"),A=(u-m)/(m-b)):(b=s.clone().add(d+1,"months"),A=(u-m)/(b-m)),-(d+A)||0}r(Qi,"monthDiff"),e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Dw(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}r(Dw,"toString");function Mw(s){if(!this.isValid())return null;var u=s!==!0,d=u?this.clone().utc():this;return d.year()<0||d.year()>9999?gn(d,u?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):de(Date.prototype.toISOString)?u?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",gn(d,"Z")):gn(d,u?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}r(Mw,"toISOString");function Lw(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var s="moment",u="",d,m,b,A;return this.isLocal()||(s=this.utcOffset()===0?"moment.utc":"moment.parseZone",u="Z"),d="["+s+'("]',m=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",b="-MM-DD[T]HH:mm:ss.SSS",A=u+'[")]',this.format(d+m+b+A)}r(Lw,"inspect");function Nw(s){s||(s=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var u=gn(this,s);return this.localeData().postformat(u)}r(Nw,"format");function Bw(s,u){return this.isValid()&&(S(s)&&s.isValid()||he(s).isValid())?_t({to:this,from:s}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}r(Bw,"from");function $w(s){return this.from(he(),s)}r($w,"fromNow");function Vw(s,u){return this.isValid()&&(S(s)&&s.isValid()||he(s).isValid())?_t({from:this,to:s}).locale(this.locale()).humanize(!u):this.localeData().invalidDate()}r(Vw,"to");function Yw(s){return this.to(he(),s)}r(Yw,"toNow");function Lc(s){var u;return s===void 0?this._locale._abbr:(u=Jt(s),u!=null&&(this._locale=u),this)}r(Lc,"locale");var Nc=Z("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(s){return s===void 0?this.localeData():this.locale(s)});function Bc(){return this._locale}r(Bc,"localeData");var eo=1e3,sr=60*eo,to=60*sr,$c=(365*400+97)*24*to;function ar(s,u){return(s%u+u)%u}r(ar,"mod$1");function Vc(s,u,d){return s<100&&s>=0?new Date(s+400,u,d)-$c:new Date(s,u,d).valueOf()}r(Vc,"localStartOfDate");function Yc(s,u,d){return s<100&&s>=0?Date.UTC(s+400,u,d)-$c:Date.UTC(s,u,d)}r(Yc,"utcStartOfDate");function Ww(s){var u,d;if(s=qe(s),s===void 0||s==="millisecond"||!this.isValid())return this;switch(d=this._isUTC?Yc:Vc,s){case"year":u=d(this.year(),0,1);break;case"quarter":u=d(this.year(),this.month()-this.month()%3,1);break;case"month":u=d(this.year(),this.month(),1);break;case"week":u=d(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":u=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":u=d(this.year(),this.month(),this.date());break;case"hour":u=this._d.valueOf(),u-=ar(u+(this._isUTC?0:this.utcOffset()*sr),to);break;case"minute":u=this._d.valueOf(),u-=ar(u,sr);break;case"second":u=this._d.valueOf(),u-=ar(u,eo);break}return this._d.setTime(u),e.updateOffset(this,!0),this}r(Ww,"startOf");function Uw(s){var u,d;if(s=qe(s),s===void 0||s==="millisecond"||!this.isValid())return this;switch(d=this._isUTC?Yc:Vc,s){case"year":u=d(this.year()+1,0,1)-1;break;case"quarter":u=d(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":u=d(this.year(),this.month()+1,1)-1;break;case"week":u=d(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":u=d(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":u=d(this.year(),this.month(),this.date()+1)-1;break;case"hour":u=this._d.valueOf(),u+=to-ar(u+(this._isUTC?0:this.utcOffset()*sr),to)-1;break;case"minute":u=this._d.valueOf(),u+=sr-ar(u,sr)-1;break;case"second":u=this._d.valueOf(),u+=eo-ar(u,eo)-1;break}return this._d.setTime(u),e.updateOffset(this,!0),this}r(Uw,"endOf");function zw(){return this._d.valueOf()-(this._offset||0)*6e4}r(zw,"valueOf");function Hw(){return Math.floor(this.valueOf()/1e3)}r(Hw,"unix");function Gw(){return new Date(this.valueOf())}r(Gw,"toDate");function qw(){var s=this;return[s.year(),s.month(),s.date(),s.hour(),s.minute(),s.second(),s.millisecond()]}r(qw,"toArray");function jw(){var s=this;return{years:s.year(),months:s.month(),date:s.date(),hours:s.hours(),minutes:s.minutes(),seconds:s.seconds(),milliseconds:s.milliseconds()}}r(jw,"toObject");function Kw(){return this.isValid()?this.toISOString():null}r(Kw,"toJSON");function Xw(){return F(this)}r(Xw,"isValid$2");function Zw(){return g({},E(this))}r(Zw,"parsingFlags");function Jw(){return E(this).overflow}r(Jw,"invalidAt");function Qw(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}r(Qw,"creationData"),k("N",0,0,"eraAbbr"),k("NN",0,0,"eraAbbr"),k("NNN",0,0,"eraAbbr"),k("NNNN",0,0,"eraName"),k("NNNNN",0,0,"eraNarrow"),k("y",["y",1],"yo","eraYear"),k("y",["yy",2],0,"eraYear"),k("y",["yyy",3],0,"eraYear"),k("y",["yyyy",4],0,"eraYear"),B("N",Wa),B("NN",Wa),B("NNN",Wa),B("NNNN",cy),B("NNNNN",fy),fe(["N","NN","NNN","NNNN","NNNNN"],function(s,u,d,m){var b=d._locale.erasParse(s,m,d._strict);b?E(d).era=b:E(d).invalidEra=s}),B("y",mt),B("yy",mt),B("yyy",mt),B("yyyy",mt),B("yo",dy),fe(["y","yy","yyy","yyyy"],Ve),fe(["yo"],function(s,u,d,m){var b;d._locale._eraYearOrdinalRegex&&(b=s.match(d._locale._eraYearOrdinalRegex)),d._locale.eraYearOrdinalParse?u[Ve]=d._locale.eraYearOrdinalParse(s,b):u[Ve]=parseInt(s,10)});function ey(s,u){var d,m,b,A=this._eras||Jt("en")._eras;for(d=0,m=A.length;d<m;++d){switch(typeof A[d].since){case"string":b=e(A[d].since).startOf("day"),A[d].since=b.valueOf();break}switch(typeof A[d].until){case"undefined":A[d].until=1/0;break;case"string":b=e(A[d].until).startOf("day").valueOf(),A[d].until=b.valueOf();break}}return A}r(ey,"localeEras");function ty(s,u,d){var m,b,A=this.eras(),T,M,G;for(s=s.toUpperCase(),m=0,b=A.length;m<b;++m)if(T=A[m].name.toUpperCase(),M=A[m].abbr.toUpperCase(),G=A[m].narrow.toUpperCase(),d)switch(u){case"N":case"NN":case"NNN":if(M===s)return A[m];break;case"NNNN":if(T===s)return A[m];break;case"NNNNN":if(G===s)return A[m];break}else if([T,M,G].indexOf(s)>=0)return A[m]}r(ty,"localeErasParse");function ny(s,u){var d=s.since<=s.until?1:-1;return u===void 0?e(s.since).year():e(s.since).year()+(u-s.offset)*d}r(ny,"localeErasConvertYear");function ry(){var s,u,d,m=this.localeData().eras();for(s=0,u=m.length;s<u;++s)if(d=this.clone().startOf("day").valueOf(),m[s].since<=d&&d<=m[s].until||m[s].until<=d&&d<=m[s].since)return m[s].name;return""}r(ry,"getEraName");function iy(){var s,u,d,m=this.localeData().eras();for(s=0,u=m.length;s<u;++s)if(d=this.clone().startOf("day").valueOf(),m[s].since<=d&&d<=m[s].until||m[s].until<=d&&d<=m[s].since)return m[s].narrow;return""}r(iy,"getEraNarrow");function oy(){var s,u,d,m=this.localeData().eras();for(s=0,u=m.length;s<u;++s)if(d=this.clone().startOf("day").valueOf(),m[s].since<=d&&d<=m[s].until||m[s].until<=d&&d<=m[s].since)return m[s].abbr;return""}r(oy,"getEraAbbr");function sy(){var s,u,d,m,b=this.localeData().eras();for(s=0,u=b.length;s<u;++s)if(d=b[s].since<=b[s].until?1:-1,m=this.clone().startOf("day").valueOf(),b[s].since<=m&&m<=b[s].until||b[s].until<=m&&m<=b[s].since)return(this.year()-e(b[s].since).year())*d+b[s].offset;return this.year()}r(sy,"getEraYear");function ay(s){return a(this,"_erasNameRegex")||Ua.call(this),s?this._erasNameRegex:this._erasRegex}r(ay,"erasNameRegex");function ly(s){return a(this,"_erasAbbrRegex")||Ua.call(this),s?this._erasAbbrRegex:this._erasRegex}r(ly,"erasAbbrRegex");function uy(s){return a(this,"_erasNarrowRegex")||Ua.call(this),s?this._erasNarrowRegex:this._erasRegex}r(uy,"erasNarrowRegex");function Wa(s,u){return u.erasAbbrRegex(s)}r(Wa,"matchEraAbbr");function cy(s,u){return u.erasNameRegex(s)}r(cy,"matchEraName");function fy(s,u){return u.erasNarrowRegex(s)}r(fy,"matchEraNarrow");function dy(s,u){return u._eraYearOrdinalRegex||mt}r(dy,"matchEraYearOrdinal");function Ua(){var s=[],u=[],d=[],m=[],b,A,T,M,G,re=this.eras();for(b=0,A=re.length;b<A;++b)T=jt(re[b].name),M=jt(re[b].abbr),G=jt(re[b].narrow),u.push(T),s.push(M),d.push(G),m.push(T),m.push(M),m.push(G);this._erasRegex=new RegExp("^("+m.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+u.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+d.join("|")+")","i")}r(Ua,"computeErasParse"),k(0,["gg",2],0,function(){return this.weekYear()%100}),k(0,["GG",2],0,function(){return this.isoWeekYear()%100});function no(s,u){k(0,[s,s.length],0,u)}r(no,"addWeekYearFormatToken"),no("gggg","weekYear"),no("ggggg","weekYear"),no("GGGG","isoWeekYear"),no("GGGGG","isoWeekYear"),B("G",Mt),B("g",Mt),B("GG",D,je),B("gg",D,je),B("GGGG",St,P),B("gggg",St,P),B("GGGGG",it,R),B("ggggg",it,R),jr(["gggg","ggggg","GGGG","GGGGG"],function(s,u,d,m){u[m.substr(0,2)]=ne(s)}),jr(["gg","GG"],function(s,u,d,m){u[m]=e.parseTwoDigitYear(s)});function hy(s){return Wc.call(this,s,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}r(hy,"getSetWeekYear");function py(s){return Wc.call(this,s,this.isoWeek(),this.isoWeekday(),1,4)}r(py,"getSetISOWeekYear");function my(){return Zt(this.year(),1,4)}r(my,"getISOWeeksInYear");function gy(){return Zt(this.isoWeekYear(),1,4)}r(gy,"getISOWeeksInISOWeekYear");function wy(){var s=this.localeData()._week;return Zt(this.year(),s.dow,s.doy)}r(wy,"getWeeksInYear");function yy(){var s=this.localeData()._week;return Zt(this.weekYear(),s.dow,s.doy)}r(yy,"getWeeksInWeekYear");function Wc(s,u,d,m,b){var A;return s==null?Jr(this,m,b).year:(A=Zt(s,m,b),u>A&&(u=A),by.call(this,s,u,d,m,b))}r(Wc,"getSetWeekYearHelper");function by(s,u,d,m,b){var A=bc(s,u,d,m,b),T=Zr(A.year,0,A.dayOfYear);return this.year(T.getUTCFullYear()),this.month(T.getUTCMonth()),this.date(T.getUTCDate()),this}r(by,"setWeekAll"),k("Q",0,"Qo","quarter"),B("Q",zi),fe("Q",function(s,u){u[Kt]=(ne(s)-1)*3});function ky(s){return s==null?Math.ceil((this.month()+1)/3):this.month((s-1)*3+this.month()%3)}r(ky,"getSetQuarter"),k("D",["DD",2],"Do","date"),B("D",D,rr),B("DD",D,je),B("Do",function(s,u){return s?u._dayOfMonthOrdinalParse||u._ordinalParse:u._dayOfMonthOrdinalParseLenient}),fe(["D","DD"],Lt),fe("Do",function(s,u){u[Lt]=ne(s.match(D)[0])});var Uc=ir("Date",!0);k("DDD",["DDDD",3],"DDDo","dayOfYear"),B("DDD",$e),B("DDDD",Hi),fe(["DDD","DDDD"],function(s,u,d){d._dayOfYear=ne(s)});function Ay(s){var u=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return s==null?u:this.add(s-u,"d")}r(Ay,"getSetDayOfYear"),k("m",["mm",2],0,"minute"),B("m",D,Sa),B("mm",D,je),fe(["m","mm"],It);var vy=ir("Minutes",!1);k("s",["ss",2],0,"second"),B("s",D,Sa),B("ss",D,je),fe(["s","ss"],Xt);var Ey=ir("Seconds",!1);k("S",0,0,function(){return~~(this.millisecond()/100)}),k(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),k(0,["SSS",3],0,"millisecond"),k(0,["SSSS",4],0,function(){return this.millisecond()*10}),k(0,["SSSSS",5],0,function(){return this.millisecond()*100}),k(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),k(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),k(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),k(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),B("S",$e,zi),B("SS",$e,je),B("SSS",$e,Hi);var bn,zc;for(bn="SSSS";bn.length<=9;bn+="S")B(bn,mt);function Cy(s,u){u[Mn]=ne(("0."+s)*1e3)}for(r(Cy,"parseMs"),bn="S";bn.length<=9;bn+="S")fe(bn,Cy);zc=ir("Milliseconds",!1),k("z",0,0,"zoneAbbr"),k("zz",0,0,"zoneName");function xy(){return this._isUTC?"UTC":""}r(xy,"getZoneAbbr");function Ty(){return this._isUTC?"Coordinated Universal Time":""}r(Ty,"getZoneName");var O=z.prototype;O.add=yw,O.calendar=xw,O.clone=Tw,O.diff=Rw,O.endOf=Uw,O.format=Nw,O.from=Bw,O.fromNow=$w,O.to=Vw,O.toNow=Yw,O.get=Lg,O.invalidAt=Jw,O.isAfter=Sw,O.isBefore=Fw,O.isBetween=Pw,O.isSame=Iw,O.isSameOrAfter=_w,O.isSameOrBefore=Ow,O.isValid=Xw,O.lang=Nc,O.locale=Lc,O.localeData=Bc,O.max=X0,O.min=K0,O.parsingFlags=Zw,O.set=Ng,O.startOf=Ww,O.subtract=bw,O.toArray=qw,O.toObject=jw,O.toDate=Gw,O.toISOString=Mw,O.inspect=Lw,typeof Symbol<"u"&&Symbol.for!=null&&(O[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),O.toJSON=Kw,O.toString=Dw,O.unix=Hw,O.valueOf=zw,O.creationData=Qw,O.eraName=ry,O.eraNarrow=iy,O.eraAbbr=oy,O.eraYear=sy,O.year=dc,O.isLeapYear=Mg,O.weekYear=hy,O.isoWeekYear=py,O.quarter=O.quarters=ky,O.month=wc,O.daysInMonth=Gg,O.week=O.weeks=e0,O.isoWeek=O.isoWeeks=t0,O.weeksInYear=wy,O.weeksInWeekYear=yy,O.isoWeeksInYear=my,O.isoWeeksInISOWeekYear=gy,O.date=Uc,O.day=O.days=p0,O.weekday=m0,O.isoWeekday=g0,O.dayOfYear=Ay,O.hour=O.hours=E0,O.minute=O.minutes=vy,O.second=O.seconds=Ey,O.millisecond=O.milliseconds=zc,O.utcOffset=ow,O.utc=aw,O.local=lw,O.parseZone=uw,O.hasAlignedHourOffset=cw,O.isDST=fw,O.isLocal=hw,O.isUtcOffset=pw,O.isUtc=_c,O.isUTC=_c,O.zoneAbbr=xy,O.zoneName=Ty,O.dates=Z("dates accessor is deprecated. Use date instead.",Uc),O.months=Z("months accessor is deprecated. Use month instead",wc),O.years=Z("years accessor is deprecated. Use year instead",dc),O.zone=Z("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",sw),O.isDSTShifted=Z("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",dw);function Sy(s){return he(s*1e3)}r(Sy,"createUnix");function Fy(){return he.apply(null,arguments).parseZone()}r(Fy,"createInZone");function Hc(s){return s}r(Hc,"preParsePostFormat");var ae=q.prototype;ae.calendar=be,ae.longDateFormat=Dn,ae.invalidDate=qt,ae.ordinal=Ca,ae.preparse=Hc,ae.postformat=Hc,ae.relativeTime=Yi,ae.pastFuture=Wi,ae.set=oe,ae.eras=ey,ae.erasParse=ty,ae.erasConvertYear=ny,ae.erasAbbrRegex=ly,ae.erasNameRegex=ay,ae.erasNarrowRegex=uy,ae.months=Wg,ae.monthsShort=Ug,ae.monthsParse=Hg,ae.monthsRegex=jg,ae.monthsShortRegex=qg,ae.week=Xg,ae.firstDayOfYear=Qg,ae.firstDayOfWeek=Jg,ae.weekdays=u0,ae.weekdaysMin=f0,ae.weekdaysShort=c0,ae.weekdaysParse=h0,ae.weekdaysRegex=w0,ae.weekdaysShortRegex=y0,ae.weekdaysMinRegex=b0,ae.isPM=A0,ae.meridiem=C0;function ro(s,u,d,m){var b=Jt(),A=y().set(m,u);return b[d](A,s)}r(ro,"get$1");function Gc(s,u,d){if(f(s)&&(u=s,s=void 0),s=s||"",u!=null)return ro(s,u,d,"month");var m,b=[];for(m=0;m<12;m++)b[m]=ro(s,m,d,"month");return b}r(Gc,"listMonthsImpl");function za(s,u,d,m){typeof s=="boolean"?(f(u)&&(d=u,u=void 0),u=u||""):(u=s,d=u,s=!1,f(u)&&(d=u,u=void 0),u=u||"");var b=Jt(),A=s?b._week.dow:0,T,M=[];if(d!=null)return ro(u,(d+A)%7,m,"day");for(T=0;T<7;T++)M[T]=ro(u,(T+A)%7,m,"day");return M}r(za,"listWeekdaysImpl");function Py(s,u){return Gc(s,u,"months")}r(Py,"listMonths");function Iy(s,u){return Gc(s,u,"monthsShort")}r(Iy,"listMonthsShort");function _y(s,u,d){return za(s,u,d,"weekdays")}r(_y,"listWeekdays");function Oy(s,u,d){return za(s,u,d,"weekdaysShort")}r(Oy,"listWeekdaysShort");function Ry(s,u,d){return za(s,u,d,"weekdaysMin")}r(Ry,"listWeekdaysMin"),yn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:r(function(s){var u=s%10,d=ne(s%100/10)===1?"th":u===1?"st":u===2?"nd":u===3?"rd":"th";return s+d},"ordinal")}),e.lang=Z("moment.lang is deprecated. Use moment.locale instead.",yn),e.langData=Z("moment.langData is deprecated. Use moment.localeData instead.",Jt);var Qt=Math.abs;function Dy(){var s=this._data;return this._milliseconds=Qt(this._milliseconds),this._days=Qt(this._days),this._months=Qt(this._months),s.milliseconds=Qt(s.milliseconds),s.seconds=Qt(s.seconds),s.minutes=Qt(s.minutes),s.hours=Qt(s.hours),s.months=Qt(s.months),s.years=Qt(s.years),this}r(Dy,"abs");function qc(s,u,d,m){var b=_t(u,d);return s._milliseconds+=m*b._milliseconds,s._days+=m*b._days,s._months+=m*b._months,s._bubble()}r(qc,"addSubtract$1");function My(s,u){return qc(this,s,u,1)}r(My,"add$1");function Ly(s,u){return qc(this,s,u,-1)}r(Ly,"subtract$1");function jc(s){return s<0?Math.floor(s):Math.ceil(s)}r(jc,"absCeil");function Ny(){var s=this._milliseconds,u=this._days,d=this._months,m=this._data,b,A,T,M,G;return s>=0&&u>=0&&d>=0||s<=0&&u<=0&&d<=0||(s+=jc(Ha(d)+u)*864e5,u=0,d=0),m.milliseconds=s%1e3,b=gt(s/1e3),m.seconds=b%60,A=gt(b/60),m.minutes=A%60,T=gt(A/60),m.hours=T%24,u+=gt(T/24),G=gt(Kc(u)),d+=G,u-=jc(Ha(G)),M=gt(d/12),d%=12,m.days=u,m.months=d,m.years=M,this}r(Ny,"bubble");function Kc(s){return s*4800/146097}r(Kc,"daysToMonths");function Ha(s){return s*146097/4800}r(Ha,"monthsToDays");function By(s){if(!this.isValid())return NaN;var u,d,m=this._milliseconds;if(s=qe(s),s==="month"||s==="quarter"||s==="year")switch(u=this._days+m/864e5,d=this._months+Kc(u),s){case"month":return d;case"quarter":return d/3;case"year":return d/12}else switch(u=this._days+Math.round(Ha(this._months)),s){case"week":return u/7+m/6048e5;case"day":return u+m/864e5;case"hour":return u*24+m/36e5;case"minute":return u*1440+m/6e4;case"second":return u*86400+m/1e3;case"millisecond":return Math.floor(u*864e5)+m;default:throw new Error("Unknown unit "+s)}}r(By,"as");function en(s){return function(){return this.as(s)}}r(en,"makeAs");var Xc=en("ms"),$y=en("s"),Vy=en("m"),Yy=en("h"),Wy=en("d"),Uy=en("w"),zy=en("M"),Hy=en("Q"),Gy=en("y"),qy=Xc;function jy(){return _t(this)}r(jy,"clone$1");function Ky(s){return s=qe(s),this.isValid()?this[s+"s"]():NaN}r(Ky,"get$2");function Nn(s){return function(){return this.isValid()?this._data[s]:NaN}}r(Nn,"makeGetter");var Xy=Nn("milliseconds"),Zy=Nn("seconds"),Jy=Nn("minutes"),Qy=Nn("hours"),eb=Nn("days"),tb=Nn("months"),nb=Nn("years");function rb(){return gt(this.days()/7)}r(rb,"weeks");var tn=Math.round,lr={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ib(s,u,d,m,b){return b.relativeTime(u||1,!!d,s,m)}r(ib,"substituteTimeAgo");function ob(s,u,d,m){var b=_t(s).abs(),A=tn(b.as("s")),T=tn(b.as("m")),M=tn(b.as("h")),G=tn(b.as("d")),re=tn(b.as("M")),Xe=tn(b.as("w")),nn=tn(b.as("y")),kn=A<=d.ss&&["s",A]||A<d.s&&["ss",A]||T<=1&&["m"]||T<d.m&&["mm",T]||M<=1&&["h"]||M<d.h&&["hh",M]||G<=1&&["d"]||G<d.d&&["dd",G];return d.w!=null&&(kn=kn||Xe<=1&&["w"]||Xe<d.w&&["ww",Xe]),kn=kn||re<=1&&["M"]||re<d.M&&["MM",re]||nn<=1&&["y"]||["yy",nn],kn[2]=u,kn[3]=+s>0,kn[4]=m,ib.apply(null,kn)}r(ob,"relativeTime$1");function sb(s){return s===void 0?tn:typeof s=="function"?(tn=s,!0):!1}r(sb,"getSetRelativeTimeRounding");function ab(s,u){return lr[s]===void 0?!1:u===void 0?lr[s]:(lr[s]=u,s==="s"&&(lr.ss=u-1),!0)}r(ab,"getSetRelativeTimeThreshold");function lb(s,u){if(!this.isValid())return this.localeData().invalidDate();var d=!1,m=lr,b,A;return typeof s=="object"&&(u=s,s=!1),typeof s=="boolean"&&(d=s),typeof u=="object"&&(m=Object.assign({},lr,u),u.s!=null&&u.ss==null&&(m.ss=u.s-1)),b=this.localeData(),A=ob(this,!d,m,b),d&&(A=b.pastFuture(+this,A)),b.postformat(A)}r(lb,"humanize");var Ga=Math.abs;function ur(s){return(s>0)-(s<0)||+s}r(ur,"sign");function io(){if(!this.isValid())return this.localeData().invalidDate();var s=Ga(this._milliseconds)/1e3,u=Ga(this._days),d=Ga(this._months),m,b,A,T,M=this.asSeconds(),G,re,Xe,nn;return M?(m=gt(s/60),b=gt(m/60),s%=60,m%=60,A=gt(d/12),d%=12,T=s?s.toFixed(3).replace(/\.?0+$/,""):"",G=M<0?"-":"",re=ur(this._months)!==ur(M)?"-":"",Xe=ur(this._days)!==ur(M)?"-":"",nn=ur(this._milliseconds)!==ur(M)?"-":"",G+"P"+(A?re+A+"Y":"")+(d?re+d+"M":"")+(u?Xe+u+"D":"")+(b||m||s?"T":"")+(b?nn+b+"H":"")+(m?nn+m+"M":"")+(s?nn+T+"S":"")):"P0D"}r(io,"toISOString$1");var ie=Zi.prototype;ie.isValid=tw,ie.abs=Dy,ie.add=My,ie.subtract=Ly,ie.as=By,ie.asMilliseconds=Xc,ie.asSeconds=$y,ie.asMinutes=Vy,ie.asHours=Yy,ie.asDays=Wy,ie.asWeeks=Uy,ie.asMonths=zy,ie.asQuarters=Hy,ie.asYears=Gy,ie.valueOf=qy,ie._bubble=Ny,ie.clone=jy,ie.get=Ky,ie.milliseconds=Xy,ie.seconds=Zy,ie.minutes=Jy,ie.hours=Qy,ie.days=eb,ie.weeks=rb,ie.months=tb,ie.years=nb,ie.humanize=lb,ie.toISOString=io,ie.toString=io,ie.toJSON=io,ie.locale=Lc,ie.localeData=Bc,ie.toIsoString=Z("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",io),ie.lang=Nc,k("X",0,0,"unix"),k("x",0,0,"valueOf"),B("x",Mt),B("X",Pt),fe("X",function(s,u,d){d._d=new Date(parseFloat(s)*1e3)}),fe("x",function(s,u,d){d._d=new Date(ne(s))});return e.version="2.30.1",n(he),e.fn=O,e.min=Z0,e.max=J0,e.now=Q0,e.utc=y,e.unix=Sy,e.months=Py,e.isDate=p,e.locale=yn,e.invalid=C,e.duration=_t,e.isMoment=S,e.weekdays=_y,e.parseZone=Fy,e.localeData=Jt,e.isDuration=Ji,e.monthsShort=Iy,e.weekdaysMin=Ry,e.defineLocale=Ra,e.updateLocale=F0,e.locales=P0,e.weekdaysShort=Oy,e.normalizeUnits=qe,e.relativeTimeRounding=sb,e.relativeTimeThreshold=ab,e.calendarFormat=Cw,e.prototype=O,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}))});var rf=U((iT,nf)=>{var fr=1e3,dr=fr*60,hr=dr*60,$n=hr*24,mb=$n*7,gb=$n*365.25;nf.exports=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return wb(t);if(n==="number"&&isFinite(t))return e.long?bb(t):yb(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function wb(t){if(t=String(t),!(t.length>100)){var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(e){var n=parseFloat(e[1]),i=(e[2]||"ms").toLowerCase();switch(i){case"years":case"year":case"yrs":case"yr":case"y":return n*gb;case"weeks":case"week":case"w":return n*mb;case"days":case"day":case"d":return n*$n;case"hours":case"hour":case"hrs":case"hr":case"h":return n*hr;case"minutes":case"minute":case"mins":case"min":case"m":return n*dr;case"seconds":case"second":case"secs":case"sec":case"s":return n*fr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}r(wb,"parse");function yb(t){var e=Math.abs(t);return e>=$n?Math.round(t/$n)+"d":e>=hr?Math.round(t/hr)+"h":e>=dr?Math.round(t/dr)+"m":e>=fr?Math.round(t/fr)+"s":t+"ms"}r(yb,"fmtShort");function bb(t){var e=Math.abs(t);return e>=$n?oo(t,e,$n,"day"):e>=hr?oo(t,e,hr,"hour"):e>=dr?oo(t,e,dr,"minute"):e>=fr?oo(t,e,fr,"second"):t+" ms"}r(bb,"fmtLong");function oo(t,e,n,i){var o=e>=n*1.5;return Math.round(t/n)+" "+i+(o?"s":"")}r(oo,"plural")});var Ka=U((sT,of)=>{function kb(t){n.debug=n,n.default=n,n.coerce=f,n.disable=l,n.enable=o,n.enabled=c,n.humanize=rf(),n.destroy=p,Object.keys(t).forEach(h=>{n[h]=t[h]}),n.names=[],n.skips=[],n.formatters={};function e(h){let g=0;for(let y=0;y<h.length;y++)g=(g<<5)-g+h.charCodeAt(y),g|=0;return n.colors[Math.abs(g)%n.colors.length]}r(e,"selectColor"),n.selectColor=e;function n(h){let g,y=null,w,E;function x(...F){if(!x.enabled)return;let C=x,I=Number(new Date),_=I-(g||I);C.diff=_,C.prev=g,C.curr=I,g=I,F[0]=n.coerce(F[0]),typeof F[0]!="string"&&F.unshift("%O");let W=0;F[0]=F[0].replace(/%([a-zA-Z%])/g,(S,te)=>{if(S==="%%")return"%";W++;let Z=n.formatters[te];if(typeof Z=="function"){let J=F[W];S=Z.call(C,J),F.splice(W,1),W--}return S}),n.formatArgs.call(C,F),(C.log||n.log).apply(C,F)}return r(x,"debug"),x.namespace=h,x.useColors=n.useColors(),x.color=n.selectColor(h),x.extend=i,x.destroy=n.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:r(()=>y!==null?y:(w!==n.namespaces&&(w=n.namespaces,E=n.enabled(h)),E),"get"),set:r(F=>{y=F},"set")}),typeof n.init=="function"&&n.init(x),x}r(n,"createDebug");function i(h,g){let y=n(this.namespace+(typeof g>"u"?":":g)+h);return y.log=this.log,y}r(i,"extend");function o(h){n.save(h),n.namespaces=h,n.names=[],n.skips=[];let g=(typeof h=="string"?h:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let y of g)y[0]==="-"?n.skips.push(y.slice(1)):n.names.push(y)}r(o,"enable");function a(h,g){let y=0,w=0,E=-1,x=0;for(;y<h.length;)if(w<g.length&&(g[w]===h[y]||g[w]==="*"))g[w]==="*"?(E=w,x=y,w++):(y++,w++);else if(E!==-1)w=E+1,x++,y=x;else return!1;for(;w<g.length&&g[w]==="*";)w++;return w===g.length}r(a,"matchesTemplate");function l(){let h=[...n.names,...n.skips.map(g=>"-"+g)].join(",");return n.enable(""),h}r(l,"disable");function c(h){for(let g of n.skips)if(a(h,g))return!1;for(let g of n.names)if(a(h,g))return!0;return!1}r(c,"enabled");function f(h){return h instanceof Error?h.stack||h.message:h}r(f,"coerce");function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r(p,"destroy"),n.enable(n.load()),n}r(kb,"setup");of.exports=kb});var sf=U((ot,so)=>{ot.formatArgs=vb;ot.save=Eb;ot.load=Cb;ot.useColors=Ab;ot.storage=xb();ot.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();ot.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function Ab(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let t;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(t=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(t[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}r(Ab,"useColors");function vb(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+so.exports.humanize(this.diff),!this.useColors)return;let e="color: "+this.color;t.splice(1,0,e,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,o=>{o!=="%%"&&(n++,o==="%c"&&(i=n))}),t.splice(i,0,e)}r(vb,"formatArgs");ot.log=console.debug||console.log||(()=>{});function Eb(t){try{t?ot.storage.setItem("debug",t):ot.storage.removeItem("debug")}catch{}}r(Eb,"save");function Cb(){let t;try{t=ot.storage.getItem("debug")||ot.storage.getItem("DEBUG")}catch{}return!t&&typeof process<"u"&&"env"in process&&(t=process.env.DEBUG),t}r(Cb,"load");function xb(){try{return localStorage}catch{}}r(xb,"localstorage");so.exports=Ka()(ot);var{formatters:Tb}=so.exports;Tb.j=function(t){try{return JSON.stringify(t)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}});var lf=U((uT,af)=>{"use strict";af.exports=(t,e=process.argv)=>{let n=t.startsWith("-")?"":t.length===1?"-":"--",i=e.indexOf(n+t),o=e.indexOf("--");return i!==-1&&(o===-1||i<o)}});var ff=U((cT,cf)=>{"use strict";var Sb=require("os"),uf=require("tty"),wt=lf(),{env:Ie}=process,ao;wt("no-color")||wt("no-colors")||wt("color=false")||wt("color=never")?ao=0:(wt("color")||wt("colors")||wt("color=true")||wt("color=always"))&&(ao=1);function Fb(){if("FORCE_COLOR"in Ie)return Ie.FORCE_COLOR==="true"?1:Ie.FORCE_COLOR==="false"?0:Ie.FORCE_COLOR.length===0?1:Math.min(Number.parseInt(Ie.FORCE_COLOR,10),3)}r(Fb,"envForceColor");function Pb(t){return t===0?!1:{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}r(Pb,"translateLevel");function Ib(t,{streamIsTTY:e,sniffFlags:n=!0}={}){let i=Fb();i!==void 0&&(ao=i);let o=n?ao:i;if(o===0)return 0;if(n){if(wt("color=16m")||wt("color=full")||wt("color=truecolor"))return 3;if(wt("color=256"))return 2}if(t&&!e&&o===void 0)return 0;let a=o||0;if(Ie.TERM==="dumb")return a;if(process.platform==="win32"){let l=Sb.release().split(".");return Number(l[0])>=10&&Number(l[2])>=10586?Number(l[2])>=14931?3:2:1}if("CI"in Ie)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE","DRONE"].some(l=>l in Ie)||Ie.CI_NAME==="codeship"?1:a;if("TEAMCITY_VERSION"in Ie)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(Ie.TEAMCITY_VERSION)?1:0;if(Ie.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in Ie){let l=Number.parseInt((Ie.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(Ie.TERM_PROGRAM){case"iTerm.app":return l>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(Ie.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(Ie.TERM)||"COLORTERM"in Ie?1:a}r(Ib,"supportsColor");function Xa(t,e={}){let n=Ib(t,{streamIsTTY:t&&t.isTTY,...e});return Pb(n)}r(Xa,"getSupportLevel");cf.exports={supportsColor:Xa,stdout:Xa({isTTY:uf.isatty(1)}),stderr:Xa({isTTY:uf.isatty(2)})}});var hf=U((_e,uo)=>{var _b=require("tty"),lo=require("util");_e.init=Bb;_e.log=Mb;_e.formatArgs=Rb;_e.save=Lb;_e.load=Nb;_e.useColors=Ob;_e.destroy=lo.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");_e.colors=[6,2,3,4,5,1];try{let t=ff();t&&(t.stderr||t).level>=2&&(_e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}_e.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{let n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(o,a)=>a.toUpperCase()),i=process.env[e];return/^(yes|on|true|enabled)$/i.test(i)?i=!0:/^(no|off|false|disabled)$/i.test(i)?i=!1:i==="null"?i=null:i=Number(i),t[n]=i,t},{});function Ob(){return"colors"in _e.inspectOpts?!!_e.inspectOpts.colors:_b.isatty(process.stderr.fd)}r(Ob,"useColors");function Rb(t){let{namespace:e,useColors:n}=this;if(n){let i=this.color,o="\x1B[3"+(i<8?i:"8;5;"+i),a=`  ${o};1m${e} \x1B[0m`;t[0]=a+t[0].split(`
`).join(`
`+a),t.push(o+"m+"+uo.exports.humanize(this.diff)+"\x1B[0m")}else t[0]=Db()+e+" "+t[0]}r(Rb,"formatArgs");function Db(){return _e.inspectOpts.hideDate?"":new Date().toISOString()+" "}r(Db,"getDate");function Mb(...t){return process.stderr.write(lo.formatWithOptions(_e.inspectOpts,...t)+`
`)}r(Mb,"log");function Lb(t){t?process.env.DEBUG=t:delete process.env.DEBUG}r(Lb,"save");function Nb(){return process.env.DEBUG}r(Nb,"load");function Bb(t){t.inspectOpts={};let e=Object.keys(_e.inspectOpts);for(let n=0;n<e.length;n++)t.inspectOpts[e[n]]=_e.inspectOpts[e[n]]}r(Bb,"init");uo.exports=Ka()(_e);var{formatters:df}=uo.exports;df.o=function(t){return this.inspectOpts.colors=this.useColors,lo.inspect(t,this.inspectOpts).split(`
`).map(e=>e.trim()).join(" ")};df.O=function(t){return this.inspectOpts.colors=this.useColors,lo.inspect(t,this.inspectOpts)}});var pf=U((hT,Za)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Za.exports=sf():Za.exports=hf()});var Vf=U((cS,$f)=>{"use strict";function $t(t){if(typeof t!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(t))}r($t,"assertPath");function Bf(t,e){for(var n="",i=0,o=-1,a=0,l,c=0;c<=t.length;++c){if(c<t.length)l=t.charCodeAt(c);else{if(l===47)break;l=47}if(l===47){if(!(o===c-1||a===1))if(o!==c-1&&a===2){if(n.length<2||i!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){var f=n.lastIndexOf("/");if(f!==n.length-1){f===-1?(n="",i=0):(n=n.slice(0,f),i=n.length-1-n.lastIndexOf("/")),o=c,a=0;continue}}else if(n.length===2||n.length===1){n="",i=0,o=c,a=0;continue}}e&&(n.length>0?n+="/..":n="..",i=2)}else n.length>0?n+="/"+t.slice(o+1,c):n=t.slice(o+1,c),i=c-o-1;o=c,a=0}else l===46&&a!==-1?++a:a=-1}return n}r(Bf,"normalizeStringPosix");function mk(t,e){var n=e.dir||e.root,i=e.base||(e.name||"")+(e.ext||"");return n?n===e.root?n+i:n+t+i:i}r(mk,"_format");var Ar={resolve:r(function(){for(var e="",n=!1,i,o=arguments.length-1;o>=-1&&!n;o--){var a;o>=0?a=arguments[o]:(i===void 0&&(i=process.cwd()),a=i),$t(a),a.length!==0&&(e=a+"/"+e,n=a.charCodeAt(0)===47)}return e=Bf(e,!n),n?e.length>0?"/"+e:"/":e.length>0?e:"."},"resolve"),normalize:r(function(e){if($t(e),e.length===0)return".";var n=e.charCodeAt(0)===47,i=e.charCodeAt(e.length-1)===47;return e=Bf(e,!n),e.length===0&&!n&&(e="."),e.length>0&&i&&(e+="/"),n?"/"+e:e},"normalize"),isAbsolute:r(function(e){return $t(e),e.length>0&&e.charCodeAt(0)===47},"isAbsolute"),join:r(function(){if(arguments.length===0)return".";for(var e,n=0;n<arguments.length;++n){var i=arguments[n];$t(i),i.length>0&&(e===void 0?e=i:e+="/"+i)}return e===void 0?".":Ar.normalize(e)},"join"),relative:r(function(e,n){if($t(e),$t(n),e===n||(e=Ar.resolve(e),n=Ar.resolve(n),e===n))return"";for(var i=1;i<e.length&&e.charCodeAt(i)===47;++i);for(var o=e.length,a=o-i,l=1;l<n.length&&n.charCodeAt(l)===47;++l);for(var c=n.length,f=c-l,p=a<f?a:f,h=-1,g=0;g<=p;++g){if(g===p){if(f>p){if(n.charCodeAt(l+g)===47)return n.slice(l+g+1);if(g===0)return n.slice(l+g)}else a>p&&(e.charCodeAt(i+g)===47?h=g:g===0&&(h=0));break}var y=e.charCodeAt(i+g),w=n.charCodeAt(l+g);if(y!==w)break;y===47&&(h=g)}var E="";for(g=i+h+1;g<=o;++g)(g===o||e.charCodeAt(g)===47)&&(E.length===0?E+="..":E+="/..");return E.length>0?E+n.slice(l+h):(l+=h,n.charCodeAt(l)===47&&++l,n.slice(l))},"relative"),_makeLong:r(function(e){return e},"_makeLong"),dirname:r(function(e){if($t(e),e.length===0)return".";for(var n=e.charCodeAt(0),i=n===47,o=-1,a=!0,l=e.length-1;l>=1;--l)if(n=e.charCodeAt(l),n===47){if(!a){o=l;break}}else a=!1;return o===-1?i?"/":".":i&&o===1?"//":e.slice(0,o)},"dirname"),basename:r(function(e,n){if(n!==void 0&&typeof n!="string")throw new TypeError('"ext" argument must be a string');$t(e);var i=0,o=-1,a=!0,l;if(n!==void 0&&n.length>0&&n.length<=e.length){if(n.length===e.length&&n===e)return"";var c=n.length-1,f=-1;for(l=e.length-1;l>=0;--l){var p=e.charCodeAt(l);if(p===47){if(!a){i=l+1;break}}else f===-1&&(a=!1,f=l+1),c>=0&&(p===n.charCodeAt(c)?--c===-1&&(o=l):(c=-1,o=f))}return i===o?o=f:o===-1&&(o=e.length),e.slice(i,o)}else{for(l=e.length-1;l>=0;--l)if(e.charCodeAt(l)===47){if(!a){i=l+1;break}}else o===-1&&(a=!1,o=l+1);return o===-1?"":e.slice(i,o)}},"basename"),extname:r(function(e){$t(e);for(var n=-1,i=0,o=-1,a=!0,l=0,c=e.length-1;c>=0;--c){var f=e.charCodeAt(c);if(f===47){if(!a){i=c+1;break}continue}o===-1&&(a=!1,o=c+1),f===46?n===-1?n=c:l!==1&&(l=1):n!==-1&&(l=-1)}return n===-1||o===-1||l===0||l===1&&n===o-1&&n===i+1?"":e.slice(n,o)},"extname"),format:r(function(e){if(e===null||typeof e!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return mk("/",e)},"format"),parse:r(function(e){$t(e);var n={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return n;var i=e.charCodeAt(0),o=i===47,a;o?(n.root="/",a=1):a=0;for(var l=-1,c=0,f=-1,p=!0,h=e.length-1,g=0;h>=a;--h){if(i=e.charCodeAt(h),i===47){if(!p){c=h+1;break}continue}f===-1&&(p=!1,f=h+1),i===46?l===-1?l=h:g!==1&&(g=1):l!==-1&&(g=-1)}return l===-1||f===-1||g===0||g===1&&l===f-1&&l===c+1?f!==-1&&(c===0&&o?n.base=n.name=e.slice(1,f):n.base=n.name=e.slice(c,f)):(c===0&&o?(n.name=e.slice(1,l),n.base=e.slice(1,f)):(n.name=e.slice(c,l),n.base=e.slice(c,f)),n.ext=e.slice(l,f)),c>0?n.dir=e.slice(0,c-1):o&&(n.dir="/"),n},"parse"),sep:"/",delimiter:":",win32:null,posix:null};Ar.posix=Ar;$f.exports=Ar});var dh=U((SD,fh)=>{"use strict";var Uo=Object.prototype.hasOwnProperty,ch=Object.prototype.toString,ih=Object.defineProperty,oh=Object.getOwnPropertyDescriptor,sh=r(function(e){return typeof Array.isArray=="function"?Array.isArray(e):ch.call(e)==="[object Array]"},"isArray"),ah=r(function(e){if(!e||ch.call(e)!=="[object Object]")return!1;var n=Uo.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&Uo.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!n&&!i)return!1;var o;for(o in e);return typeof o>"u"||Uo.call(e,o)},"isPlainObject"),lh=r(function(e,n){ih&&n.name==="__proto__"?ih(e,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):e[n.name]=n.newValue},"setProperty"),uh=r(function(e,n){if(n==="__proto__")if(Uo.call(e,n)){if(oh)return oh(e,n).value}else return;return e[n]},"getProperty");fh.exports=r(function t(){var e,n,i,o,a,l,c=arguments[0],f=1,p=arguments.length,h=!1;for(typeof c=="boolean"&&(h=c,c=arguments[1]||{},f=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});f<p;++f)if(e=arguments[f],e!=null)for(n in e)i=uh(c,n),o=uh(e,n),c!==o&&(h&&o&&(ah(o)||(a=sh(o)))?(a?(a=!1,l=i&&sh(i)?i:[]):l=i&&ah(i)?i:{},lh(c,{name:n,newValue:t(h,l,o)})):typeof o<"u"&&lh(c,{name:n,newValue:o}));return c},"extend")});var zh=U((is,Uh)=>{(function(t,e){typeof is=="object"&&typeof Uh<"u"?e(is):typeof define=="function"&&define.amd?define(["exports"],e):(t=typeof globalThis<"u"?globalThis:t||self,e(t.compareVersions={}))})(is,(function(t){"use strict";let e=/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i,n=r(F=>{if(typeof F!="string")throw new TypeError("Invalid argument expected string");let C=F.match(e);if(!C)throw new Error(`Invalid argument not valid semver ('${F}' received)`);return C.shift(),C},"validateAndParse"),i=r(F=>F==="*"||F==="x"||F==="X","isWildcard"),o=r(F=>{let C=parseInt(F,10);return isNaN(C)?F:C},"tryParse"),a=r((F,C)=>typeof F!=typeof C?[String(F),String(C)]:[F,C],"forceType"),l=r((F,C)=>{if(i(F)||i(C))return 0;let[I,_]=a(o(F),o(C));return I>_?1:I<_?-1:0},"compareStrings"),c=r((F,C)=>{for(let I=0;I<Math.max(F.length,C.length);I++){let _=l(F[I]||"0",C[I]||"0");if(_!==0)return _}return 0},"compareSegments"),f=r((F,C)=>{let I=n(F),_=n(C),W=I.pop(),z=_.pop(),S=c(I,_);return S!==0?S:W&&z?c(W.split("."),z.split(".")):W||z?W?-1:1:0},"compareVersions"),p=r((F,C,I)=>{y(I);let _=f(F,C);return h[I].includes(_)},"compare"),h={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},g=Object.keys(h),y=r(F=>{if(typeof F!="string")throw new TypeError(`Invalid operator type, expected string but got ${typeof F}`);if(g.indexOf(F)===-1)throw new Error(`Invalid operator, expected one of ${g.join("|")}`)},"assertValidOperator"),w=r((F,C)=>{if(C=C.replace(/([><=]+)\s+/g,"$1"),C.includes("||"))return C.split("||").some(se=>w(F,se));if(C.includes(" - ")){let[se,be]=C.split(" - ",2);return w(F,`>=${se} <=${be}`)}else if(C.includes(" "))return C.trim().replace(/\s{2,}/g," ").split(" ").every(se=>w(F,se));let I=C.match(/^([<>=~^]+)/),_=I?I[1]:"=";if(_!=="^"&&_!=="~")return p(F,C,_);let[W,z,S,,te]=n(F),[Z,J,le,,de]=n(C),oe=[W,z,S],Y=[Z,J??"x",le??"x"];if(de&&(!te||c(oe,Y)!==0||c(te.split("."),de.split("."))===-1))return!1;let q=Y.findIndex(se=>se!=="0")+1,H=_==="~"?2:q>1?q:1;return!(c(oe.slice(0,H),Y.slice(0,H))!==0||c(oe.slice(H),Y.slice(H))===-1)},"satisfies"),E=r(F=>typeof F=="string"&&/^[v\d]/.test(F)&&e.test(F),"validate"),x=r(F=>typeof F=="string"&&/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/.test(F),"validateStrict");t.compare=p,t.compareVersions=f,t.satisfies=w,t.validate=E,t.validateStrict=x}))});var fp=U((Fu,Pu)=>{(function(t,e,n){typeof Fu=="object"?(Pu.exports=n(),Pu.exports.default=n()):typeof define=="function"&&define.amd?define(n):e[t]=n()})("slugify",Fu,function(){var t=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","\xA2":"cent","\xA3":"pound","\xA4":"currency","\xA5":"yen","\xA9":"(c)","\xAA":"a","\xAE":"(r)","\xBA":"o","\xC0":"A","\xC1":"A","\xC2":"A","\xC3":"A","\xC4":"A","\xC5":"A","\xC6":"AE","\xC7":"C","\xC8":"E","\xC9":"E","\xCA":"E","\xCB":"E","\xCC":"I","\xCD":"I","\xCE":"I","\xCF":"I","\xD0":"D","\xD1":"N","\xD2":"O","\xD3":"O","\xD4":"O","\xD5":"O","\xD6":"O","\xD8":"O","\xD9":"U","\xDA":"U","\xDB":"U","\xDC":"U","\xDD":"Y","\xDE":"TH","\xDF":"ss","\xE0":"a","\xE1":"a","\xE2":"a","\xE3":"a","\xE4":"a","\xE5":"a","\xE6":"ae","\xE7":"c","\xE8":"e","\xE9":"e","\xEA":"e","\xEB":"e","\xEC":"i","\xED":"i","\xEE":"i","\xEF":"i","\xF0":"d","\xF1":"n","\xF2":"o","\xF3":"o","\xF4":"o","\xF5":"o","\xF6":"o","\xF8":"o","\xF9":"u","\xFA":"u","\xFB":"u","\xFC":"u","\xFD":"y","\xFE":"th","\xFF":"y","\u0100":"A","\u0101":"a","\u0102":"A","\u0103":"a","\u0104":"A","\u0105":"a","\u0106":"C","\u0107":"c","\u010C":"C","\u010D":"c","\u010E":"D","\u010F":"d","\u0110":"DJ","\u0111":"dj","\u0112":"E","\u0113":"e","\u0116":"E","\u0117":"e","\u0118":"e","\u0119":"e","\u011A":"E","\u011B":"e","\u011E":"G","\u011F":"g","\u0122":"G","\u0123":"g","\u0128":"I","\u0129":"i","\u012A":"i","\u012B":"i","\u012E":"I","\u012F":"i","\u0130":"I","\u0131":"i","\u0136":"k","\u0137":"k","\u013B":"L","\u013C":"l","\u013D":"L","\u013E":"l","\u0141":"L","\u0142":"l","\u0143":"N","\u0144":"n","\u0145":"N","\u0146":"n","\u0147":"N","\u0148":"n","\u014C":"O","\u014D":"o","\u0150":"O","\u0151":"o","\u0152":"OE","\u0153":"oe","\u0154":"R","\u0155":"r","\u0158":"R","\u0159":"r","\u015A":"S","\u015B":"s","\u015E":"S","\u015F":"s","\u0160":"S","\u0161":"s","\u0162":"T","\u0163":"t","\u0164":"T","\u0165":"t","\u0168":"U","\u0169":"u","\u016A":"u","\u016B":"u","\u016E":"U","\u016F":"u","\u0170":"U","\u0171":"u","\u0172":"U","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017A":"z","\u017B":"Z","\u017C":"z","\u017D":"Z","\u017E":"z","\u018F":"E","\u0192":"f","\u01A0":"O","\u01A1":"o","\u01AF":"U","\u01B0":"u","\u01C8":"LJ","\u01C9":"lj","\u01CB":"NJ","\u01CC":"nj","\u0218":"S","\u0219":"s","\u021A":"T","\u021B":"t","\u0259":"e","\u02DA":"o","\u0386":"A","\u0388":"E","\u0389":"H","\u038A":"I","\u038C":"O","\u038E":"Y","\u038F":"W","\u0390":"i","\u0391":"A","\u0392":"B","\u0393":"G","\u0394":"D","\u0395":"E","\u0396":"Z","\u0397":"H","\u0398":"8","\u0399":"I","\u039A":"K","\u039B":"L","\u039C":"M","\u039D":"N","\u039E":"3","\u039F":"O","\u03A0":"P","\u03A1":"R","\u03A3":"S","\u03A4":"T","\u03A5":"Y","\u03A6":"F","\u03A7":"X","\u03A8":"PS","\u03A9":"W","\u03AA":"I","\u03AB":"Y","\u03AC":"a","\u03AD":"e","\u03AE":"h","\u03AF":"i","\u03B0":"y","\u03B1":"a","\u03B2":"b","\u03B3":"g","\u03B4":"d","\u03B5":"e","\u03B6":"z","\u03B7":"h","\u03B8":"8","\u03B9":"i","\u03BA":"k","\u03BB":"l","\u03BC":"m","\u03BD":"n","\u03BE":"3","\u03BF":"o","\u03C0":"p","\u03C1":"r","\u03C2":"s","\u03C3":"s","\u03C4":"t","\u03C5":"y","\u03C6":"f","\u03C7":"x","\u03C8":"ps","\u03C9":"w","\u03CA":"i","\u03CB":"y","\u03CC":"o","\u03CD":"y","\u03CE":"w","\u0401":"Yo","\u0402":"DJ","\u0404":"Ye","\u0406":"I","\u0407":"Yi","\u0408":"J","\u0409":"LJ","\u040A":"NJ","\u040B":"C","\u040F":"DZ","\u0410":"A","\u0411":"B","\u0412":"V","\u0413":"G","\u0414":"D","\u0415":"E","\u0416":"Zh","\u0417":"Z","\u0418":"I","\u0419":"J","\u041A":"K","\u041B":"L","\u041C":"M","\u041D":"N","\u041E":"O","\u041F":"P","\u0420":"R","\u0421":"S","\u0422":"T","\u0423":"U","\u0424":"F","\u0425":"H","\u0426":"C","\u0427":"Ch","\u0428":"Sh","\u0429":"Sh","\u042A":"U","\u042B":"Y","\u042C":"","\u042D":"E","\u042E":"Yu","\u042F":"Ya","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0436":"zh","\u0437":"z","\u0438":"i","\u0439":"j","\u043A":"k","\u043B":"l","\u043C":"m","\u043D":"n","\u043E":"o","\u043F":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u0449":"sh","\u044A":"u","\u044B":"y","\u044C":"","\u044D":"e","\u044E":"yu","\u044F":"ya","\u0451":"yo","\u0452":"dj","\u0454":"ye","\u0456":"i","\u0457":"yi","\u0458":"j","\u0459":"lj","\u045A":"nj","\u045B":"c","\u045D":"u","\u045F":"dz","\u0490":"G","\u0491":"g","\u0492":"GH","\u0493":"gh","\u049A":"KH","\u049B":"kh","\u04A2":"NG","\u04A3":"ng","\u04AE":"UE","\u04AF":"ue","\u04B0":"U","\u04B1":"u","\u04BA":"H","\u04BB":"h","\u04D8":"AE","\u04D9":"ae","\u04E8":"OE","\u04E9":"oe","\u0531":"A","\u0532":"B","\u0533":"G","\u0534":"D","\u0535":"E","\u0536":"Z","\u0537":"E'","\u0538":"Y'","\u0539":"T'","\u053A":"JH","\u053B":"I","\u053C":"L","\u053D":"X","\u053E":"C'","\u053F":"K","\u0540":"H","\u0541":"D'","\u0542":"GH","\u0543":"TW","\u0544":"M","\u0545":"Y","\u0546":"N","\u0547":"SH","\u0549":"CH","\u054A":"P","\u054B":"J","\u054C":"R'","\u054D":"S","\u054E":"V","\u054F":"T","\u0550":"R","\u0551":"C","\u0553":"P'","\u0554":"Q'","\u0555":"O''","\u0556":"F","\u0587":"EV","\u0621":"a","\u0622":"aa","\u0623":"a","\u0624":"u","\u0625":"i","\u0626":"e","\u0627":"a","\u0628":"b","\u0629":"h","\u062A":"t","\u062B":"th","\u062C":"j","\u062D":"h","\u062E":"kh","\u062F":"d","\u0630":"th","\u0631":"r","\u0632":"z","\u0633":"s","\u0634":"sh","\u0635":"s","\u0636":"dh","\u0637":"t","\u0638":"z","\u0639":"a","\u063A":"gh","\u0641":"f","\u0642":"q","\u0643":"k","\u0644":"l","\u0645":"m","\u0646":"n","\u0647":"h","\u0648":"w","\u0649":"a","\u064A":"y","\u064B":"an","\u064C":"on","\u064D":"en","\u064E":"a","\u064F":"u","\u0650":"e","\u0652":"","\u0660":"0","\u0661":"1","\u0662":"2","\u0663":"3","\u0664":"4","\u0665":"5","\u0666":"6","\u0667":"7","\u0668":"8","\u0669":"9","\u067E":"p","\u0686":"ch","\u0698":"zh","\u06A9":"k","\u06AF":"g","\u06CC":"y","\u06F0":"0","\u06F1":"1","\u06F2":"2","\u06F3":"3","\u06F4":"4","\u06F5":"5","\u06F6":"6","\u06F7":"7","\u06F8":"8","\u06F9":"9","\u0E3F":"baht","\u10D0":"a","\u10D1":"b","\u10D2":"g","\u10D3":"d","\u10D4":"e","\u10D5":"v","\u10D6":"z","\u10D7":"t","\u10D8":"i","\u10D9":"k","\u10DA":"l","\u10DB":"m","\u10DC":"n","\u10DD":"o","\u10DE":"p","\u10DF":"zh","\u10E0":"r","\u10E1":"s","\u10E2":"t","\u10E3":"u","\u10E4":"f","\u10E5":"k","\u10E6":"gh","\u10E7":"q","\u10E8":"sh","\u10E9":"ch","\u10EA":"ts","\u10EB":"dz","\u10EC":"ts","\u10ED":"ch","\u10EE":"kh","\u10EF":"j","\u10F0":"h","\u1E62":"S","\u1E63":"s","\u1E80":"W","\u1E81":"w","\u1E82":"W","\u1E83":"w","\u1E84":"W","\u1E85":"w","\u1E9E":"SS","\u1EA0":"A","\u1EA1":"a","\u1EA2":"A","\u1EA3":"a","\u1EA4":"A","\u1EA5":"a","\u1EA6":"A","\u1EA7":"a","\u1EA8":"A","\u1EA9":"a","\u1EAA":"A","\u1EAB":"a","\u1EAC":"A","\u1EAD":"a","\u1EAE":"A","\u1EAF":"a","\u1EB0":"A","\u1EB1":"a","\u1EB2":"A","\u1EB3":"a","\u1EB4":"A","\u1EB5":"a","\u1EB6":"A","\u1EB7":"a","\u1EB8":"E","\u1EB9":"e","\u1EBA":"E","\u1EBB":"e","\u1EBC":"E","\u1EBD":"e","\u1EBE":"E","\u1EBF":"e","\u1EC0":"E","\u1EC1":"e","\u1EC2":"E","\u1EC3":"e","\u1EC4":"E","\u1EC5":"e","\u1EC6":"E","\u1EC7":"e","\u1EC8":"I","\u1EC9":"i","\u1ECA":"I","\u1ECB":"i","\u1ECC":"O","\u1ECD":"o","\u1ECE":"O","\u1ECF":"o","\u1ED0":"O","\u1ED1":"o","\u1ED2":"O","\u1ED3":"o","\u1ED4":"O","\u1ED5":"o","\u1ED6":"O","\u1ED7":"o","\u1ED8":"O","\u1ED9":"o","\u1EDA":"O","\u1EDB":"o","\u1EDC":"O","\u1EDD":"o","\u1EDE":"O","\u1EDF":"o","\u1EE0":"O","\u1EE1":"o","\u1EE2":"O","\u1EE3":"o","\u1EE4":"U","\u1EE5":"u","\u1EE6":"U","\u1EE7":"u","\u1EE8":"U","\u1EE9":"u","\u1EEA":"U","\u1EEB":"u","\u1EEC":"U","\u1EED":"u","\u1EEE":"U","\u1EEF":"u","\u1EF0":"U","\u1EF1":"u","\u1EF2":"Y","\u1EF3":"y","\u1EF4":"Y","\u1EF5":"y","\u1EF6":"Y","\u1EF7":"y","\u1EF8":"Y","\u1EF9":"y","\u2013":"-","\u2018":"'","\u2019":"'","\u201C":"\\"","\u201D":"\\"","\u201E":"\\"","\u2020":"+","\u2022":"*","\u2026":"...","\u20A0":"ecu","\u20A2":"cruzeiro","\u20A3":"french franc","\u20A4":"lira","\u20A5":"mill","\u20A6":"naira","\u20A7":"peseta","\u20A8":"rupee","\u20A9":"won","\u20AA":"new shequel","\u20AB":"dong","\u20AC":"euro","\u20AD":"kip","\u20AE":"tugrik","\u20AF":"drachma","\u20B0":"penny","\u20B1":"peso","\u20B2":"guarani","\u20B3":"austral","\u20B4":"hryvnia","\u20B5":"cedi","\u20B8":"kazakhstani tenge","\u20B9":"indian rupee","\u20BA":"turkish lira","\u20BD":"russian ruble","\u20BF":"bitcoin","\u2120":"sm","\u2122":"tm","\u2202":"d","\u2206":"delta","\u2211":"sum","\u221E":"infinity","\u2665":"love","\u5143":"yuan","\u5186":"yen","\uFDFC":"rial","\uFEF5":"laa","\uFEF7":"laa","\uFEF9":"lai","\uFEFB":"la"}`),e=JSON.parse('{"bg":{"\u0419":"Y","\u0426":"Ts","\u0429":"Sht","\u042A":"A","\u042C":"Y","\u0439":"y","\u0446":"ts","\u0449":"sht","\u044A":"a","\u044C":"y"},"de":{"\xC4":"AE","\xE4":"ae","\xD6":"OE","\xF6":"oe","\xDC":"UE","\xFC":"ue","\xDF":"ss","%":"prozent","&":"und","|":"oder","\u2211":"summe","\u221E":"unendlich","\u2665":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","\xA2":"centavos","\xA3":"libras","\xA4":"moneda","\u20A3":"francos","\u2211":"suma","\u221E":"infinito","\u2665":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","\xA2":"centime","\xA3":"livre","\xA4":"devise","\u20A3":"franc","\u2211":"somme","\u221E":"infini","\u2665":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","\xA2":"centavo","\u2211":"soma","\xA3":"libra","\u221E":"infinito","\u2665":"amor"},"uk":{"\u0418":"Y","\u0438":"y","\u0419":"Y","\u0439":"y","\u0426":"Ts","\u0446":"ts","\u0425":"Kh","\u0445":"kh","\u0429":"Shch","\u0449":"shch","\u0413":"H","\u0433":"h"},"vi":{"\u0110":"D","\u0111":"d"},"da":{"\xD8":"OE","\xF8":"oe","\xC5":"AA","\xE5":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"st\xF8rre end"},"nb":{"&":"og","\xC5":"AA","\xC6":"AE","\xD8":"OE","\xE5":"aa","\xE6":"ae","\xF8":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","\xC5":"AA","\xC4":"AE","\xD6":"OE","\xE5":"aa","\xE4":"ae","\xF6":"oe"}}');function n(i,o){if(typeof i!="string")throw new Error("slugify: string argument expected");o=typeof o=="string"?{replacement:o}:o||{};var a=e[o.locale]||{},l=o.replacement===void 0?"-":o.replacement,c=o.trim===void 0?!0:o.trim,f=i.normalize().split("").reduce(function(p,h){var g=a[h];return g===void 0&&(g=t[h]),g===void 0&&(g=h),g===l&&(g=" "),p+g.replace(o.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return o.strict&&(f=f.replace(/[^A-Za-z0-9\s]/g,"")),c&&(f=f.trim()),f=f.replace(/\s+/g,l),o.lower&&(f=f.toLowerCase()),f}return r(n,"replace"),n.extend=function(i){Object.assign(t,i)},n})});var Ri=U((W$,Sp)=>{"use strict";var zE="2.0.0",HE=Number.MAX_SAFE_INTEGER||9007199254740991,GE=16,qE=250,jE=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Sp.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:GE,MAX_SAFE_BUILD_LENGTH:qE,MAX_SAFE_INTEGER:HE,RELEASE_TYPES:jE,SEMVER_SPEC_VERSION:zE,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var Di=U((U$,Fp)=>{"use strict";var KE=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};Fp.exports=KE});var Yr=U((Ht,Pp)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:Nu,MAX_SAFE_BUILD_LENGTH:XE,MAX_LENGTH:ZE}=Ri(),JE=Di();Ht=Pp.exports={};var QE=Ht.re=[],eC=Ht.safeRe=[],L=Ht.src=[],tC=Ht.safeSrc=[],N=Ht.t={},nC=0,Bu="[a-zA-Z0-9-]",rC=[["\\s",1],["\\d",ZE],[Bu,XE]],iC=r(t=>{for(let[e,n]of rC)t=t.split(`${e}*`).join(`${e}{0,${n}}`).split(`${e}+`).join(`${e}{1,${n}}`);return t},"makeSafeRegex"),X=r((t,e,n)=>{let i=iC(e),o=nC++;JE(t,o,e),N[t]=o,L[o]=e,tC[o]=i,QE[o]=new RegExp(e,n?"g":void 0),eC[o]=new RegExp(i,n?"g":void 0)},"createToken");X("NUMERICIDENTIFIER","0|[1-9]\\d*");X("NUMERICIDENTIFIERLOOSE","\\d+");X("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${Bu}*`);X("MAINVERSION",`(${L[N.NUMERICIDENTIFIER]})\\.(${L[N.NUMERICIDENTIFIER]})\\.(${L[N.NUMERICIDENTIFIER]})`);X("MAINVERSIONLOOSE",`(${L[N.NUMERICIDENTIFIERLOOSE]})\\.(${L[N.NUMERICIDENTIFIERLOOSE]})\\.(${L[N.NUMERICIDENTIFIERLOOSE]})`);X("PRERELEASEIDENTIFIER",`(?:${L[N.NONNUMERICIDENTIFIER]}|${L[N.NUMERICIDENTIFIER]})`);X("PRERELEASEIDENTIFIERLOOSE",`(?:${L[N.NONNUMERICIDENTIFIER]}|${L[N.NUMERICIDENTIFIERLOOSE]})`);X("PRERELEASE",`(?:-(${L[N.PRERELEASEIDENTIFIER]}(?:\\.${L[N.PRERELEASEIDENTIFIER]})*))`);X("PRERELEASELOOSE",`(?:-?(${L[N.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${L[N.PRERELEASEIDENTIFIERLOOSE]})*))`);X("BUILDIDENTIFIER",`${Bu}+`);X("BUILD",`(?:\\+(${L[N.BUILDIDENTIFIER]}(?:\\.${L[N.BUILDIDENTIFIER]})*))`);X("FULLPLAIN",`v?${L[N.MAINVERSION]}${L[N.PRERELEASE]}?${L[N.BUILD]}?`);X("FULL",`^${L[N.FULLPLAIN]}$`);X("LOOSEPLAIN",`[v=\\s]*${L[N.MAINVERSIONLOOSE]}${L[N.PRERELEASELOOSE]}?${L[N.BUILD]}?`);X("LOOSE",`^${L[N.LOOSEPLAIN]}$`);X("GTLT","((?:<|>)?=?)");X("XRANGEIDENTIFIERLOOSE",`${L[N.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);X("XRANGEIDENTIFIER",`${L[N.NUMERICIDENTIFIER]}|x|X|\\*`);X("XRANGEPLAIN",`[v=\\s]*(${L[N.XRANGEIDENTIFIER]})(?:\\.(${L[N.XRANGEIDENTIFIER]})(?:\\.(${L[N.XRANGEIDENTIFIER]})(?:${L[N.PRERELEASE]})?${L[N.BUILD]}?)?)?`);X("XRANGEPLAINLOOSE",`[v=\\s]*(${L[N.XRANGEIDENTIFIERLOOSE]})(?:\\.(${L[N.XRANGEIDENTIFIERLOOSE]})(?:\\.(${L[N.XRANGEIDENTIFIERLOOSE]})(?:${L[N.PRERELEASELOOSE]})?${L[N.BUILD]}?)?)?`);X("XRANGE",`^${L[N.GTLT]}\\s*${L[N.XRANGEPLAIN]}$`);X("XRANGELOOSE",`^${L[N.GTLT]}\\s*${L[N.XRANGEPLAINLOOSE]}$`);X("COERCEPLAIN",`(^|[^\\d])(\\d{1,${Nu}})(?:\\.(\\d{1,${Nu}}))?(?:\\.(\\d{1,${Nu}}))?`);X("COERCE",`${L[N.COERCEPLAIN]}(?:$|[^\\d])`);X("COERCEFULL",L[N.COERCEPLAIN]+`(?:${L[N.PRERELEASE]})?(?:${L[N.BUILD]})?(?:$|[^\\d])`);X("COERCERTL",L[N.COERCE],!0);X("COERCERTLFULL",L[N.COERCEFULL],!0);X("LONETILDE","(?:~>?)");X("TILDETRIM",`(\\s*)${L[N.LONETILDE]}\\s+`,!0);Ht.tildeTrimReplace="$1~";X("TILDE",`^${L[N.LONETILDE]}${L[N.XRANGEPLAIN]}$`);X("TILDELOOSE",`^${L[N.LONETILDE]}${L[N.XRANGEPLAINLOOSE]}$`);X("LONECARET","(?:\\^)");X("CARETTRIM",`(\\s*)${L[N.LONECARET]}\\s+`,!0);Ht.caretTrimReplace="$1^";X("CARET",`^${L[N.LONECARET]}${L[N.XRANGEPLAIN]}$`);X("CARETLOOSE",`^${L[N.LONECARET]}${L[N.XRANGEPLAINLOOSE]}$`);X("COMPARATORLOOSE",`^${L[N.GTLT]}\\s*(${L[N.LOOSEPLAIN]})$|^$`);X("COMPARATOR",`^${L[N.GTLT]}\\s*(${L[N.FULLPLAIN]})$|^$`);X("COMPARATORTRIM",`(\\s*)${L[N.GTLT]}\\s*(${L[N.LOOSEPLAIN]}|${L[N.XRANGEPLAIN]})`,!0);Ht.comparatorTrimReplace="$1$2$3";X("HYPHENRANGE",`^\\s*(${L[N.XRANGEPLAIN]})\\s+-\\s+(${L[N.XRANGEPLAIN]})\\s*$`);X("HYPHENRANGELOOSE",`^\\s*(${L[N.XRANGEPLAINLOOSE]})\\s+-\\s+(${L[N.XRANGEPLAINLOOSE]})\\s*$`);X("STAR","(<|>)?=?\\s*\\*");X("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");X("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Ps=U((H$,Ip)=>{"use strict";var oC=Object.freeze({loose:!0}),sC=Object.freeze({}),aC=r(t=>t?typeof t!="object"?oC:t:sC,"parseOptions");Ip.exports=aC});var $u=U((q$,Rp)=>{"use strict";var _p=/^[0-9]+$/,Op=r((t,e)=>{let n=_p.test(t),i=_p.test(e);return n&&i&&(t=+t,e=+e),t===e?0:n&&!i?-1:i&&!n?1:t<e?-1:1},"compareIdentifiers"),lC=r((t,e)=>Op(e,t),"rcompareIdentifiers");Rp.exports={compareIdentifiers:Op,rcompareIdentifiers:lC}});var ze=U((K$,Mp)=>{"use strict";var Is=Di(),{MAX_LENGTH:Dp,MAX_SAFE_INTEGER:_s}=Ri(),{safeRe:Os,t:Rs}=Yr(),uC=Ps(),{compareIdentifiers:Wr}=$u(),Vu=class t{static{r(this,"SemVer")}constructor(e,n){if(n=uC(n),e instanceof t){if(e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease)return e;e=e.version}else if(typeof e!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>Dp)throw new TypeError(`version is longer than ${Dp} characters`);Is("SemVer",e,n),this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease;let i=e.trim().match(n.loose?Os[Rs.LOOSE]:Os[Rs.FULL]);if(!i)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>_s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>_s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>_s||this.patch<0)throw new TypeError("Invalid patch version");i[4]?this.prerelease=i[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){let a=+o;if(a>=0&&a<_s)return a}return o}):this.prerelease=[],this.build=i[5]?i[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(Is("SemVer.compare",this.version,this.options,e),!(e instanceof t)){if(typeof e=="string"&&e===this.version)return 0;e=new t(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof t||(e=new t(e,this.options)),Wr(this.major,e.major)||Wr(this.minor,e.minor)||Wr(this.patch,e.patch)}comparePre(e){if(e instanceof t||(e=new t(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let n=0;do{let i=this.prerelease[n],o=e.prerelease[n];if(Is("prerelease compare",n,i,o),i===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(i===void 0)return-1;if(i===o)continue;return Wr(i,o)}while(++n)}compareBuild(e){e instanceof t||(e=new t(e,this.options));let n=0;do{let i=this.build[n],o=e.build[n];if(Is("build compare",n,i,o),i===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(i===void 0)return-1;if(i===o)continue;return Wr(i,o)}while(++n)}inc(e,n,i){if(e.startsWith("pre")){if(!n&&i===!1)throw new Error("invalid increment argument: identifier is empty");if(n){let o=`-${n}`.match(this.options.loose?Os[Rs.PRERELEASELOOSE]:Os[Rs.PRERELEASE]);if(!o||o[1]!==n)throw new Error(`invalid identifier: ${n}`)}}switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",n,i);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",n,i);break;case"prepatch":this.prerelease.length=0,this.inc("patch",n,i),this.inc("pre",n,i);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",n,i),this.inc("pre",n,i);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let o=Number(i)?1:0;if(this.prerelease.length===0)this.prerelease=[o];else{let a=this.prerelease.length;for(;--a>=0;)typeof this.prerelease[a]=="number"&&(this.prerelease[a]++,a=-2);if(a===-1){if(n===this.prerelease.join(".")&&i===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(o)}}if(n){let a=[n,o];i===!1&&(a=[n]),Wr(this.prerelease[0],n)===0?isNaN(this.prerelease[1])&&(this.prerelease=a):this.prerelease=a}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}};Mp.exports=Vu});var er=U((Z$,Np)=>{"use strict";var Lp=ze(),cC=r((t,e,n=!1)=>{if(t instanceof Lp)return t;try{return new Lp(t,e)}catch(i){if(!n)return null;throw i}},"parse");Np.exports=cC});var $p=U((Q$,Bp)=>{"use strict";var fC=er(),dC=r((t,e)=>{let n=fC(t,e);return n?n.version:null},"valid");Bp.exports=dC});var Yp=U((t5,Vp)=>{"use strict";var hC=er(),pC=r((t,e)=>{let n=hC(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null},"clean");Vp.exports=pC});var zp=U((r5,Up)=>{"use strict";var Wp=ze(),mC=r((t,e,n,i,o)=>{typeof n=="string"&&(o=i,i=n,n=void 0);try{return new Wp(t instanceof Wp?t.version:t,n).inc(e,i,o).version}catch{return null}},"inc");Up.exports=mC});var qp=U((o5,Gp)=>{"use strict";var Hp=er(),gC=r((t,e)=>{let n=Hp(t,null,!0),i=Hp(e,null,!0),o=n.compare(i);if(o===0)return null;let a=o>0,l=a?n:i,c=a?i:n,f=!!l.prerelease.length;if(!!c.prerelease.length&&!f){if(!c.patch&&!c.minor)return"major";if(c.compareMain(l)===0)return c.minor&&!c.patch?"minor":"patch"}let h=f?"pre":"";return n.major!==i.major?h+"major":n.minor!==i.minor?h+"minor":n.patch!==i.patch?h+"patch":"prerelease"},"diff");Gp.exports=gC});var Kp=U((a5,jp)=>{"use strict";var wC=ze(),yC=r((t,e)=>new wC(t,e).major,"major");jp.exports=yC});var Zp=U((u5,Xp)=>{"use strict";var bC=ze(),kC=r((t,e)=>new bC(t,e).minor,"minor");Xp.exports=kC});var Qp=U((f5,Jp)=>{"use strict";var AC=ze(),vC=r((t,e)=>new AC(t,e).patch,"patch");Jp.exports=vC});var tm=U((h5,em)=>{"use strict";var EC=er(),CC=r((t,e)=>{let n=EC(t,e);return n&&n.prerelease.length?n.prerelease:null},"prerelease");em.exports=CC});var Ct=U((m5,rm)=>{"use strict";var nm=ze(),xC=r((t,e,n)=>new nm(t,n).compare(new nm(e,n)),"compare");rm.exports=xC});var om=U((w5,im)=>{"use strict";var TC=Ct(),SC=r((t,e,n)=>TC(e,t,n),"rcompare");im.exports=SC});var am=U((b5,sm)=>{"use strict";var FC=Ct(),PC=r((t,e)=>FC(t,e,!0),"compareLoose");sm.exports=PC});var Ds=U((A5,um)=>{"use strict";var lm=ze(),IC=r((t,e,n)=>{let i=new lm(t,n),o=new lm(e,n);return i.compare(o)||i.compareBuild(o)},"compareBuild");um.exports=IC});var fm=U((E5,cm)=>{"use strict";var _C=Ds(),OC=r((t,e)=>t.sort((n,i)=>_C(n,i,e)),"sort");cm.exports=OC});var hm=U((x5,dm)=>{"use strict";var RC=Ds(),DC=r((t,e)=>t.sort((n,i)=>RC(i,n,e)),"rsort");dm.exports=DC});var Mi=U((S5,pm)=>{"use strict";var MC=Ct(),LC=r((t,e,n)=>MC(t,e,n)>0,"gt");pm.exports=LC});var Ms=U((P5,mm)=>{"use strict";var NC=Ct(),BC=r((t,e,n)=>NC(t,e,n)<0,"lt");mm.exports=BC});var Yu=U((_5,gm)=>{"use strict";var $C=Ct(),VC=r((t,e,n)=>$C(t,e,n)===0,"eq");gm.exports=VC});var Wu=U((R5,wm)=>{"use strict";var YC=Ct(),WC=r((t,e,n)=>YC(t,e,n)!==0,"neq");wm.exports=WC});var Ls=U((M5,ym)=>{"use strict";var UC=Ct(),zC=r((t,e,n)=>UC(t,e,n)>=0,"gte");ym.exports=zC});var Ns=U((N5,bm)=>{"use strict";var HC=Ct(),GC=r((t,e,n)=>HC(t,e,n)<=0,"lte");bm.exports=GC});var Uu=U(($5,km)=>{"use strict";var qC=Yu(),jC=Wu(),KC=Mi(),XC=Ls(),ZC=Ms(),JC=Ns(),QC=r((t,e,n,i)=>{switch(e){case"===":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t===n;case"!==":return typeof t=="object"&&(t=t.version),typeof n=="object"&&(n=n.version),t!==n;case"":case"=":case"==":return qC(t,n,i);case"!=":return jC(t,n,i);case">":return KC(t,n,i);case">=":return XC(t,n,i);case"<":return ZC(t,n,i);case"<=":return JC(t,n,i);default:throw new TypeError(`Invalid operator: ${e}`)}},"cmp");km.exports=QC});var vm=U((Y5,Am)=>{"use strict";var ex=ze(),tx=er(),{safeRe:Bs,t:$s}=Yr(),nx=r((t,e)=>{if(t instanceof ex)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;e=e||{};let n=null;if(!e.rtl)n=t.match(e.includePrerelease?Bs[$s.COERCEFULL]:Bs[$s.COERCE]);else{let f=e.includePrerelease?Bs[$s.COERCERTLFULL]:Bs[$s.COERCERTL],p;for(;(p=f.exec(t))&&(!n||n.index+n[0].length!==t.length);)(!n||p.index+p[0].length!==n.index+n[0].length)&&(n=p),f.lastIndex=p.index+p[1].length+p[2].length;f.lastIndex=-1}if(n===null)return null;let i=n[2],o=n[3]||"0",a=n[4]||"0",l=e.includePrerelease&&n[5]?`-${n[5]}`:"",c=e.includePrerelease&&n[6]?`+${n[6]}`:"";return tx(`${i}.${o}.${a}${l}${c}`,e)},"coerce");Am.exports=nx});var Cm=U((U5,Em)=>{"use strict";var zu=class{static{r(this,"LRUCache")}constructor(){this.max=1e3,this.map=new Map}get(e){let n=this.map.get(e);if(n!==void 0)return this.map.delete(e),this.map.set(e,n),n}delete(e){return this.map.delete(e)}set(e,n){if(!this.delete(e)&&n!==void 0){if(this.map.size>=this.max){let o=this.map.keys().next().value;this.delete(o)}this.map.set(e,n)}return this}};Em.exports=zu});var xt=U((H5,Fm)=>{"use strict";var rx=/\s+/g,Hu=class t{static{r(this,"Range")}constructor(e,n){if(n=ox(n),e instanceof t)return e.loose===!!n.loose&&e.includePrerelease===!!n.includePrerelease?e:new t(e.raw,n);if(e instanceof Gu)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=n,this.loose=!!n.loose,this.includePrerelease=!!n.includePrerelease,this.raw=e.trim().replace(rx," "),this.set=this.raw.split("||").map(i=>this.parseRange(i.trim())).filter(i=>i.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){let i=this.set[0];if(this.set=this.set.filter(o=>!Tm(o[0])),this.set.length===0)this.set=[i];else if(this.set.length>1){for(let o of this.set)if(o.length===1&&dx(o[0])){this.set=[o];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");let n=this.set[e];for(let i=0;i<n.length;i++)i>0&&(this.formatted+=" "),this.formatted+=n[i].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){let i=((this.options.includePrerelease&&cx)|(this.options.loose&&fx))+":"+e,o=xm.get(i);if(o)return o;let a=this.options.loose,l=a?lt[tt.HYPHENRANGELOOSE]:lt[tt.HYPHENRANGE];e=e.replace(l,vx(this.options.includePrerelease)),pe("hyphen replace",e),e=e.replace(lt[tt.COMPARATORTRIM],ax),pe("comparator trim",e),e=e.replace(lt[tt.TILDETRIM],lx),pe("tilde trim",e),e=e.replace(lt[tt.CARETTRIM],ux),pe("caret trim",e);let c=e.split(" ").map(g=>hx(g,this.options)).join(" ").split(/\s+/).map(g=>Ax(g,this.options));a&&(c=c.filter(g=>(pe("loose invalid filter",g,this.options),!!g.match(lt[tt.COMPARATORLOOSE])))),pe("range list",c);let f=new Map,p=c.map(g=>new Gu(g,this.options));for(let g of p){if(Tm(g))return[g];f.set(g.value,g)}f.size>1&&f.has("")&&f.delete("");let h=[...f.values()];return xm.set(i,h),h}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Range is required");return this.set.some(i=>Sm(i,n)&&e.set.some(o=>Sm(o,n)&&i.every(a=>o.every(l=>a.intersects(l,n)))))}test(e){if(!e)return!1;if(typeof e=="string")try{e=new sx(e,this.options)}catch{return!1}for(let n=0;n<this.set.length;n++)if(Ex(this.set[n],e,this.options))return!0;return!1}};Fm.exports=Hu;var ix=Cm(),xm=new ix,ox=Ps(),Gu=Li(),pe=Di(),sx=ze(),{safeRe:lt,t:tt,comparatorTrimReplace:ax,tildeTrimReplace:lx,caretTrimReplace:ux}=Yr(),{FLAG_INCLUDE_PRERELEASE:cx,FLAG_LOOSE:fx}=Ri(),Tm=r(t=>t.value==="<0.0.0-0","isNullSet"),dx=r(t=>t.value==="","isAny"),Sm=r((t,e)=>{let n=!0,i=t.slice(),o=i.pop();for(;n&&i.length;)n=i.every(a=>o.intersects(a,e)),o=i.pop();return n},"isSatisfiable"),hx=r((t,e)=>(pe("comp",t,e),t=gx(t,e),pe("caret",t),t=px(t,e),pe("tildes",t),t=yx(t,e),pe("xrange",t),t=kx(t,e),pe("stars",t),t),"parseComparator"),nt=r(t=>!t||t.toLowerCase()==="x"||t==="*","isX"),px=r((t,e)=>t.trim().split(/\s+/).map(n=>mx(n,e)).join(" "),"replaceTildes"),mx=r((t,e)=>{let n=e.loose?lt[tt.TILDELOOSE]:lt[tt.TILDE];return t.replace(n,(i,o,a,l,c)=>{pe("tilde",t,i,o,a,l,c);let f;return nt(o)?f="":nt(a)?f=`>=${o}.0.0 <${+o+1}.0.0-0`:nt(l)?f=`>=${o}.${a}.0 <${o}.${+a+1}.0-0`:c?(pe("replaceTilde pr",c),f=`>=${o}.${a}.${l}-${c} <${o}.${+a+1}.0-0`):f=`>=${o}.${a}.${l} <${o}.${+a+1}.0-0`,pe("tilde return",f),f})},"replaceTilde"),gx=r((t,e)=>t.trim().split(/\s+/).map(n=>wx(n,e)).join(" "),"replaceCarets"),wx=r((t,e)=>{pe("caret",t,e);let n=e.loose?lt[tt.CARETLOOSE]:lt[tt.CARET],i=e.includePrerelease?"-0":"";return t.replace(n,(o,a,l,c,f)=>{pe("caret",t,o,a,l,c,f);let p;return nt(a)?p="":nt(l)?p=`>=${a}.0.0${i} <${+a+1}.0.0-0`:nt(c)?a==="0"?p=`>=${a}.${l}.0${i} <${a}.${+l+1}.0-0`:p=`>=${a}.${l}.0${i} <${+a+1}.0.0-0`:f?(pe("replaceCaret pr",f),a==="0"?l==="0"?p=`>=${a}.${l}.${c}-${f} <${a}.${l}.${+c+1}-0`:p=`>=${a}.${l}.${c}-${f} <${a}.${+l+1}.0-0`:p=`>=${a}.${l}.${c}-${f} <${+a+1}.0.0-0`):(pe("no pr"),a==="0"?l==="0"?p=`>=${a}.${l}.${c}${i} <${a}.${l}.${+c+1}-0`:p=`>=${a}.${l}.${c}${i} <${a}.${+l+1}.0-0`:p=`>=${a}.${l}.${c} <${+a+1}.0.0-0`),pe("caret return",p),p})},"replaceCaret"),yx=r((t,e)=>(pe("replaceXRanges",t,e),t.split(/\s+/).map(n=>bx(n,e)).join(" ")),"replaceXRanges"),bx=r((t,e)=>{t=t.trim();let n=e.loose?lt[tt.XRANGELOOSE]:lt[tt.XRANGE];return t.replace(n,(i,o,a,l,c,f)=>{pe("xRange",t,i,o,a,l,c,f);let p=nt(a),h=p||nt(l),g=h||nt(c),y=g;return o==="="&&y&&(o=""),f=e.includePrerelease?"-0":"",p?o===">"||o==="<"?i="<0.0.0-0":i="*":o&&y?(h&&(l=0),c=0,o===">"?(o=">=",h?(a=+a+1,l=0,c=0):(l=+l+1,c=0)):o==="<="&&(o="<",h?a=+a+1:l=+l+1),o==="<"&&(f="-0"),i=`${o+a}.${l}.${c}${f}`):h?i=`>=${a}.0.0${f} <${+a+1}.0.0-0`:g&&(i=`>=${a}.${l}.0${f} <${a}.${+l+1}.0-0`),pe("xRange return",i),i})},"replaceXRange"),kx=r((t,e)=>(pe("replaceStars",t,e),t.trim().replace(lt[tt.STAR],"")),"replaceStars"),Ax=r((t,e)=>(pe("replaceGTE0",t,e),t.trim().replace(lt[e.includePrerelease?tt.GTE0PRE:tt.GTE0],"")),"replaceGTE0"),vx=r(t=>(e,n,i,o,a,l,c,f,p,h,g,y)=>(nt(i)?n="":nt(o)?n=`>=${i}.0.0${t?"-0":""}`:nt(a)?n=`>=${i}.${o}.0${t?"-0":""}`:l?n=`>=${n}`:n=`>=${n}${t?"-0":""}`,nt(p)?f="":nt(h)?f=`<${+p+1}.0.0-0`:nt(g)?f=`<${p}.${+h+1}.0-0`:y?f=`<=${p}.${h}.${g}-${y}`:t?f=`<${p}.${h}.${+g+1}-0`:f=`<=${f}`,`${n} ${f}`.trim()),"hyphenReplace"),Ex=r((t,e,n)=>{for(let i=0;i<t.length;i++)if(!t[i].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let i=0;i<t.length;i++)if(pe(t[i].semver),t[i].semver!==Gu.ANY&&t[i].semver.prerelease.length>0){let o=t[i].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0},"testSet")});var Li=U((q5,Dm)=>{"use strict";var Ni=Symbol("SemVer ANY"),Ku=class t{static{r(this,"Comparator")}static get ANY(){return Ni}constructor(e,n){if(n=Pm(n),e instanceof t){if(e.loose===!!n.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),ju("comparator",e,n),this.options=n,this.loose=!!n.loose,this.parse(e),this.semver===Ni?this.value="":this.value=this.operator+this.semver.version,ju("comp",this)}parse(e){let n=this.options.loose?Im[_m.COMPARATORLOOSE]:Im[_m.COMPARATOR],i=e.match(n);if(!i)throw new TypeError(`Invalid comparator: ${e}`);this.operator=i[1]!==void 0?i[1]:"",this.operator==="="&&(this.operator=""),i[2]?this.semver=new Om(i[2],this.options.loose):this.semver=Ni}toString(){return this.value}test(e){if(ju("Comparator.test",e,this.options.loose),this.semver===Ni||e===Ni)return!0;if(typeof e=="string")try{e=new Om(e,this.options)}catch{return!1}return qu(e,this.operator,this.semver,this.options)}intersects(e,n){if(!(e instanceof t))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new Rm(e.value,n).test(this.value):e.operator===""?e.value===""?!0:new Rm(this.value,n).test(e.semver):(n=Pm(n),n.includePrerelease&&(this.value==="<0.0.0-0"||e.value==="<0.0.0-0")||!n.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&e.operator.startsWith(">")||this.operator.startsWith("<")&&e.operator.startsWith("<")||this.semver.version===e.semver.version&&this.operator.includes("=")&&e.operator.includes("=")||qu(this.semver,"<",e.semver,n)&&this.operator.startsWith(">")&&e.operator.startsWith("<")||qu(this.semver,">",e.semver,n)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))}};Dm.exports=Ku;var Pm=Ps(),{safeRe:Im,t:_m}=Yr(),qu=Uu(),ju=Di(),Om=ze(),Rm=xt()});var Bi=U((K5,Mm)=>{"use strict";var Cx=xt(),xx=r((t,e,n)=>{try{e=new Cx(e,n)}catch{return!1}return e.test(t)},"satisfies");Mm.exports=xx});var Nm=U((Z5,Lm)=>{"use strict";var Tx=xt(),Sx=r((t,e)=>new Tx(t,e).set.map(n=>n.map(i=>i.value).join(" ").trim().split(" ")),"toComparators");Lm.exports=Sx});var $m=U((Q5,Bm)=>{"use strict";var Fx=ze(),Px=xt(),Ix=r((t,e,n)=>{let i=null,o=null,a=null;try{a=new Px(e,n)}catch{return null}return t.forEach(l=>{a.test(l)&&(!i||o.compare(l)===-1)&&(i=l,o=new Fx(i,n))}),i},"maxSatisfying");Bm.exports=Ix});var Ym=U((tV,Vm)=>{"use strict";var _x=ze(),Ox=xt(),Rx=r((t,e,n)=>{let i=null,o=null,a=null;try{a=new Ox(e,n)}catch{return null}return t.forEach(l=>{a.test(l)&&(!i||o.compare(l)===1)&&(i=l,o=new _x(i,n))}),i},"minSatisfying");Vm.exports=Rx});var zm=U((rV,Um)=>{"use strict";var Xu=ze(),Dx=xt(),Wm=Mi(),Mx=r((t,e)=>{t=new Dx(t,e);let n=new Xu("0.0.0");if(t.test(n)||(n=new Xu("0.0.0-0"),t.test(n)))return n;n=null;for(let i=0;i<t.set.length;++i){let o=t.set[i],a=null;o.forEach(l=>{let c=new Xu(l.semver.version);switch(l.operator){case">":c.prerelease.length===0?c.patch++:c.prerelease.push(0),c.raw=c.format();case"":case">=":(!a||Wm(c,a))&&(a=c);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${l.operator}`)}}),a&&(!n||Wm(n,a))&&(n=a)}return n&&t.test(n)?n:null},"minVersion");Um.exports=Mx});var Gm=U((oV,Hm)=>{"use strict";var Lx=xt(),Nx=r((t,e)=>{try{return new Lx(t,e).range||"*"}catch{return null}},"validRange");Hm.exports=Nx});var Vs=U((aV,Xm)=>{"use strict";var Bx=ze(),Km=Li(),{ANY:$x}=Km,Vx=xt(),Yx=Bi(),qm=Mi(),jm=Ms(),Wx=Ns(),Ux=Ls(),zx=r((t,e,n,i)=>{t=new Bx(t,i),e=new Vx(e,i);let o,a,l,c,f;switch(n){case">":o=qm,a=Wx,l=jm,c=">",f=">=";break;case"<":o=jm,a=Ux,l=qm,c="<",f="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(Yx(t,e,i))return!1;for(let p=0;p<e.set.length;++p){let h=e.set[p],g=null,y=null;if(h.forEach(w=>{w.semver===$x&&(w=new Km(">=0.0.0")),g=g||w,y=y||w,o(w.semver,g.semver,i)?g=w:l(w.semver,y.semver,i)&&(y=w)}),g.operator===c||g.operator===f||(!y.operator||y.operator===c)&&a(t,y.semver))return!1;if(y.operator===f&&l(t,y.semver))return!1}return!0},"outside");Xm.exports=zx});var Jm=U((uV,Zm)=>{"use strict";var Hx=Vs(),Gx=r((t,e,n)=>Hx(t,e,">",n),"gtr");Zm.exports=Gx});var eg=U((fV,Qm)=>{"use strict";var qx=Vs(),jx=r((t,e,n)=>qx(t,e,"<",n),"ltr");Qm.exports=jx});var rg=U((hV,ng)=>{"use strict";var tg=xt(),Kx=r((t,e,n)=>(t=new tg(t,n),e=new tg(e,n),t.intersects(e,n)),"intersects");ng.exports=Kx});var og=U((mV,ig)=>{"use strict";var Xx=Bi(),Zx=Ct();ig.exports=(t,e,n)=>{let i=[],o=null,a=null,l=t.sort((h,g)=>Zx(h,g,n));for(let h of l)Xx(h,e,n)?(a=h,o||(o=h)):(a&&i.push([o,a]),a=null,o=null);o&&i.push([o,null]);let c=[];for(let[h,g]of i)h===g?c.push(h):!g&&h===l[0]?c.push("*"):g?h===l[0]?c.push(`<=${g}`):c.push(`${h} - ${g}`):c.push(`>=${h}`);let f=c.join(" || "),p=typeof e.raw=="string"?e.raw:String(e);return f.length<p.length?f:e}});var fg=U((gV,cg)=>{"use strict";var sg=xt(),Ju=Li(),{ANY:Zu}=Ju,$i=Bi(),Qu=Ct(),Jx=r((t,e,n={})=>{if(t===e)return!0;t=new sg(t,n),e=new sg(e,n);let i=!1;e:for(let o of t.set){for(let a of e.set){let l=e2(o,a,n);if(i=i||l!==null,l)continue e}if(i)return!1}return!0},"subset"),Qx=[new Ju(">=0.0.0-0")],ag=[new Ju(">=0.0.0")],e2=r((t,e,n)=>{if(t===e)return!0;if(t.length===1&&t[0].semver===Zu){if(e.length===1&&e[0].semver===Zu)return!0;n.includePrerelease?t=Qx:t=ag}if(e.length===1&&e[0].semver===Zu){if(n.includePrerelease)return!0;e=ag}let i=new Set,o,a;for(let w of t)w.operator===">"||w.operator===">="?o=lg(o,w,n):w.operator==="<"||w.operator==="<="?a=ug(a,w,n):i.add(w.semver);if(i.size>1)return null;let l;if(o&&a){if(l=Qu(o.semver,a.semver,n),l>0)return null;if(l===0&&(o.operator!==">="||a.operator!=="<="))return null}for(let w of i){if(o&&!$i(w,String(o),n)||a&&!$i(w,String(a),n))return null;for(let E of e)if(!$i(w,String(E),n))return!1;return!0}let c,f,p,h,g=a&&!n.includePrerelease&&a.semver.prerelease.length?a.semver:!1,y=o&&!n.includePrerelease&&o.semver.prerelease.length?o.semver:!1;g&&g.prerelease.length===1&&a.operator==="<"&&g.prerelease[0]===0&&(g=!1);for(let w of e){if(h=h||w.operator===">"||w.operator===">=",p=p||w.operator==="<"||w.operator==="<=",o){if(y&&w.semver.prerelease&&w.semver.prerelease.length&&w.semver.major===y.major&&w.semver.minor===y.minor&&w.semver.patch===y.patch&&(y=!1),w.operator===">"||w.operator===">="){if(c=lg(o,w,n),c===w&&c!==o)return!1}else if(o.operator===">="&&!$i(o.semver,String(w),n))return!1}if(a){if(g&&w.semver.prerelease&&w.semver.prerelease.length&&w.semver.major===g.major&&w.semver.minor===g.minor&&w.semver.patch===g.patch&&(g=!1),w.operator==="<"||w.operator==="<="){if(f=ug(a,w,n),f===w&&f!==a)return!1}else if(a.operator==="<="&&!$i(a.semver,String(w),n))return!1}if(!w.operator&&(a||o)&&l!==0)return!1}return!(o&&p&&!a&&l!==0||a&&h&&!o&&l!==0||y||g)},"simpleSubset"),lg=r((t,e,n)=>{if(!t)return e;let i=Qu(t.semver,e.semver,n);return i>0?t:i<0||e.operator===">"&&t.operator===">="?e:t},"higherGT"),ug=r((t,e,n)=>{if(!t)return e;let i=Qu(t.semver,e.semver,n);return i<0?t:i>0||e.operator==="<"&&t.operator==="<="?e:t},"lowerLT");cg.exports=Jx});var mg=U((yV,pg)=>{"use strict";var ec=Yr(),dg=Ri(),t2=ze(),hg=$u(),n2=er(),r2=$p(),i2=Yp(),o2=zp(),s2=qp(),a2=Kp(),l2=Zp(),u2=Qp(),c2=tm(),f2=Ct(),d2=om(),h2=am(),p2=Ds(),m2=fm(),g2=hm(),w2=Mi(),y2=Ms(),b2=Yu(),k2=Wu(),A2=Ls(),v2=Ns(),E2=Uu(),C2=vm(),x2=Li(),T2=xt(),S2=Bi(),F2=Nm(),P2=$m(),I2=Ym(),_2=zm(),O2=Gm(),R2=Vs(),D2=Jm(),M2=eg(),L2=rg(),N2=og(),B2=fg();pg.exports={parse:n2,valid:r2,clean:i2,inc:o2,diff:s2,major:a2,minor:l2,patch:u2,prerelease:c2,compare:f2,rcompare:d2,compareLoose:h2,compareBuild:p2,sort:m2,rsort:g2,gt:w2,lt:y2,eq:b2,neq:k2,gte:A2,lte:v2,cmp:E2,coerce:C2,Comparator:x2,Range:T2,satisfies:S2,toComparators:F2,maxSatisfying:P2,minSatisfying:I2,minVersion:_2,validRange:O2,outside:R2,gtr:D2,ltr:M2,intersects:L2,simplifyRange:N2,subset:B2,SemVer:t2,re:ec.re,src:ec.src,tokens:ec.t,SEMVER_SPEC_VERSION:dg.SEMVER_SPEC_VERSION,RELEASE_TYPES:dg.RELEASE_TYPES,compareIdentifiers:hg.compareIdentifiers,rcompareIdentifiers:hg.rcompareIdentifiers}});var j2={};Zc(j2,{default:()=>q2});module.exports=pb(j2);var va=require("electron"),fc=De(rn(),1),Dt=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Ot(){}r(Ot,"noop");async function Nt(){}r(Nt,"noopAsync");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ja=Number.POSITIVE_INFINITY;function Bn(...t){let e=t.filter(a=>!!a);if(typeof AbortSignal.any=="function")return AbortSignal.any(e);if(e.length===0)return Me();if(e.length===1&&e[0])return e[0];let n=new AbortController;for(let a of e)if(a.aborted)return a;let i=[];for(let a of e)i.push(ef(a,o));return n.signal;function o(a){for(let l of i)l();n.abort(a.reason)}}r(Bn,"abortSignalAny");function Me(){return new AbortController().signal}r(Me,"abortSignalNever");function Qc(t){if(t===ja)return Me();if(typeof AbortSignal.timeout=="function")return AbortSignal.timeout(t);let e=new AbortController;return window.setTimeout(()=>{e.abort(new Error(`Timed out in ${String(t)} milliseconds`))},t),e.signal}r(Qc,"abortSignalTimeout");function ef(t,e){if(t.aborted)return e(t),Ot;return t.addEventListener("abort",n,{once:!0}),()=>{t.removeEventListener("abort",n)};function n(i){e(i.target)}r(n,"wrappedCallback")}r(ef,"onAbort");function tf(t,e){return new Promise((n,i)=>{ef(t,()=>{e?i(t.reason):n(t.reason)})})}r(tf,"waitForAbort");var nl=De(pf(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ri(t,e){let n=t.length,i=0;for(let o=0;o<n;o++){if(!Object.hasOwn(t,o))continue;let a=t[o];e(a,o,t)&&(t[i++]=a)}t.length=i}r(ri,"filterInPlace");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Bt=class{static{r(this,"AsyncEvents")}eventRefsMap=new Map;off(e,n){let i=this.eventRefsMap.get(e);i&&(ri(i,o=>o.callback!==n),i.length===0&&this.eventRefsMap.delete(e))}offref(e){let n=this.eventRefsMap.get(e.name);n&&(ri(n,i=>i!==e),n.length===0&&this.eventRefsMap.delete(e.name))}on(e,n,i){let o=this.eventRefsMap.get(e);o||(o=[],this.eventRefsMap.set(e,o));let a={asyncEvents:this,callback:n,name:e,thisArg:i};return o.push(a),a}once(e,n,i){let o=this.on(e,n,i),a=this.on(e,()=>{this.offref(o),this.offref(a)});return o}trigger(e,...n){let i=this.eventRefsMap.get(e)??[];for(let o of i.slice())this.tryTrigger(o,n)}async triggerAsync(e,...n){let i=this.eventRefsMap.get(e)??[];for(let o of i.slice())await this.tryTriggerAsync(o,n)}tryTrigger(e,n){try{e.callback.apply(e.thisArg,n)}catch(i){window.setTimeout(()=>{throw i},0)}}async tryTriggerAsync(e,n){try{await e.callback.call(e.thisArg,...n)}catch(i){window.setTimeout(()=>{throw i},0)}}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ja="asyncError",co=new Bt;co.on(Ja,$b);var fo="An unhandled error occurred executing async operation",gf="    at",Rt=class t extends Error{static{r(this,"CustomStackTraceError")}constructor(e,n,i){super(e,{cause:i}),this.name="CustomStackTraceError",Error.captureStackTrace?.(this,t);let o=i,a=new Set;for(;o instanceof t;){if(a.has(o))throw new Error("Circular cause detected");a.add(o),o=o.cause}let l=(this.stack??"").split(`
`),c=n.split(`
`);/^\w*Error(?:: |$)/.test(c[0]??"")&&c.splice(0,1),l.splice(1,l.length-1,...c),this.stack=l.join(`
`)}},pr=class t extends Error{static{r(this,"SilentError")}constructor(e){super(e),this.name="SilentError",Error.captureStackTrace?.(this,t)}};function ho(t){co.trigger(Ja,t)}r(ho,"emitAsyncErrorEvent");function po(t){if(!(t instanceof Error))return String(t);let e=t.stack??`${t.name}: ${t.message}`;if(t.cause!==void 0){let n=po(t.cause).split(`
`);e+=`
${mf("Caused by:")}`;for(let i of n)i.trim()&&(e+=i.startsWith(gf)?`
${i}`:`
${mf(i)}`)}return e}r(po,"errorToString");function Ze(t=0){return(new Error().stack??"").split(`
`).slice(t+2).join(`
`)}r(Ze,"getStackTrace");function Vn(t,e){e??=globalThis.console,e.error(po(t))}r(Vn,"printError");function wf(t){let e=co.on(Ja,t);return()=>{co.offref(e)}}r(wf,"registerAsyncErrorEventHandler");function on(t){throw t}r(on,"throwExpression");function mf(t){return`${gf} --- ${t} --- (0)`}r(mf,"generateStackTraceLine");function $b(t){Vn(t)}r($b,"handleAsyncError");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qa="39.0.0",mo="obsidian-dev-utils",yf=`.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component pre, .obsidian-dev-utils.code-highlighter-component code {
  font-family: var(--font-monospace);
  line-height: var(--line-height-normal);
  margin: 0;
}
.obsidian-dev-utils.code-highlighter-component textarea, .obsidian-dev-utils.code-highlighter-component code {
  font-size: var(--code-size);
}
.obsidian-dev-utils.code-highlighter-component textarea {
  background: transparent;
  color: transparent;
  z-index: 2;
  width: 20em;
  height: 10em;
}
.obsidian-dev-utils.code-highlighter-component pre {
  position: absolute;
  pointer-events: none;
  border: var(--input-border-width) solid transparent;
  overflow: auto;
  inset: 0;
  padding: var(--size-4-1) var(--size-4-2);
  z-index: 1;
}
.obsidian-dev-utils.code-highlighter-component pre::after {
  content: "";
  display: block;
  height: var(--bottom-gap, 0);
}
.obsidian-dev-utils.code-highlighter-component pre.is-placeholder {
  opacity: 0.6;
}
.obsidian-dev-utils.code-highlighter-component code {
  display: block;
  padding: 0;
}

.obsidian-dev-utils input[type=url] {
  height: var(--input-height);
}
.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=tel],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=url],
.obsidian-dev-utils input[type=week] {
  -webkit-app-region: no-drag;
  background: var(--background-modifier-form-field);
  border: var(--input-border-width) solid var(--background-modifier-border);
  color: var(--text-normal);
  font-family: inherit;
  padding: var(--size-4-1) var(--size-4-2);
  font-size: var(--font-ui-small);
  border-radius: var(--input-radius);
  outline: none;
}
@media (hover: hover) {
  .obsidian-dev-utils input[type=month]:hover,
  .obsidian-dev-utils input[type=tel]:hover,
  .obsidian-dev-utils input[type=time]:hover,
  .obsidian-dev-utils input[type=url]:hover,
  .obsidian-dev-utils input[type=week]:hover {
    border-color: var(--background-modifier-border-hover);
    transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
  }
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus {
  border-color: var(--background-modifier-border-focus);
  transition: box-shadow 0.15s ease-in-out, border 0.15s ease-in-out;
}
.obsidian-dev-utils input[type=month]:active, .obsidian-dev-utils input[type=month]:focus, .obsidian-dev-utils input[type=month]:focus-visible,
.obsidian-dev-utils input[type=tel]:active,
.obsidian-dev-utils input[type=tel]:focus,
.obsidian-dev-utils input[type=tel]:focus-visible,
.obsidian-dev-utils input[type=time]:active,
.obsidian-dev-utils input[type=time]:focus,
.obsidian-dev-utils input[type=time]:focus-visible,
.obsidian-dev-utils input[type=url]:active,
.obsidian-dev-utils input[type=url]:focus,
.obsidian-dev-utils input[type=url]:focus-visible,
.obsidian-dev-utils input[type=week]:active,
.obsidian-dev-utils input[type=week]:focus,
.obsidian-dev-utils input[type=week]:focus-visible {
  box-shadow: 0 0 0 2px var(--background-modifier-border-focus);
}
.obsidian-dev-utils input[type=month]::placeholder,
.obsidian-dev-utils input[type=tel]::placeholder,
.obsidian-dev-utils input[type=time]::placeholder,
.obsidian-dev-utils input[type=url]::placeholder,
.obsidian-dev-utils input[type=week]::placeholder {
  color: var(--text-faint);
}
.mod-rtl input[type=month],
.mod-rtl input[type=time],
.mod-rtl input[type=week],
.is-rtl input[type=month],
.is-rtl input[type=time],
.is-rtl input[type=week],
.rtl input[type=month],
.rtl input[type=time],
.rtl input[type=week] {
  direction: rtl;
}
.mod-rtl input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl input[type=month]::-webkit-calendar-picker-indicator,
.is-rtl input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl input[type=week]::-webkit-calendar-picker-indicator,
.rtl input[type=month]::-webkit-calendar-picker-indicator,
.rtl input[type=time]::-webkit-calendar-picker-indicator,
.rtl input[type=week]::-webkit-calendar-picker-indicator {
  right: var(--size-4-1);
  left: auto;
}

.obsidian-dev-utils input[type=month],
.obsidian-dev-utils input[type=time],
.obsidian-dev-utils input[type=week] {
  font-variant-numeric: tabular-nums;
  position: relative;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-text,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-text {
  color: var(--text-faint);
  padding-inline-end: 0;
}
.obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  position: absolute;
  left: var(--size-4-1);
  right: auto;
  opacity: 0.5;
}
.obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-month-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-day-field:focus, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:active, .obsidian-dev-utils input[type=month]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=time]::-webkit-datetime-edit-year-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-month-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-day-field:focus,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:active,
.obsidian-dev-utils input[type=week]::-webkit-datetime-edit-year-field:focus {
  background-color: var(--text-selection);
  color: var(--text-normal);
  cursor: text;
}
.mod-rtl .obsidian-dev-utils input[type=month], .is-rtl .obsidian-dev-utils input[type=month], .rtl .obsidian-dev-utils input[type=month],
.mod-rtl .obsidian-dev-utils input[type=time],
.is-rtl .obsidian-dev-utils input[type=time],
.rtl .obsidian-dev-utils input[type=time],
.mod-rtl .obsidian-dev-utils input[type=week],
.is-rtl .obsidian-dev-utils input[type=week],
.rtl .obsidian-dev-utils input[type=week] {
  direction: rtl;
}
.mod-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .is-rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator, .rtl .obsidian-dev-utils input[type=month]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator,
.mod-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.is-rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator,
.rtl .obsidian-dev-utils input[type=week]::-webkit-calendar-picker-indicator {
  left: auto;
  right: var(--size-4-1);
}

body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=month],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=time],
body:not(.is-ios):not(.is-android) .obsidian-dev-utils input[type=week] {
  padding-inline-start: var(--size-4-6);
}

.obsidian-dev-utils input[type=time]::-webkit-calendar-picker-indicator {
  margin-inline-start: 0;
}

.obsidian-dev-utils.modal-container .ok-button {
  margin-right: 10px;
  margin-top: 20px;
}

.obsidian-dev-utils .multiple-dropdown-component select,
.obsidian-dev-utils .multiple-dropdown-component select:focus,
.obsidian-dev-utils .multiple-dropdown-component .dropdown {
  height: auto;
  padding-top: 3px;
}
.obsidian-dev-utils .multiple-dropdown-component select option:checked,
.obsidian-dev-utils .multiple-dropdown-component select:focus option:checked,
.obsidian-dev-utils .multiple-dropdown-component .dropdown option:checked {
  background-color: #1967d2;
  color: #fff;
}

.obsidian-dev-utils.prompt-modal .text-box {
  width: 100%;
}

.obsidian-dev-utils.tri-state-checkbox-component input[type=checkbox]:indeterminate {
  appearance: checkbox;
}

.obsidian-dev-utils :invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils input.metadata-input-text:active:invalid, .obsidian-dev-utils input.metadata-input-text:focus-visible:invalid, .obsidian-dev-utils input.metadata-input-text:focus:invalid,
.obsidian-dev-utils input[type=date]:active:invalid,
.obsidian-dev-utils input[type=date]:focus-visible:invalid,
.obsidian-dev-utils input[type=date]:focus:invalid,
.obsidian-dev-utils input[type=datetime-local]:active:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus-visible:invalid,
.obsidian-dev-utils input[type=datetime-local]:focus:invalid,
.obsidian-dev-utils input[type=email]:active:invalid,
.obsidian-dev-utils input[type=email]:focus-visible:invalid,
.obsidian-dev-utils input[type=email]:focus:invalid,
.obsidian-dev-utils input[type=number]:active:invalid,
.obsidian-dev-utils input[type=number]:focus-visible:invalid,
.obsidian-dev-utils input[type=number]:focus:invalid,
.obsidian-dev-utils input[type=password]:active:invalid,
.obsidian-dev-utils input[type=password]:focus-visible:invalid,
.obsidian-dev-utils input[type=password]:focus:invalid,
.obsidian-dev-utils input[type=search]:active:invalid,
.obsidian-dev-utils input[type=search]:focus-visible:invalid,
.obsidian-dev-utils input[type=search]:focus:invalid,
.obsidian-dev-utils input[type=text]:active:invalid,
.obsidian-dev-utils input[type=text]:focus-visible:invalid,
.obsidian-dev-utils input[type=text]:focus:invalid,
.obsidian-dev-utils textarea:active:invalid,
.obsidian-dev-utils textarea:focus-visible:invalid,
.obsidian-dev-utils textarea:focus:invalid {
  box-shadow: 0 0 0 2px var(--text-error);
}
.obsidian-dev-utils.setting-component-wrapper {
  position: relative;
  display: inline-flex;
}
.obsidian-dev-utils.overlay-validator {
  caret-color: transparent;
  cursor: default;
  position: absolute;
  background-color: transparent;
  border: none;
  outline: none;
  pointer-events: none;
  z-index: 9999;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
}
.obsidian-dev-utils.tooltip.tooltip-validator {
  position: absolute;
  top: calc(100% + 8px);
  width: max-content;
}

/*# sourceMappingURL=data:application/json;charset=utf-8,%7B%22version%22:3,%22sourceRoot%22:%22%22,%22sources%22:%5B%22../src/styles/code-highlighter-component.scss%22,%22../src/styles/input.scss%22,%22../src/styles/input-time.scss%22,%22../src/styles/modal-container.scss%22,%22../src/styles/multiple-dropdown-component.scss%22,%22../src/styles/prompt-modal.scss%22,%22../src/styles/tri-state-checkbox-component.scss%22,%22../src/styles/validation.scss%22%5D,%22names%22:%5B%5D,%22mappings%22:%22AAEI;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA;;AAGF;EACE;;AAGF;EACE;EACA;;;ACzCJ;EACE;;AAGF;AAAA;AAAA;AAAA;AAAA;EAKE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGE;EACE;AAAA;AAAA;AAAA;AAAA;IACE;IACA,YACE;;;AAMR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA,YACE;;AAIJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAGF;AAAA;AAAA;AAAA;AAAA;EACE;;AASE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGE;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AC7DV;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;AAGF;AAAA;AAAA;EACE;EACA;EACA;EACA;;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAEE;EACA;EACA;;AAIK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EAGP;;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EACE;EACA;;;AAKF;AAAA;AAAA;EACE;;;AAMJ;EACE;;;AChDF;EACE;EACA;;;ACFF;AAAA;AAAA;EAGE;EACA;;AAEA;AAAA;AAAA;EACE;EACA;;;ACRJ;EACE;;;ACDF;EACE;;;ACEJ;EAJA;;AAoBI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;EApBJ;;AA0BA;EACE;EACA;;AAGF;EACE;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;AAGF;EACE;EACA;EACA%22,%22file%22:%22styles.css%22,%22sourcesContent%22:%5B%22.obsidian-dev-utils%20%7B%5Cn%20%20&.code-highlighter-component%20%7B%5Cn%20%20%20%20textarea,%20pre,%20code%20%7B%5Cn%20%20%20%20%20%20font-family:%20var(--font-monospace);%5Cn%20%20%20%20%20%20line-height:%20var(--line-height-normal);%5Cn%20%20%20%20%20%20margin:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea,%20code%20%7B%5Cn%20%20%20%20%20%20font-size:%20var(--code-size);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20textarea%20%7B%5Cn%20%20%20%20%20%20background:%20transparent;%5Cn%20%20%20%20%20%20color:%20transparent;%5Cn%20%20%20%20%20%20z-index:%202;%5Cn%20%20%20%20%20%20width:%2020em;%5Cn%20%20%20%20%20%20height:%2010em;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20%20%20border:%20var(--input-border-width)%20solid%20transparent;%5Cn%20%20%20%20%20%20overflow:%20auto;%5Cn%20%20%20%20%20%20inset:%200;%5Cn%20%20%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20%20%20z-index:%201;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre::after%20%7B%5Cn%20%20%20%20%20%20content:%20%5C%22%5C%22;%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20height:%20var(--bottom-gap,%200);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20pre.is-placeholder%20%7B%5Cn%20%20%20%20%20%20opacity:%200.6;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20code%20%7B%5Cn%20%20%20%20%20%20display:%20block;%5Cn%20%20%20%20%20%20padding:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='url'%5D%20%7B%5Cn%20%20%20%20height:%20var(--input-height)%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='tel'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='url'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20-webkit-app-region:%20no-drag;%5Cn%20%20%20%20background:%20var(--background-modifier-form-field);%5Cn%20%20%20%20border:%20var(--input-border-width)%20solid%20var(--background-modifier-border);%5Cn%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20font-family:%20inherit;%5Cn%20%20%20%20padding:%20var(--size-4-1)%20var(--size-4-2);%5Cn%20%20%20%20font-size:%20var(--font-ui-small);%5Cn%20%20%20%20border-radius:%20var(--input-radius);%5Cn%20%20%20%20outline:%20none;%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20@media%20(hover:%20hover)%20%7B%5Cn%20%20%20%20%20%20%20%20&:hover%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20border-color:%20var(--background-modifier-border-hover);%5Cn%20%20%20%20%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20border-color:%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%20%20transition:%5Cn%20%20%20%20%20%20%20%20box-shadow%200.15s%20ease-in-out,%5Cn%20%20%20%20%20%20%20%20border%200.15s%20ease-in-out;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus,%5Cn%20%20%20%20&:focus-visible%20%7B%5Cn%20%20%20%20%20%20box-shadow:%200%200%200%202px%20var(--background-modifier-border-focus);%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::placeholder%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20@at-root%20%7B%5Cn%20%20%20%20.mod-rtl,%5Cn%20%20%20%20.is-rtl,%5Cn%20%20%20%20.rtl%20%7B%5Cn%20%20%20%20%20%20&%20%7B%5Cn%20%20%20%20%20%20%20%20input%5Btype='month'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='time'%5D,%5Cn%20%20%20%20%20%20%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20input%5Btype='month'%5D,%5Cn%20%20input%5Btype='time'%5D,%5Cn%20%20input%5Btype='week'%5D%20%7B%5Cn%20%20%20%20font-variant-numeric:%20tabular-nums;%5Cn%20%20%20%20position:%20relative;%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-text%20%7B%5Cn%20%20%20%20%20%20color:%20var(--text-faint);%5Cn%20%20%20%20%20%20padding-inline-end:%200;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20position:%20absolute;%5Cn%20%20%20%20%20%20left:%20var(--size-4-1);%5Cn%20%20%20%20%20%20right:%20auto;%5Cn%20%20%20%20%20%20opacity:%200.5;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20&::-webkit-datetime-edit-month-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-day-field,%5Cn%20%20%20%20&::-webkit-datetime-edit-year-field%20%7B%5Cn%20%20%20%20%20%20&:active,%5Cn%20%20%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20var(--text-selection);%5Cn%20%20%20%20%20%20%20%20color:%20var(--text-normal);%5Cn%20%20%20%20%20%20%20%20cursor:%20text;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20.mod-rtl%20&,%5Cn%20%20%20%20%20%20.is-rtl%20&,%5Cn%20%20%20%20%20%20.rtl%20&%20%7B%5Cn%20%20%20%20%20%20direction:%20rtl;%5Cn%5Cn%20%20%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20%20%20left:%20auto;%5Cn%20%20%20%20%20%20%20%20right:%20var(--size-4-1);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20@at-root%20%7B%5Cn%20%20%20%20%20%20body:not(.is-ios):not(.is-android)%20&%20%7B%5Cn%20%20%20%20%20%20%20%20padding-inline-start:%20var(--size-4-6);%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20input%5Btype='time'%5D%20%7B%5Cn%20%20%20%20&::-webkit-calendar-picker-indicator%20%7B%5Cn%20%20%20%20%20%20margin-inline-start:%200;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.modal-container%20%7B%5Cn%20%20%20%20.ok-button%20%7B%5Cn%20%20%20%20%20%20margin-right:%2010px;%5Cn%20%20%20%20%20%20margin-top:%2020px;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20.multiple-dropdown-component%20%7B%5Cn%20%20%20%20select,%5Cn%20%20%20%20select:focus,%5Cn%20%20%20%20.dropdown%20%7B%5Cn%20%20%20%20%20%20height:%20auto;%5Cn%20%20%20%20%20%20padding-top:%203px;%5Cn%5Cn%20%20%20%20%20%20option:checked%20%7B%5Cn%20%20%20%20%20%20%20%20background-color:%20%231967d2;%5Cn%20%20%20%20%20%20%20%20color:%20%23fff;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cn%20%20&.prompt-modal%20%7B%5Cn%20%20%20%20.text-box%20%7B%5Cn%20%20%20%20%20%20width:%20100%25;%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%7D%5Cn%22,%22.obsidian-dev-utils%20%7B%5Cr%5Cn%20%20&.tri-state-checkbox-component%20%7B%5Cr%5Cn%20%20%20%20input%5Btype='checkbox'%5D:indeterminate%20%7B%5Cr%5Cn%20%20%20%20%20%20appearance:%20checkbox;%5Cr%5Cn%20%20%20%20%7D%5Cr%5Cn%20%20%7D%5Cr%5Cn%7D%5Cr%5Cn%22,%22@mixin%20invalid%20%7B%5Cn%20%20box-shadow:%200%200%200%202px%20var(--text-error);%5Cn%7D%5Cn%5Cn.obsidian-dev-utils%20%7B%5Cn%20%20:invalid%20%7B%5Cn%20%20%20%20@include%20invalid;%5Cn%20%20%7D%5Cn%5Cn%20%20input.metadata-input-text,%5Cn%20%20input%5Btype='date'%5D,%5Cn%20%20input%5Btype='datetime-local'%5D,%5Cn%20%20input%5Btype='email'%5D,%5Cn%20%20input%5Btype='number'%5D,%5Cn%20%20input%5Btype='password'%5D,%5Cn%20%20input%5Btype='search'%5D,%5Cn%20%20input%5Btype='text'%5D,%5Cn%20%20textarea%20%7B%5Cn%20%20%20%20&:active,%5Cn%20%20%20%20&:focus-visible,%5Cn%20%20%20%20&:focus%20%7B%5Cn%20%20%20%20%20%20&:invalid%20%7B%5Cn%20%20%20%20%20%20%20%20@include%20invalid;%5Cn%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%7D%5Cn%5Cn%20%20&.setting-component-wrapper%20%7B%5Cn%20%20%20%20position:%20relative;%5Cn%20%20%20%20display:%20inline-flex;%5Cn%20%20%7D%5Cn%5Cn%20%20&.overlay-validator%20%7B%5Cn%20%20%20%20caret-color:%20transparent;%5Cn%20%20%20%20cursor:%20default;%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20background-color:%20transparent;%5Cn%20%20%20%20border:%20none;%5Cn%20%20%20%20outline:%20none;%5Cn%20%20%20%20pointer-events:%20none;%5Cn%20%20%20%20z-index:%209999;%5Cn%20%20%20%20left:%200;%5Cn%20%20%20%20top:%200;%5Cn%20%20%20%20width:%20100%25;%5Cn%20%20%20%20height:%20100%25;%5Cn%20%20%7D%5Cn%5Cn%20%20&.tooltip.tooltip-validator%20%7B%5Cn%20%20%20%20position:%20absolute;%5Cn%20%20%20%20top:%20calc(100%25%20+%208px);%5Cn%20%20%20%20width:%20max-content;%5Cn%20%20%7D%5Cn%7D%5Cn%22%5D%7D */
`;r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var el=class{static{r(this,"ValueWrapper")}constructor(e){this.value=e}};function Vb(){try{return globalThis.require("obsidian/app")}catch{return globalThis.app??on(new Error("Obsidian app not found"))}}r(Vb,"getApp");function sn(t,e,n){let o=t??Yb()??globalThis;return o.obsidianDevUtilsState??={},o.obsidianDevUtilsState[e]??=new el(n)}r(sn,"getObsidianDevUtilsState");function Yb(){return typeof window>"u"?null:Vb()}r(Yb,"getAppOrNull");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var tl="__no-plugin-id-initialized__",bf=tl;function go(){return bf}r(go,"getPluginId");function kf(t){t&&(bf=t)}r(kf,"setPluginId");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Af=",",wo="-";function vf(){return{disable:Wb,enable:Ub,get:yo,set:ii}}r(vf,"getDebugController");function mr(t,e=0){let n=`${t}:${String(e)}`,i=sn(null,"debuggers",new Map).value,o=i.get(n);return o||(o=oi()(t),o.log=(a,...l)=>{zb(t,e,a,...l)},i.set(n,o)),o}r(mr,"getDebugger");function ct(t){let e=go(),n=e===tl?"":`${e}:`;return mr(`${n}${mo}:${t}`)}r(ct,"getLibDebugger");function an(t,e,n,...i){if(!Cf()){t(n,...i);return}t(n,...i,`

---
Context stack trace:
`,xf(e))}r(an,"printWithStackTrace");function Ef(t){let e=oi().enabled(t),n=e?"enabled":"disabled",i=e?"disable":"enable",o=yo();ii(t),mr(t)(`Debug messages for plugin ${t} are ${n}. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md how to ${i} them.`),ii(o)}r(Ef,"showInitialDebugMessage");function Wb(t){let e=new Set(yo());for(let n of si(t)){if(n.startsWith(wo))continue;let i=wo+n;e.has(n)&&e.delete(n),e.add(i)}ii(Array.from(e))}r(Wb,"disableNamespaces");function Ub(t){let e=new Set(yo());for(let n of si(t)){if(!n.startsWith(wo)){let i=wo+n;e.has(i)&&e.delete(i)}e.add(n)}ii(Array.from(e))}r(Ub,"enableNamespaces");function yo(){return si(oi().load()??"")}r(yo,"getNamespaces");function oi(){return typeof window>"u"?nl.default:sn(null,"debug",nl.default).value}r(oi,"getSharedDebugLibInstance");function Cf(){return typeof window<"u"}r(Cf,"isInObsidian");function zb(t,e,n,...i){if(!oi().enabled(t))return;if(!Cf()){console.debug(n,...i);return}let o=4,a=new Error().stack?.split(`
`)??[];a.splice(0,o+e),console.debug(n,...i,`

---
Logger stack trace:
`,xf(a.join(`
`)))}r(zb,"logWithCaller");function xf(t){return new Rt("Debug mode: intentional placeholder error. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md.",t,void 0)}r(xf,"makeStackTraceError");function ii(t){oi().enable(si(t).join(Af))}r(ii,"setNamespaces");function si(t){return typeof t=="string"?t.split(Af).filter(Boolean):t.flatMap(si)}r(si,"toArray");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function rl(t,e){e??=Ze(1);try{await t()}catch(n){let i=new Rt(fo,e,n);if(Hb(i))return;ho(i)}}r(rl,"addErrorHandler");function Je(t,e){return e??=Ze(1),(...n)=>{let i=Ze(1);e=`${e??""}
    at --- convertAsyncToSync --- (0)
${i}`,ge(()=>t(...n),e)}}r(Je,"convertAsyncToSync");function ge(t,e){e??=Ze(1),rl(t,e)}r(ge,"invokeAsyncSafely");function Tf(t,e=0,n,i){i??=Me(),i.throwIfAborted(),n??=Ze(1),ge(async()=>{await ol(e,i,!0),await t(i)},n)}r(Tf,"invokeAsyncSafelyAfterDelay");function Hb(t){let e=t;for(;!(e instanceof pr);){if(!(e instanceof Error))return!1;e=e.cause}return ct("Async:handleSilentError")(t),!0}r(Hb,"handleSilentError");var Gb=new WeakSet;async function Sf(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}r(Sf,"requestAnimationFrameAsync");async function bo(t,e,n){let i=ct("Async:retryWithTimeout");n??=Ze(1);let a={...{retryDelayInMilliseconds:100,shouldRetryOnError:!1,timeoutInMilliseconds:5e3},...e};a.abortSignal?.throwIfAborted(),await il(a.timeoutInMilliseconds,async l=>{let c=Bn(a.abortSignal,l);c.throwIfAborted();let f=0;for(;!c.aborted;){f++;let p;try{p=await t(c)}catch(h){if(c.aborted||!a.shouldRetryOnError||Gb.has(h))throw new Rt("retryWithTimeout failed",n,h);Vn(h),p=!1}if(p){an(i,n,`Retry completed successfully after ${String(f)} attempts`,{fn:t});return}an(i,n,`Retry attempt ${String(f)} completed unsuccessfully. Trying again in ${String(a.retryDelayInMilliseconds)} milliseconds`,{fn:t}),await ol(a.retryDelayInMilliseconds,l)}},{retryFn:t},n)}r(bo,"retryWithTimeout");async function il(t,e,n,i){class o{static{r(this,"Wrapper")}constructor(h){this.value=h}}i??=Ze(1);let a=performance.now(),l=new AbortController;if(await Promise.race([c(),f()]),l.signal.reason instanceof o)return l.signal.reason.value;throw new Rt("Run with timeout failed",i,l.signal.reason);async function c(){try{let p=await e(l.signal),h=performance.now()-a,g=ct("Async:runWithTimeout");an(g,i??"",`Execution time: ${String(h)} milliseconds`,{context:n,fn:e}),l.abort(new o(p))}catch(p){l.abort(p)}}async function f(){for(;!l.signal.aborted;){if(await ol(t,l.signal),l.signal.aborted)return;let p=performance.now()-a;console.warn(`Timed out after ${String(p)} milliseconds`,{context:n,fn:e});let h=ct("Async:runWithTimeout:timeout");if(!h.enabled){l.abort(new Error(`Timed out after ${String(p)} milliseconds`));return}h(`The execution is not terminated because debugger ${h.namespace} is enabled. See https://github.com/mnaoumov/obsidian-dev-utils/blob/main/docs/debugging.md for more information.`)}}}r(il,"runWithTimeout");async function ol(t,e,n){await tf(Bn(e,Qc(t))),n&&e?.throwIfAborted()}r(ol,"sleep");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function qb(t){return await new Promise(e=>{let n=new FileReader;n.addEventListener("loadend",i),n.readAsDataURL(t);function i(){e(n.result)}r(i,"handleLoadEnd")})}r(qb,"blobToDataUrl");async function Ff(t,e){let n=await qb(t);return new Promise(i=>{let o=new Image;o.addEventListener("load",a),o.src=n;function a(){let l=document.createElement("canvas"),c=l.getContext("2d");if(!c)throw new Error("Could not get 2D context.");let f=o.width,p=o.height;l.width=f,l.height=p,c.fillStyle="#fff",c.fillRect(0,0,f,p),c.save();let h=.5;c.translate(f*h,p*h),c.drawImage(o,0,0,f,p,-f*h,-p*h,f,p),c.restore();let g=l.toDataURL("image/jpeg",e),y=jb(g);i(y)}r(a,"handleLoad")})}r(Ff,"blobToJpegArrayBuffer");function jb(t){let n=t.split(";base64,")[1];if(!n)throw new Error("Invalid data URL");let i=window.atob(n),o=i.length,a=new Uint8Array(o);for(let l=0;l<o;l++)a[l]=i.charCodeAt(l);return a.buffer}r(jb,"dataUrlToArrayBuffer");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ko(t){return t.replaceAll(/[.*+?^${}()|[\]\\]/g,"\\$&")}r(ko,"escapeRegExp");function Pf(t){try{return new RegExp(t),!0}catch{return!1}}r(Pf,"isValidRegExp");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Yn(t,e,...n){return e??=Me(),e.throwIfAborted(),Kb(t)?await t(e,...n):t}r(Yn,"resolveValue");function Kb(t){return typeof t=="function"}r(Kb,"isFunction");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Xb={"\n":"\\n","\r":"\\r","	":"\\t","\b":"\\b","\f":"\\f","'":"\\'",'"':'\\"',"\\":"\\\\"};var Zb={};for(let[t,e]of Object.entries(Xb))Zb[e]=t;function If(t,e,n,i){return i??=n,t.slice(0,n)+e+t.slice(i)}r(If,"insertAt");function ai(t){return Ae(t,/\u00A0|\u202F/g," ").normalize("NFC")}r(ai,"normalize");function Ae(t,e,n){return typeof n>"u"?t:(e instanceof RegExp&&!e.global&&(e=new RegExp(e.source,`${e.flags}g`)),typeof n=="string"?t.replaceAll(e,n):t.replaceAll(e,(i,...o)=>{let l=typeof o.at(-1)=="object",c=l?o.length-2:o.length-1,f={groups:l?o.at(-1):void 0,missingGroupIndices:[],offset:o.at(c-1),source:o.at(c),substring:i},p=o.slice(0,c-1).map((h,g)=>{if(typeof h=="string")return h;if(typeof h>"u")return f.missingGroupIndices.push(g),"";throw new Error(`Unexpected argument type: ${typeof h}`)});return n(f,...p)??f.substring}))}r(Ae,"replaceAll");async function _f(t,e,n,i){if(i??=Me(),i.throwIfAborted(),typeof n=="string")return Ae(t,e,n);let o=[];Ae(t,e,(l,...c)=>(o.push(()=>Yn(n,i,l,...c)),""));let a=[];for(let l of o)i.throwIfAborted(),a.push(await l());return i.throwIfAborted(),Ae(t,e,l=>a.shift()??l.substring)}r(_f,"replaceAllAsync");function gr(t,e,n){if(t.endsWith(e))return t.slice(0,-e.length);if(n)throw new Error(`String ${t} does not end with suffix ${e}`);return t}r(gr,"trimEnd");function wr(t,e,n){if(t.startsWith(e))return t.slice(e.length);if(n)throw new Error(`String ${t} does not start with prefix ${e}`);return t}r(wr,"trimStart");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Of=".",Jb=[{constructor:ArrayBuffer,equalityComparer:ek},{constructor:Date,equalityComparer:tk},{constructor:RegExp,equalityComparer:rk},{constructor:Map,equalityComparer:nk},{constructor:Set,equalityComparer:ik}];function yt(t,e){if(t===e)return!0;if(typeof t!="object"||typeof e!="object"||t===null||e===null)return!1;let n=t.constructor,i=e.constructor;if(n!==i)return!1;if(n!==Object){let f=ok(t,e);if(f!==void 0)return f}let o=yr(t),a=yr(e);if(o.length!==a.length)return!1;let l=t,c=e;for(let f of o)if(!a.includes(f)||!yt(l[f],c[f]))return!1;return!0}r(yt,"deepEqual");function Rf(t){return typeof t!="object"||t===null?t:"default"in t?t.default:t}r(Rf,"extractDefaultExportInterop");function yr(t){let e=[],n=t;for(;n;){let i=Object.getOwnPropertyDescriptors(n);for(let[o,a]of Object.entries(i)){if(o==="__proto__"||typeof a.value=="function")continue;let l=typeof a.get=="function",c=typeof a.set=="function";if(l||c){l&&c&&e.push(o);continue}a.enumerable&&a.writable&&e.push(o)}n=Object.getPrototypeOf(n)}return e.sort()}r(yr,"getAllKeys");function An(t,e){let n=t,i=e.split(Of);for(let o of i){if(n===void 0)return;n=n[o]}return n}r(An,"getNestedPropertyValue");function al(t){return t==null?t:Object.getPrototypeOf(t)}r(al,"getPrototypeOf");function Ao(t,e){for(let[n,i]of Object.entries(t))i===void 0&&!e?.includes(n)&&delete t[n];return t}r(Ao,"removeUndefinedProperties");function ll(t,e,n){let i=new Error(`Property path ${e} not found`),o=t,a=e.split(Of);for(let c of a.slice(0,-1)){if(o===void 0)throw i;o=o[c]}let l=a.at(-1);if(o===void 0||l===void 0)throw i;o[l]=n}r(ll,"setNestedPropertyValue");function br(t,e={}){let n={functionHandlingMode:"exclude",maxDepth:-1,shouldCatchToJSONErrors:!1,shouldHandleCircularReferences:!1,shouldHandleErrors:!1,shouldHandleUndefined:!1,shouldSortKeys:!1,space:2,tokenSubstitutions:{circularReference:sl("CircularReference"),maxDepthLimitReached:sl("MaxDepthLimitReached"),toJSONFailed:sl("ToJSONFailed")}},i={...n,...e,tokenSubstitutions:{...n.tokenSubstitutions,...e.tokenSubstitutions}};i.maxDepth===-1&&(i.maxDepth=1/0);let o=[],l=vo(t,"",0,!0,i,o,new WeakSet),c=JSON.stringify(l,null,i.space)??"";return c=Ae(c,/"\[\[(?<Key>[A-Za-z]+)(?<Index>\d*)\]\]"/g,(f,p,h)=>Qb({functionTexts:o,index:h?parseInt(h,10):0,key:p,substitutions:i.tokenSubstitutions})),c}r(br,"toJson");function Qb(t){switch(t.key){case"CircularReference":return t.substitutions.circularReference;case"Function":return t.functionTexts[t.index]??on(new Error(`Function with index ${String(t.index)} not found`));case"MaxDepthLimitReached":return t.substitutions.maxDepthLimitReached;case"MaxDepthLimitReachedArray":return`Array(${String(t.index)})`;case"ToJSONFailed":return t.substitutions.toJSONFailed;case"Undefined":return"undefined";default:break}}r(Qb,"applySubstitutions");function ek(t,e){if(t.byteLength!==e.byteLength)return!1;let n=new Uint8Array(t),i=new Uint8Array(e);return yt(n,i)}r(ek,"deepEqualArrayBuffer");function tk(t,e){return t.getTime()===e.getTime()}r(tk,"deepEqualDate");function nk(t,e){if(t.size!==e.size)return!1;for(let[n,i]of t.entries())if(!e.has(n)||!yt(i,e.get(n)))return!1;return!0}r(nk,"deepEqualMap");function rk(t,e){return t.source===e.source&&t.flags===e.flags}r(rk,"deepEqualRegExp");function ik(t,e){if(t.size!==e.size)return!1;for(let n of t){if(e.has(n))continue;let i=!1;for(let o of e)if(yt(n,o)){i=!0;break}if(!i)return!1}return!0}r(ik,"deepEqualSet");function ok(t,e){for(let{constructor:n,equalityComparer:i}of Jb)if(t instanceof n&&e instanceof n)return i(t,e)}r(ok,"deepEqualTyped");function sk(t,e,n,i,o,a){return e>i.maxDepth?kr("MaxDepthLimitReachedArray",t.length):t.map((l,c)=>vo(l,String(c),e+1,n,i,o,a))}r(sk,"handleArray");function ak(t,e,n){if(n.shouldHandleCircularReferences)return kr("CircularReference");let i=t.constructor.name||"Object";throw new TypeError(`Converting circular structure to JSON
--> starting at object with constructor '${i}'
--- property '${e}' closes the circle`)}r(ak,"handleCircularReference");function lk(t,e,n){if(n.functionHandlingMode==="exclude")return;let i=e.length,o=n.functionHandlingMode==="full"?String(t):`function ${t.name||"anonymous"}() { /* ... */ }`;return e.push(o),kr("Function",i)}r(lk,"handleFunction");function uk(t,e,n,i,o,a,l){if(l.has(t))return ak(t,e,o);if(l.add(t),i){let c=fk(t,e,n,o,a,l);if(c!==void 0)return c}return Array.isArray(t)?sk(t,n,i,o,a,l):n>o.maxDepth?kr("MaxDepthLimitReached"):t instanceof Error&&o.shouldHandleErrors?po(t):ck(t,n,i,o,a,l)}r(uk,"handleObject");function ck(t,e,n,i,o,a){let l=Object.entries(t);return i.shouldSortKeys&&l.sort(([c],[f])=>c.localeCompare(f)),Object.fromEntries(l.map(([c,f])=>[c,vo(f,c,e+1,n,i,o,a)]))}r(ck,"handlePlainObject");function sl(t){return`{ "[[${t}]]": null }`}r(sl,"makeObjectTokenSubstitution");function kr(t,e){return`[[${t}${e?String(e):""}]]`}r(kr,"makePlaceholder");function vo(t,e,n,i,o,a,l){return t===void 0?n===0||o.shouldHandleUndefined?kr("Undefined"):void 0:typeof t=="function"?lk(t,a,o):typeof t!="object"||t===null?t:uk(t,e,n,i,o,a,l)}r(vo,"toPlainObject");function fk(t,e,n,i,o,a){let l=t.toJSON;if(typeof l=="function")try{let c=l.call(t,e);return vo(c,e,n,!1,i,o,a)}catch(c){if(i.shouldCatchToJSONErrors)return kr("ToJSONFailed");throw c}}r(fk,"tryHandleToJSON");var dk=require("obsidian"),Mf=require("obsidian"),Lf=require("obsidian"),oS=require("obsidian"),sS=require("obsidian");var Df=class{static{r(this,"CustomArrayDictImpl")}data=new Map;add(t,e){let n=this.get(t);n||(n=[],this.data.set(t,n)),n.includes(e)||n.push(e)}remove(t,e){let n=this.get(t);n&&(n.remove(e),n.length===0&&this.clear(t))}get(t){return this.data.get(t)||null}keys(){return Array.from(this.data.keys())}clear(t){this.data.delete(t)}clearAll(){this.data.clear()}contains(t,e){return!!this.get(t)?.contains(e)}count(){let t=0;for(let e of this.keys())t+=this.get(e)?.length??0;return t}};var bt={AudioRecorder:"audio-recorder",Backlink:"backlink",Bases:"bases",Bookmarks:"bookmarks",Canvas:"canvas",CommandPalette:"command-palette",DailyNotes:"daily-notes",EditorStatus:"editor-status",FileExplorer:"file-explorer",FileRecovery:"file-recovery",Footnotes:"footnotes",GlobalSearch:"global-search",Graph:"graph",MarkdownImporter:"markdown-importer",NoteComposer:"note-composer",OutgoingLink:"outgoing-link",Outline:"outline",PagePreview:"page-preview",Properties:"properties",Publish:"publish",RandomNote:"random-note",SlashCommand:"slash-command",Slides:"slides",Switcher:"switcher",Sync:"sync",TagPane:"tag-pane",Templates:"templates",Webviewer:"webviewer",WordCount:"word-count",Workspaces:"workspaces",ZkPrefixer:"zk-prefixer"},li={AllProperties:"all-properties",Audio:"audio",Backlink:bt.Backlink,Bases:bt.Bases,Bookmarks:bt.Bookmarks,Canvas:bt.Canvas,Empty:"empty",FileExplorer:bt.FileExplorer,FileProperties:"file-properties",Graph:bt.Graph,Image:"image",LocalGraph:"localgraph",Markdown:"markdown",OutgoingLink:bt.OutgoingLink,Outline:bt.Outline,Pdf:"pdf",ReleaseNotes:"release-notes",Search:"search",Sync:"sync",Table:"table",Tag:"tag",Video:"video",Webviewer:"webviewer",WebviewerHistory:"webviewer-history"};function hk(){return Mf.TFile}r(hk,"getTFileConstructor");function pk(){return Lf.TFolder}r(pk,"getTFolderConstructor");function kt(t){return t.replace(/\/?[^\/]*$/,"")||"/"}r(kt,"parentFolderPath");function Eo(t,e){let n=t.vault.getFolderByPath(e);return n||(n=new(pk())(t.vault,e),n.parent=Eo(t,kt(e)),n.deleted=!0,n)}r(Eo,"createTFolderInstance");function Nf(t,e){let n=t.vault.getFileByPath(e);return n||(n=new(hk())(t.vault,e),n.parent=Eo(t,kt(e)),n.deleted=!0,n)}r(Nf,"createTFileInstance");function ln(t){return!!t.position}r(ln,"isReferenceCache");function ft(t){return!!t.key}r(ft,"isFrontmatterLinkCache");var ul=De(Vf(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var gk=/[a-zA-Z]:\/[^:]*$/,Vt=ul.default.posix,pS=Vt.delimiter,mS=ul.default.posix.sep,Te=Vt.basename,we=Vt.dirname,Ye=Vt.extname,gS=Vt.format;var ve=Vt.join,wS=Vt.normalize,yS=Vt.parse,vr=Vt.relative;function Yt(t,e){return e?`${t}.${e}`:t}r(Yt,"makeFileName");function Yf(...t){let e=Vt.resolve(...t);return e=wk(e),gk.exec(e)?.[0]??e}r(Yf,"resolve");function wk(t){return Ae(t,"\\","/")}r(wk,"toPosixPath");var un=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var yk="base",bk="canvas",Uf="md";function cl(t,e,n){if(At(e))return e.extension===n;if(typeof e=="string"){let i=st(t,e);return i?i.extension===n:Ye(e).slice(1)===n}return!1}r(cl,"checkExtension");function Wn(t,e,n){if(e===null)return null;if(zf(e))return e;let i=Wf(t,e,n);if(i)return i;let o=Gf(e);return o===e?null:Wf(t,o,n)}r(Wn,"getAbstractFileOrNull");function Pe(t,e,n,i){let o=st(t,e,i);if(!o)if(n)o=Nf(t,e);else throw new Error(`File not found: ${e}`);return o}r(Pe,"getFile");function st(t,e,n){let i=Wn(t,e,n);return At(i)?i:null}r(st,"getFileOrNull");function ui(t,e,n,i){let o=Wt(t,e,i);if(!o)if(n)o=Eo(t,e);else throw new Error(`Folder not found: ${e}`);return o}r(ui,"getFolder");function Wt(t,e,n){let i=Wn(t,e,n);return fl(i)?i:null}r(Wt,"getFolderOrNull");function Ee(t,e){if(zf(e))return e.path;let n=Wn(t,e);return n?n.path:Gf(e)}r(Ee,"getPath");function zf(t){return t instanceof un.TAbstractFile}r(zf,"isAbstractFile");function kk(t,e){return cl(t,e,yk)}r(kk,"isBaseFile");function cn(t,e){return cl(t,e,bk)}r(cn,"isCanvasFile");function At(t){return t instanceof un.TFile}r(At,"isFile");function fl(t){return t instanceof un.TFolder}r(fl,"isFolder");function fn(t,e){return cl(t,e,Uf)}r(fn,"isMarkdownFile");function ci(t,e){return fn(t,e)||cn(t,e)||kk(t,e)}r(ci,"isNote");function Hf(t,e){return fn(t,e)?gr(e.path,`.${Uf}`):e.path}r(Hf,"trimMarkdownExtension");function Wf(t,e,n){return n?t.vault.getAbstractFileByPathInsensitive(e):t.vault.getAbstractFileByPath(e)}r(Wf,"getFileInternal");function Gf(t){return(0,un.normalizePath)(Yf("/",t))}r(Gf,"getResolvedPath");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var vn="__DUMMY__";async function dl(t,e,n,i){let o=Ee(t,e),a=Ee(t,n),l=Pe(t,a,!0),c=Ye(o),f=Te(o,c),p=t.vault.getAvailablePathForAttachments;return p.isExtended?p(f,c.slice(1),l,!0,i):await hl(t,f,c.slice(1),l,!0,i)}r(dl,"getAttachmentFilePath");async function Er(t,e){return kt(await dl(t,vn,e,!0))}r(Er,"getAttachmentFolderPath");async function hl(t,e,n,i,o,a){let l=t.vault.getConfig("attachmentFolderPath"),c=l==="."||l==="./",f=null;l.startsWith("./")&&(f=wr(l,"./")),c?l=i?i.parent?.path??"":"":f&&(l=(i?i.parent?.getParentPrefix()??"":"")+f),l=ai(qf(l)),e=ai(qf(e));let p=Wt(t,l,!0);!p&&f&&(o?p=ui(t,l,!0):p=await t.vault.createFolder(l));let h=p?.getParentPrefix()??"";return a?Yt(h+e,n):t.vault.getAvailablePath(h+e,n)}r(hl,"getAvailablePathForAttachments");async function pl(t,e){let n=await Er(t,e),i=await Er(t,ve(we(e),"DUMMY_FILE.md"));return n!==i}r(pl,"hasOwnAttachmentFolder");function qf(t){return t=Ae(t,/(?:[\\/])+/g,"/"),t=Ae(t,/^\/+|\/+$/g,""),t||"/"}r(qf,"normalizeSlashes");var ts=require("obsidian");var Ak={};function Un(t,e){let n=e||Ak,i=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,o=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return Kf(t,i,o)}r(Un,"toString");function Kf(t,e,n){if(vk(t)){if("value"in t)return t.type==="html"&&!n?"":t.value;if(e&&"alt"in t&&t.alt)return t.alt;if("children"in t)return jf(t.children,e,n)}return Array.isArray(t)?jf(t,e,n):""}r(Kf,"one");function jf(t,e,n){let i=[],o=-1;for(;++o<t.length;)i[o]=Kf(t[o],e,n);return i.join("")}r(jf,"all");function vk(t){return!!(t&&typeof t=="object")}r(vk,"node");var Xf=document.createElement("i");function Cr(t){let e="&"+t+";";Xf.innerHTML=e;let n=Xf.textContent;return n.charCodeAt(n.length-1)===59&&t!=="semi"||n===e?!1:n}r(Cr,"decodeNamedCharacterReference");function Le(t,e,n,i){let o=t.length,a=0,l;if(e<0?e=-e>o?0:o+e:e=e>o?o:e,n=n>0?n:0,i.length<1e4)l=Array.from(i),l.unshift(e,n),t.splice(...l);else for(n&&t.splice(e,n);a<i.length;)l=i.slice(a,a+1e4),l.unshift(e,0),t.splice(...l),a+=1e4,e+=1e4}r(Le,"splice");function Qe(t,e){return t.length>0?(Le(t,t.length,0,e),t):e}r(Qe,"push");var Zf={}.hasOwnProperty;function Jf(t){let e={},n=-1;for(;++n<t.length;)Ek(e,t[n]);return e}r(Jf,"combineExtensions");function Ek(t,e){let n;for(n in e){let o=(Zf.call(t,n)?t[n]:void 0)||(t[n]={}),a=e[n],l;if(a)for(l in a){Zf.call(o,l)||(o[l]=[]);let c=a[l];Ck(o[l],Array.isArray(c)?c:c?[c]:[])}}}r(Ek,"syntaxExtension");function Ck(t,e){let n=-1,i=[];for(;++n<e.length;)(e[n].add==="after"?t:i).push(e[n]);Le(t,0,0,i)}r(Ck,"constructs");function Co(t,e){let n=Number.parseInt(t,e);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"\uFFFD":String.fromCodePoint(n)}r(Co,"decodeNumericCharacterReference");function dn(t){return t.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}r(dn,"normalizeIdentifier");var dt=En(/[A-Za-z]/),et=En(/[\dA-Za-z]/),Qf=En(/[#-'*+\--9=?A-Z^-~]/);function fi(t){return t!==null&&(t<32||t===127)}r(fi,"asciiControl");var di=En(/\d/),ed=En(/[\dA-Fa-f]/),td=En(/[!-/:-@[-`{-~]/);function V(t){return t!==null&&t<-2}r(V,"markdownLineEnding");function xe(t){return t!==null&&(t<0||t===32)}r(xe,"markdownLineEndingOrSpace");function j(t){return t===-2||t===-1||t===32}r(j,"markdownSpace");var nd=En(/\p{P}|\p{S}/u),rd=En(/\s/);function En(t){return e;function e(n){return n!==null&&n>-1&&t.test(String.fromCharCode(n))}}r(En,"regexCheck");function K(t,e,n,i){let o=i?i-1:Number.POSITIVE_INFINITY,a=0;return l;function l(f){return j(f)?(t.enter(n),c(f)):e(f)}function c(f){return j(f)&&a++<o?(t.consume(f),c):(t.exit(n),e(f))}}r(K,"factorySpace");var id={tokenize:xk};function xk(t){let e=t.attempt(this.parser.constructs.contentInitial,i,o),n;return e;function i(c){if(c===null){t.consume(c);return}return t.enter("lineEnding"),t.consume(c),t.exit("lineEnding"),K(t,e,"linePrefix")}function o(c){return t.enter("paragraph"),a(c)}function a(c){let f=t.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=f),n=f,l(c)}function l(c){if(c===null){t.exit("chunkText"),t.exit("paragraph"),t.consume(c);return}return V(c)?(t.consume(c),t.exit("chunkText"),a):(t.consume(c),l)}}r(xk,"initializeContent");var sd={tokenize:Tk},od={tokenize:Sk};function Tk(t){let e=this,n=[],i=0,o,a,l;return c;function c(_){if(i<n.length){let W=n[i];return e.containerState=W[1],t.attempt(W[0].continuation,f,p)(_)}return p(_)}function f(_){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,o&&I();let W=e.events.length,z=W,S;for(;z--;)if(e.events[z][0]==="exit"&&e.events[z][1].type==="chunkFlow"){S=e.events[z][1].end;break}C(i);let te=W;for(;te<e.events.length;)e.events[te][1].end={...S},te++;return Le(e.events,z+1,0,e.events.slice(W)),e.events.length=te,p(_)}return c(_)}function p(_){if(i===n.length){if(!o)return y(_);if(o.currentConstruct&&o.currentConstruct.concrete)return E(_);e.interrupt=!!(o.currentConstruct&&!o._gfmTableDynamicInterruptHack)}return e.containerState={},t.check(od,h,g)(_)}function h(_){return o&&I(),C(i),y(_)}function g(_){return e.parser.lazy[e.now().line]=i!==n.length,l=e.now().offset,E(_)}function y(_){return e.containerState={},t.attempt(od,w,E)(_)}function w(_){return i++,n.push([e.currentConstruct,e.containerState]),y(_)}function E(_){if(_===null){o&&I(),C(0),t.consume(_);return}return o=o||e.parser.flow(e.now()),t.enter("chunkFlow",{_tokenizer:o,contentType:"flow",previous:a}),x(_)}function x(_){if(_===null){F(t.exit("chunkFlow"),!0),C(0),t.consume(_);return}return V(_)?(t.consume(_),F(t.exit("chunkFlow")),i=0,e.interrupt=void 0,c):(t.consume(_),x)}function F(_,W){let z=e.sliceStream(_);if(W&&z.push(null),_.previous=a,a&&(a.next=_),a=_,o.defineSkip(_.start),o.write(z),e.parser.lazy[_.start.line]){let S=o.events.length;for(;S--;)if(o.events[S][1].start.offset<l&&(!o.events[S][1].end||o.events[S][1].end.offset>l))return;let te=e.events.length,Z=te,J,le;for(;Z--;)if(e.events[Z][0]==="exit"&&e.events[Z][1].type==="chunkFlow"){if(J){le=e.events[Z][1].end;break}J=!0}for(C(i),S=te;S<e.events.length;)e.events[S][1].end={...le},S++;Le(e.events,Z+1,0,e.events.slice(te)),e.events.length=S}}function C(_){let W=n.length;for(;W-- >_;){let z=n[W];e.containerState=z[1],z[0].exit.call(e,t)}n.length=_}function I(){o.write([null]),a=void 0,o=void 0,e.containerState._closeFlow=void 0}}r(Tk,"initializeDocument");function Sk(t,e,n){return K(t,t.attempt(this.parser.constructs.document,e,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}r(Sk,"tokenizeContainer");function xr(t){if(t===null||xe(t)||rd(t))return 1;if(nd(t))return 2}r(xr,"classifyCharacter");function Tr(t,e,n){let i=[],o=-1;for(;++o<t.length;){let a=t[o].resolveAll;a&&!i.includes(a)&&(e=a(e,n),i.push(a))}return e}r(Tr,"resolveAll");var hi={name:"attention",resolveAll:Fk,tokenize:Pk};function Fk(t,e){let n=-1,i,o,a,l,c,f,p,h;for(;++n<t.length;)if(t[n][0]==="enter"&&t[n][1].type==="attentionSequence"&&t[n][1]._close){for(i=n;i--;)if(t[i][0]==="exit"&&t[i][1].type==="attentionSequence"&&t[i][1]._open&&e.sliceSerialize(t[i][1]).charCodeAt(0)===e.sliceSerialize(t[n][1]).charCodeAt(0)){if((t[i][1]._close||t[n][1]._open)&&(t[n][1].end.offset-t[n][1].start.offset)%3&&!((t[i][1].end.offset-t[i][1].start.offset+t[n][1].end.offset-t[n][1].start.offset)%3))continue;f=t[i][1].end.offset-t[i][1].start.offset>1&&t[n][1].end.offset-t[n][1].start.offset>1?2:1;let g={...t[i][1].end},y={...t[n][1].start};ad(g,-f),ad(y,f),l={type:f>1?"strongSequence":"emphasisSequence",start:g,end:{...t[i][1].end}},c={type:f>1?"strongSequence":"emphasisSequence",start:{...t[n][1].start},end:y},a={type:f>1?"strongText":"emphasisText",start:{...t[i][1].end},end:{...t[n][1].start}},o={type:f>1?"strong":"emphasis",start:{...l.start},end:{...c.end}},t[i][1].end={...l.start},t[n][1].start={...c.end},p=[],t[i][1].end.offset-t[i][1].start.offset&&(p=Qe(p,[["enter",t[i][1],e],["exit",t[i][1],e]])),p=Qe(p,[["enter",o,e],["enter",l,e],["exit",l,e],["enter",a,e]]),p=Qe(p,Tr(e.parser.constructs.insideSpan.null,t.slice(i+1,n),e)),p=Qe(p,[["exit",a,e],["enter",c,e],["exit",c,e],["exit",o,e]]),t[n][1].end.offset-t[n][1].start.offset?(h=2,p=Qe(p,[["enter",t[n][1],e],["exit",t[n][1],e]])):h=0,Le(t,i-1,n-i+3,p),n=i+p.length-h-2;break}}for(n=-1;++n<t.length;)t[n][1].type==="attentionSequence"&&(t[n][1].type="data");return t}r(Fk,"resolveAllAttention");function Pk(t,e){let n=this.parser.constructs.attentionMarkers.null,i=this.previous,o=xr(i),a;return l;function l(f){return a=f,t.enter("attentionSequence"),c(f)}function c(f){if(f===a)return t.consume(f),c;let p=t.exit("attentionSequence"),h=xr(f),g=!h||h===2&&o||n.includes(f),y=!o||o===2&&h||n.includes(i);return p._open=!!(a===42?g:g&&(o||!y)),p._close=!!(a===42?y:y&&(h||!g)),e(f)}}r(Pk,"tokenizeAttention");function ad(t,e){t.column+=e,t.offset+=e,t._bufferIndex+=e}r(ad,"movePoint");var ml={name:"autolink",tokenize:Ik};function Ik(t,e,n){let i=0;return o;function o(w){return t.enter("autolink"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.enter("autolinkProtocol"),a}function a(w){return dt(w)?(t.consume(w),l):w===64?n(w):p(w)}function l(w){return w===43||w===45||w===46||et(w)?(i=1,c(w)):p(w)}function c(w){return w===58?(t.consume(w),i=0,f):(w===43||w===45||w===46||et(w))&&i++<32?(t.consume(w),c):(i=0,p(w))}function f(w){return w===62?(t.exit("autolinkProtocol"),t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):w===null||w===32||w===60||fi(w)?n(w):(t.consume(w),f)}function p(w){return w===64?(t.consume(w),h):Qf(w)?(t.consume(w),p):n(w)}function h(w){return et(w)?g(w):n(w)}function g(w){return w===46?(t.consume(w),i=0,h):w===62?(t.exit("autolinkProtocol").type="autolinkEmail",t.enter("autolinkMarker"),t.consume(w),t.exit("autolinkMarker"),t.exit("autolink"),e):y(w)}function y(w){if((w===45||et(w))&&i++<63){let E=w===45?y:g;return t.consume(w),E}return n(w)}}r(Ik,"tokenizeAutolink");var Cn={partial:!0,tokenize:_k};function _k(t,e,n){return i;function i(a){return j(a)?K(t,o,"linePrefix")(a):o(a)}function o(a){return a===null||V(a)?e(a):n(a)}}r(_k,"tokenizeBlankLine");var xo={continuation:{tokenize:Rk},exit:Dk,name:"blockQuote",tokenize:Ok};function Ok(t,e,n){let i=this;return o;function o(l){if(l===62){let c=i.containerState;return c.open||(t.enter("blockQuote",{_container:!0}),c.open=!0),t.enter("blockQuotePrefix"),t.enter("blockQuoteMarker"),t.consume(l),t.exit("blockQuoteMarker"),a}return n(l)}function a(l){return j(l)?(t.enter("blockQuotePrefixWhitespace"),t.consume(l),t.exit("blockQuotePrefixWhitespace"),t.exit("blockQuotePrefix"),e):(t.exit("blockQuotePrefix"),e(l))}}r(Ok,"tokenizeBlockQuoteStart");function Rk(t,e,n){let i=this;return o;function o(l){return j(l)?K(t,a,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):a(l)}function a(l){return t.attempt(xo,e,n)(l)}}r(Rk,"tokenizeBlockQuoteContinuation");function Dk(t){t.exit("blockQuote")}r(Dk,"exit");var To={name:"characterEscape",tokenize:Mk};function Mk(t,e,n){return i;function i(a){return t.enter("characterEscape"),t.enter("escapeMarker"),t.consume(a),t.exit("escapeMarker"),o}function o(a){return td(a)?(t.enter("characterEscapeValue"),t.consume(a),t.exit("characterEscapeValue"),t.exit("characterEscape"),e):n(a)}}r(Mk,"tokenizeCharacterEscape");var So={name:"characterReference",tokenize:Lk};function Lk(t,e,n){let i=this,o=0,a,l;return c;function c(g){return t.enter("characterReference"),t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),f}function f(g){return g===35?(t.enter("characterReferenceMarkerNumeric"),t.consume(g),t.exit("characterReferenceMarkerNumeric"),p):(t.enter("characterReferenceValue"),a=31,l=et,h(g))}function p(g){return g===88||g===120?(t.enter("characterReferenceMarkerHexadecimal"),t.consume(g),t.exit("characterReferenceMarkerHexadecimal"),t.enter("characterReferenceValue"),a=6,l=ed,h):(t.enter("characterReferenceValue"),a=7,l=di,h(g))}function h(g){if(g===59&&o){let y=t.exit("characterReferenceValue");return l===et&&!Cr(i.sliceSerialize(y))?n(g):(t.enter("characterReferenceMarker"),t.consume(g),t.exit("characterReferenceMarker"),t.exit("characterReference"),e)}return l(g)&&o++<a?(t.consume(g),h):n(g)}}r(Lk,"tokenizeCharacterReference");var ld={partial:!0,tokenize:Bk},Fo={concrete:!0,name:"codeFenced",tokenize:Nk};function Nk(t,e,n){let i=this,o={partial:!0,tokenize:z},a=0,l=0,c;return f;function f(S){return p(S)}function p(S){let te=i.events[i.events.length-1];return a=te&&te[1].type==="linePrefix"?te[2].sliceSerialize(te[1],!0).length:0,c=S,t.enter("codeFenced"),t.enter("codeFencedFence"),t.enter("codeFencedFenceSequence"),h(S)}function h(S){return S===c?(l++,t.consume(S),h):l<3?n(S):(t.exit("codeFencedFenceSequence"),j(S)?K(t,g,"whitespace")(S):g(S))}function g(S){return S===null||V(S)?(t.exit("codeFencedFence"),i.interrupt?e(S):t.check(ld,x,W)(S)):(t.enter("codeFencedFenceInfo"),t.enter("chunkString",{contentType:"string"}),y(S))}function y(S){return S===null||V(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),g(S)):j(S)?(t.exit("chunkString"),t.exit("codeFencedFenceInfo"),K(t,w,"whitespace")(S)):S===96&&S===c?n(S):(t.consume(S),y)}function w(S){return S===null||V(S)?g(S):(t.enter("codeFencedFenceMeta"),t.enter("chunkString",{contentType:"string"}),E(S))}function E(S){return S===null||V(S)?(t.exit("chunkString"),t.exit("codeFencedFenceMeta"),g(S)):S===96&&S===c?n(S):(t.consume(S),E)}function x(S){return t.attempt(o,W,F)(S)}function F(S){return t.enter("lineEnding"),t.consume(S),t.exit("lineEnding"),C}function C(S){return a>0&&j(S)?K(t,I,"linePrefix",a+1)(S):I(S)}function I(S){return S===null||V(S)?t.check(ld,x,W)(S):(t.enter("codeFlowValue"),_(S))}function _(S){return S===null||V(S)?(t.exit("codeFlowValue"),I(S)):(t.consume(S),_)}function W(S){return t.exit("codeFenced"),e(S)}function z(S,te,Z){let J=0;return le;function le(H){return S.enter("lineEnding"),S.consume(H),S.exit("lineEnding"),de}function de(H){return S.enter("codeFencedFence"),j(H)?K(S,oe,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(H):oe(H)}function oe(H){return H===c?(S.enter("codeFencedFenceSequence"),Y(H)):Z(H)}function Y(H){return H===c?(J++,S.consume(H),Y):J>=l?(S.exit("codeFencedFenceSequence"),j(H)?K(S,q,"whitespace")(H):q(H)):Z(H)}function q(H){return H===null||V(H)?(S.exit("codeFencedFence"),te(H)):Z(H)}}}r(Nk,"tokenizeCodeFenced");function Bk(t,e,n){let i=this;return o;function o(l){return l===null?n(l):(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a)}function a(l){return i.parser.lazy[i.now().line]?n(l):e(l)}}r(Bk,"tokenizeNonLazyContinuation");var pi={name:"codeIndented",tokenize:Vk},$k={partial:!0,tokenize:Yk};function Vk(t,e,n){let i=this;return o;function o(p){return t.enter("codeIndented"),K(t,a,"linePrefix",5)(p)}function a(p){let h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?l(p):n(p)}function l(p){return p===null?f(p):V(p)?t.attempt($k,l,f)(p):(t.enter("codeFlowValue"),c(p))}function c(p){return p===null||V(p)?(t.exit("codeFlowValue"),l(p)):(t.consume(p),c)}function f(p){return t.exit("codeIndented"),e(p)}}r(Vk,"tokenizeCodeIndented");function Yk(t,e,n){let i=this;return o;function o(l){return i.parser.lazy[i.now().line]?n(l):V(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),o):K(t,a,"linePrefix",5)(l)}function a(l){let c=i.events[i.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):V(l)?o(l):n(l)}}r(Yk,"tokenizeFurtherStart");var gl={name:"codeText",previous:Uk,resolve:Wk,tokenize:zk};function Wk(t){let e=t.length-4,n=3,i,o;if((t[n][1].type==="lineEnding"||t[n][1].type==="space")&&(t[e][1].type==="lineEnding"||t[e][1].type==="space")){for(i=n;++i<e;)if(t[i][1].type==="codeTextData"){t[n][1].type="codeTextPadding",t[e][1].type="codeTextPadding",n+=2,e-=2;break}}for(i=n-1,e++;++i<=e;)o===void 0?i!==e&&t[i][1].type!=="lineEnding"&&(o=i):(i===e||t[i][1].type==="lineEnding")&&(t[o][1].type="codeTextData",i!==o+2&&(t[o][1].end=t[i-1][1].end,t.splice(o+2,i-o-2),e-=i-o-2,i=o+2),o=void 0);return t}r(Wk,"resolveCodeText");function Uk(t){return t!==96||this.events[this.events.length-1][1].type==="characterEscape"}r(Uk,"previous");function zk(t,e,n){let i=this,o=0,a,l;return c;function c(y){return t.enter("codeText"),t.enter("codeTextSequence"),f(y)}function f(y){return y===96?(t.consume(y),o++,f):(t.exit("codeTextSequence"),p(y))}function p(y){return y===null?n(y):y===32?(t.enter("space"),t.consume(y),t.exit("space"),p):y===96?(l=t.enter("codeTextSequence"),a=0,g(y)):V(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),p):(t.enter("codeTextData"),h(y))}function h(y){return y===null||y===32||y===96||V(y)?(t.exit("codeTextData"),p(y)):(t.consume(y),h)}function g(y){return y===96?(t.consume(y),a++,g):a===o?(t.exit("codeTextSequence"),t.exit("codeText"),e(y)):(l.type="codeTextData",h(y))}}r(zk,"tokenizeCodeText");var Po=class{static{r(this,"SpliceBuffer")}constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,n){let i=n??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,n,i){let o=n||0;this.setCursor(Math.trunc(e));let a=this.right.splice(this.right.length-o,Number.POSITIVE_INFINITY);return i&&mi(this.left,i),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),mi(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),mi(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){let n=this.left.splice(e,Number.POSITIVE_INFINITY);mi(this.right,n.reverse())}else{let n=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);mi(this.left,n.reverse())}}};function mi(t,e){let n=0;if(e.length<1e4)t.push(...e);else for(;n<e.length;)t.push(...e.slice(n,n+1e4)),n+=1e4}r(mi,"chunkedPush");function Io(t){let e={},n=-1,i,o,a,l,c,f,p,h=new Po(t);for(;++n<h.length;){for(;n in e;)n=e[n];if(i=h.get(n),n&&i[1].type==="chunkFlow"&&h.get(n-1)[1].type==="listItemPrefix"&&(f=i[1]._tokenizer.events,a=0,a<f.length&&f[a][1].type==="lineEndingBlank"&&(a+=2),a<f.length&&f[a][1].type==="content"))for(;++a<f.length&&f[a][1].type!=="content";)f[a][1].type==="chunkText"&&(f[a][1]._isInFirstContentOfListItem=!0,a++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,Hk(h,n)),n=e[n],p=!0);else if(i[1]._container){for(a=n,o=void 0;a--;)if(l=h.get(a),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank")l[0]==="enter"&&(o&&(h.get(o)[1].type="lineEndingBlank"),l[1].type="lineEnding",o=a);else if(!(l[1].type==="linePrefix"||l[1].type==="listItemIndent"))break;o&&(i[1].end={...h.get(o)[1].start},c=h.slice(o,n),c.unshift(i),h.splice(o,n-o+1,c))}}return Le(t,0,Number.POSITIVE_INFINITY,h.slice(0)),!p}r(Io,"subtokenize");function Hk(t,e){let n=t.get(e)[1],i=t.get(e)[2],o=e-1,a=[],l=n._tokenizer;l||(l=i.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(l._contentTypeTextTrailing=!0));let c=l.events,f=[],p={},h,g,y=-1,w=n,E=0,x=0,F=[x];for(;w;){for(;t.get(++o)[1]!==w;);a.push(o),w._tokenizer||(h=i.sliceStream(w),w.next||h.push(null),g&&l.defineSkip(w.start),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(h),w._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),g=w,w=w.next}for(w=n;++y<c.length;)c[y][0]==="exit"&&c[y-1][0]==="enter"&&c[y][1].type===c[y-1][1].type&&c[y][1].start.line!==c[y][1].end.line&&(x=y+1,F.push(x),w._tokenizer=void 0,w.previous=void 0,w=w.next);for(l.events=[],w?(w._tokenizer=void 0,w.previous=void 0):F.pop(),y=F.length;y--;){let C=c.slice(F[y],F[y+1]),I=a.pop();f.push([I,I+C.length-1]),t.splice(I,2,C)}for(f.reverse(),y=-1;++y<f.length;)p[E+f[y][0]]=E+f[y][1],E+=f[y][1]-f[y][0]-1;return p}r(Hk,"subcontent");var wl={resolve:qk,tokenize:jk},Gk={partial:!0,tokenize:Kk};function qk(t){return Io(t),t}r(qk,"resolveContent");function jk(t,e){let n;return i;function i(c){return t.enter("content"),n=t.enter("chunkContent",{contentType:"content"}),o(c)}function o(c){return c===null?a(c):V(c)?t.check(Gk,l,a)(c):(t.consume(c),o)}function a(c){return t.exit("chunkContent"),t.exit("content"),e(c)}function l(c){return t.consume(c),t.exit("chunkContent"),n.next=t.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,o}}r(jk,"tokenizeContent");function Kk(t,e,n){let i=this;return o;function o(l){return t.exit("chunkContent"),t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),K(t,a,"linePrefix")}function a(l){if(l===null||V(l))return n(l);let c=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?e(l):t.interrupt(i.parser.constructs.flow,n,e)(l)}}r(Kk,"tokenizeContinuation");function _o(t,e,n,i,o,a,l,c,f){let p=f||Number.POSITIVE_INFINITY,h=0;return g;function g(C){return C===60?(t.enter(i),t.enter(o),t.enter(a),t.consume(C),t.exit(a),y):C===null||C===32||C===41||fi(C)?n(C):(t.enter(i),t.enter(l),t.enter(c),t.enter("chunkString",{contentType:"string"}),x(C))}function y(C){return C===62?(t.enter(a),t.consume(C),t.exit(a),t.exit(o),t.exit(i),e):(t.enter(c),t.enter("chunkString",{contentType:"string"}),w(C))}function w(C){return C===62?(t.exit("chunkString"),t.exit(c),y(C)):C===null||C===60||V(C)?n(C):(t.consume(C),C===92?E:w)}function E(C){return C===60||C===62||C===92?(t.consume(C),w):w(C)}function x(C){return!h&&(C===null||C===41||xe(C))?(t.exit("chunkString"),t.exit(c),t.exit(l),t.exit(i),e(C)):h<p&&C===40?(t.consume(C),h++,x):C===41?(t.consume(C),h--,x):C===null||C===32||C===40||fi(C)?n(C):(t.consume(C),C===92?F:x)}function F(C){return C===40||C===41||C===92?(t.consume(C),x):x(C)}}r(_o,"factoryDestination");function Oo(t,e,n,i,o,a){let l=this,c=0,f;return p;function p(w){return t.enter(i),t.enter(o),t.consume(w),t.exit(o),t.enter(a),h}function h(w){return c>999||w===null||w===91||w===93&&!f||w===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?n(w):w===93?(t.exit(a),t.enter(o),t.consume(w),t.exit(o),t.exit(i),e):V(w)?(t.enter("lineEnding"),t.consume(w),t.exit("lineEnding"),h):(t.enter("chunkString",{contentType:"string"}),g(w))}function g(w){return w===null||w===91||w===93||V(w)||c++>999?(t.exit("chunkString"),h(w)):(t.consume(w),f||(f=!j(w)),w===92?y:g)}function y(w){return w===91||w===92||w===93?(t.consume(w),c++,g):g(w)}}r(Oo,"factoryLabel");function Ro(t,e,n,i,o,a){let l;return c;function c(y){return y===34||y===39||y===40?(t.enter(i),t.enter(o),t.consume(y),t.exit(o),l=y===40?41:y,f):n(y)}function f(y){return y===l?(t.enter(o),t.consume(y),t.exit(o),t.exit(i),e):(t.enter(a),p(y))}function p(y){return y===l?(t.exit(a),f(l)):y===null?n(y):V(y)?(t.enter("lineEnding"),t.consume(y),t.exit("lineEnding"),K(t,p,"linePrefix")):(t.enter("chunkString",{contentType:"string"}),h(y))}function h(y){return y===l||y===null||V(y)?(t.exit("chunkString"),p(y)):(t.consume(y),y===92?g:h)}function g(y){return y===l||y===92?(t.consume(y),h):h(y)}}r(Ro,"factoryTitle");function zn(t,e){let n;return i;function i(o){return V(o)?(t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),n=!0,i):j(o)?K(t,i,n?"linePrefix":"lineSuffix")(o):e(o)}}r(zn,"factoryWhitespace");var yl={name:"definition",tokenize:Zk},Xk={partial:!0,tokenize:Jk};function Zk(t,e,n){let i=this,o;return a;function a(w){return t.enter("definition"),l(w)}function l(w){return Oo.call(i,t,c,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(w)}function c(w){return o=dn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),w===58?(t.enter("definitionMarker"),t.consume(w),t.exit("definitionMarker"),f):n(w)}function f(w){return xe(w)?zn(t,p)(w):p(w)}function p(w){return _o(t,h,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(w)}function h(w){return t.attempt(Xk,g,g)(w)}function g(w){return j(w)?K(t,y,"whitespace")(w):y(w)}function y(w){return w===null||V(w)?(t.exit("definition"),i.parser.defined.push(o),e(w)):n(w)}}r(Zk,"tokenizeDefinition");function Jk(t,e,n){return i;function i(c){return xe(c)?zn(t,o)(c):n(c)}function o(c){return Ro(t,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function a(c){return j(c)?K(t,l,"whitespace")(c):l(c)}function l(c){return c===null||V(c)?e(c):n(c)}}r(Jk,"tokenizeTitleBefore");var bl={name:"hardBreakEscape",tokenize:Qk};function Qk(t,e,n){return i;function i(a){return t.enter("hardBreakEscape"),t.consume(a),o}function o(a){return V(a)?(t.exit("hardBreakEscape"),e(a)):n(a)}}r(Qk,"tokenizeHardBreakEscape");var kl={name:"headingAtx",resolve:eA,tokenize:tA};function eA(t,e){let n=t.length-2,i=3,o,a;return t[i][1].type==="whitespace"&&(i+=2),n-2>i&&t[n][1].type==="whitespace"&&(n-=2),t[n][1].type==="atxHeadingSequence"&&(i===n-1||n-4>i&&t[n-2][1].type==="whitespace")&&(n-=i+1===n?2:4),n>i&&(o={type:"atxHeadingText",start:t[i][1].start,end:t[n][1].end},a={type:"chunkText",start:t[i][1].start,end:t[n][1].end,contentType:"text"},Le(t,i,n-i+1,[["enter",o,e],["enter",a,e],["exit",a,e],["exit",o,e]])),t}r(eA,"resolveHeadingAtx");function tA(t,e,n){let i=0;return o;function o(h){return t.enter("atxHeading"),a(h)}function a(h){return t.enter("atxHeadingSequence"),l(h)}function l(h){return h===35&&i++<6?(t.consume(h),l):h===null||xe(h)?(t.exit("atxHeadingSequence"),c(h)):n(h)}function c(h){return h===35?(t.enter("atxHeadingSequence"),f(h)):h===null||V(h)?(t.exit("atxHeading"),e(h)):j(h)?K(t,c,"whitespace")(h):(t.enter("atxHeadingText"),p(h))}function f(h){return h===35?(t.consume(h),f):(t.exit("atxHeadingSequence"),c(h))}function p(h){return h===null||h===35||xe(h)?(t.exit("atxHeadingText"),c(h)):(t.consume(h),p)}}r(tA,"tokenizeHeadingAtx");var ud=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Al=["pre","script","style","textarea"];var vl={concrete:!0,name:"htmlFlow",resolveTo:iA,tokenize:oA},nA={partial:!0,tokenize:aA},rA={partial:!0,tokenize:sA};function iA(t){let e=t.length;for(;e--&&!(t[e][0]==="enter"&&t[e][1].type==="htmlFlow"););return e>1&&t[e-2][1].type==="linePrefix"&&(t[e][1].start=t[e-2][1].start,t[e+1][1].start=t[e-2][1].start,t.splice(e-2,2)),t}r(iA,"resolveToHtmlFlow");function oA(t,e,n){let i=this,o,a,l,c,f;return p;function p(k){return h(k)}function h(k){return t.enter("htmlFlow"),t.enter("htmlFlowData"),t.consume(k),g}function g(k){return k===33?(t.consume(k),y):k===47?(t.consume(k),a=!0,x):k===63?(t.consume(k),o=3,i.interrupt?e:v):dt(k)?(t.consume(k),l=String.fromCharCode(k),F):n(k)}function y(k){return k===45?(t.consume(k),o=2,w):k===91?(t.consume(k),o=5,c=0,E):dt(k)?(t.consume(k),o=4,i.interrupt?e:v):n(k)}function w(k){return k===45?(t.consume(k),i.interrupt?e:v):n(k)}function E(k){let Ge="CDATA[";return k===Ge.charCodeAt(c++)?(t.consume(k),c===Ge.length?i.interrupt?e:oe:E):n(k)}function x(k){return dt(k)?(t.consume(k),l=String.fromCharCode(k),F):n(k)}function F(k){if(k===null||k===47||k===62||xe(k)){let Ge=k===47,Gt=l.toLowerCase();return!Ge&&!a&&Al.includes(Gt)?(o=1,i.interrupt?e(k):oe(k)):ud.includes(l.toLowerCase())?(o=6,Ge?(t.consume(k),C):i.interrupt?e(k):oe(k)):(o=7,i.interrupt&&!i.parser.lazy[i.now().line]?n(k):a?I(k):_(k))}return k===45||et(k)?(t.consume(k),l+=String.fromCharCode(k),F):n(k)}function C(k){return k===62?(t.consume(k),i.interrupt?e:oe):n(k)}function I(k){return j(k)?(t.consume(k),I):le(k)}function _(k){return k===47?(t.consume(k),le):k===58||k===95||dt(k)?(t.consume(k),W):j(k)?(t.consume(k),_):le(k)}function W(k){return k===45||k===46||k===58||k===95||et(k)?(t.consume(k),W):z(k)}function z(k){return k===61?(t.consume(k),S):j(k)?(t.consume(k),z):_(k)}function S(k){return k===null||k===60||k===61||k===62||k===96?n(k):k===34||k===39?(t.consume(k),f=k,te):j(k)?(t.consume(k),S):Z(k)}function te(k){return k===f?(t.consume(k),f=null,J):k===null||V(k)?n(k):(t.consume(k),te)}function Z(k){return k===null||k===34||k===39||k===47||k===60||k===61||k===62||k===96||xe(k)?z(k):(t.consume(k),Z)}function J(k){return k===47||k===62||j(k)?_(k):n(k)}function le(k){return k===62?(t.consume(k),de):n(k)}function de(k){return k===null||V(k)?oe(k):j(k)?(t.consume(k),de):n(k)}function oe(k){return k===45&&o===2?(t.consume(k),se):k===60&&o===1?(t.consume(k),be):k===62&&o===4?(t.consume(k),Ne):k===63&&o===3?(t.consume(k),v):k===93&&o===5?(t.consume(k),rt):V(k)&&(o===6||o===7)?(t.exit("htmlFlowData"),t.check(nA,Be,Y)(k)):k===null||V(k)?(t.exit("htmlFlowData"),Y(k)):(t.consume(k),oe)}function Y(k){return t.check(rA,q,Be)(k)}function q(k){return t.enter("lineEnding"),t.consume(k),t.exit("lineEnding"),H}function H(k){return k===null||V(k)?Y(k):(t.enter("htmlFlowData"),oe(k))}function se(k){return k===45?(t.consume(k),v):oe(k)}function be(k){return k===47?(t.consume(k),l="",ke):oe(k)}function ke(k){if(k===62){let Ge=l.toLowerCase();return Al.includes(Ge)?(t.consume(k),Ne):oe(k)}return dt(k)&&l.length<8?(t.consume(k),l+=String.fromCharCode(k),ke):oe(k)}function rt(k){return k===93?(t.consume(k),v):oe(k)}function v(k){return k===62?(t.consume(k),Ne):k===45&&o===2?(t.consume(k),v):oe(k)}function Ne(k){return k===null||V(k)?(t.exit("htmlFlowData"),Be(k)):(t.consume(k),Ne)}function Be(k){return t.exit("htmlFlow"),e(k)}}r(oA,"tokenizeHtmlFlow");function sA(t,e,n){let i=this;return o;function o(l){return V(l)?(t.enter("lineEnding"),t.consume(l),t.exit("lineEnding"),a):n(l)}function a(l){return i.parser.lazy[i.now().line]?n(l):e(l)}}r(sA,"tokenizeNonLazyContinuationStart");function aA(t,e,n){return i;function i(o){return t.enter("lineEnding"),t.consume(o),t.exit("lineEnding"),t.attempt(Cn,e,n)}}r(aA,"tokenizeBlankLineBefore");var El={name:"htmlText",tokenize:lA};function lA(t,e,n){let i=this,o,a,l;return c;function c(v){return t.enter("htmlText"),t.enter("htmlTextData"),t.consume(v),f}function f(v){return v===33?(t.consume(v),p):v===47?(t.consume(v),z):v===63?(t.consume(v),_):dt(v)?(t.consume(v),Z):n(v)}function p(v){return v===45?(t.consume(v),h):v===91?(t.consume(v),a=0,E):dt(v)?(t.consume(v),I):n(v)}function h(v){return v===45?(t.consume(v),w):n(v)}function g(v){return v===null?n(v):v===45?(t.consume(v),y):V(v)?(l=g,be(v)):(t.consume(v),g)}function y(v){return v===45?(t.consume(v),w):g(v)}function w(v){return v===62?se(v):v===45?y(v):g(v)}function E(v){let Ne="CDATA[";return v===Ne.charCodeAt(a++)?(t.consume(v),a===Ne.length?x:E):n(v)}function x(v){return v===null?n(v):v===93?(t.consume(v),F):V(v)?(l=x,be(v)):(t.consume(v),x)}function F(v){return v===93?(t.consume(v),C):x(v)}function C(v){return v===62?se(v):v===93?(t.consume(v),C):x(v)}function I(v){return v===null||v===62?se(v):V(v)?(l=I,be(v)):(t.consume(v),I)}function _(v){return v===null?n(v):v===63?(t.consume(v),W):V(v)?(l=_,be(v)):(t.consume(v),_)}function W(v){return v===62?se(v):_(v)}function z(v){return dt(v)?(t.consume(v),S):n(v)}function S(v){return v===45||et(v)?(t.consume(v),S):te(v)}function te(v){return V(v)?(l=te,be(v)):j(v)?(t.consume(v),te):se(v)}function Z(v){return v===45||et(v)?(t.consume(v),Z):v===47||v===62||xe(v)?J(v):n(v)}function J(v){return v===47?(t.consume(v),se):v===58||v===95||dt(v)?(t.consume(v),le):V(v)?(l=J,be(v)):j(v)?(t.consume(v),J):se(v)}function le(v){return v===45||v===46||v===58||v===95||et(v)?(t.consume(v),le):de(v)}function de(v){return v===61?(t.consume(v),oe):V(v)?(l=de,be(v)):j(v)?(t.consume(v),de):J(v)}function oe(v){return v===null||v===60||v===61||v===62||v===96?n(v):v===34||v===39?(t.consume(v),o=v,Y):V(v)?(l=oe,be(v)):j(v)?(t.consume(v),oe):(t.consume(v),q)}function Y(v){return v===o?(t.consume(v),o=void 0,H):v===null?n(v):V(v)?(l=Y,be(v)):(t.consume(v),Y)}function q(v){return v===null||v===34||v===39||v===60||v===61||v===96?n(v):v===47||v===62||xe(v)?J(v):(t.consume(v),q)}function H(v){return v===47||v===62||xe(v)?J(v):n(v)}function se(v){return v===62?(t.consume(v),t.exit("htmlTextData"),t.exit("htmlText"),e):n(v)}function be(v){return t.exit("htmlTextData"),t.enter("lineEnding"),t.consume(v),t.exit("lineEnding"),ke}function ke(v){return j(v)?K(t,rt,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(v):rt(v)}function rt(v){return t.enter("htmlTextData"),l(v)}}r(lA,"tokenizeHtmlText");var Hn={name:"labelEnd",resolveAll:dA,resolveTo:hA,tokenize:pA},uA={tokenize:mA},cA={tokenize:gA},fA={tokenize:wA};function dA(t){let e=-1,n=[];for(;++e<t.length;){let i=t[e][1];if(n.push(t[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){let o=i.type==="labelImage"?4:2;i.type="data",e+=o}}return t.length!==n.length&&Le(t,0,t.length,n),t}r(dA,"resolveAllLabelEnd");function hA(t,e){let n=t.length,i=0,o,a,l,c;for(;n--;)if(o=t[n][1],a){if(o.type==="link"||o.type==="labelLink"&&o._inactive)break;t[n][0]==="enter"&&o.type==="labelLink"&&(o._inactive=!0)}else if(l){if(t[n][0]==="enter"&&(o.type==="labelImage"||o.type==="labelLink")&&!o._balanced&&(a=n,o.type!=="labelLink")){i=2;break}}else o.type==="labelEnd"&&(l=n);let f={type:t[a][1].type==="labelLink"?"link":"image",start:{...t[a][1].start},end:{...t[t.length-1][1].end}},p={type:"label",start:{...t[a][1].start},end:{...t[l][1].end}},h={type:"labelText",start:{...t[a+i+2][1].end},end:{...t[l-2][1].start}};return c=[["enter",f,e],["enter",p,e]],c=Qe(c,t.slice(a+1,a+i+3)),c=Qe(c,[["enter",h,e]]),c=Qe(c,Tr(e.parser.constructs.insideSpan.null,t.slice(a+i+4,l-3),e)),c=Qe(c,[["exit",h,e],t[l-2],t[l-1],["exit",p,e]]),c=Qe(c,t.slice(l+1)),c=Qe(c,[["exit",f,e]]),Le(t,a,t.length,c),t}r(hA,"resolveToLabelEnd");function pA(t,e,n){let i=this,o=i.events.length,a,l;for(;o--;)if((i.events[o][1].type==="labelImage"||i.events[o][1].type==="labelLink")&&!i.events[o][1]._balanced){a=i.events[o][1];break}return c;function c(y){return a?a._inactive?g(y):(l=i.parser.defined.includes(dn(i.sliceSerialize({start:a.end,end:i.now()}))),t.enter("labelEnd"),t.enter("labelMarker"),t.consume(y),t.exit("labelMarker"),t.exit("labelEnd"),f):n(y)}function f(y){return y===40?t.attempt(uA,h,l?h:g)(y):y===91?t.attempt(cA,h,l?p:g)(y):l?h(y):g(y)}function p(y){return t.attempt(fA,h,g)(y)}function h(y){return e(y)}function g(y){return a._balanced=!0,n(y)}}r(pA,"tokenizeLabelEnd");function mA(t,e,n){return i;function i(g){return t.enter("resource"),t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),o}function o(g){return xe(g)?zn(t,a)(g):a(g)}function a(g){return g===41?h(g):_o(t,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(g)}function l(g){return xe(g)?zn(t,f)(g):h(g)}function c(g){return n(g)}function f(g){return g===34||g===39||g===40?Ro(t,p,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(g):h(g)}function p(g){return xe(g)?zn(t,h)(g):h(g)}function h(g){return g===41?(t.enter("resourceMarker"),t.consume(g),t.exit("resourceMarker"),t.exit("resource"),e):n(g)}}r(mA,"tokenizeResource");function gA(t,e,n){let i=this;return o;function o(c){return Oo.call(i,t,a,l,"reference","referenceMarker","referenceString")(c)}function a(c){return i.parser.defined.includes(dn(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(c):n(c)}function l(c){return n(c)}}r(gA,"tokenizeReferenceFull");function wA(t,e,n){return i;function i(a){return t.enter("reference"),t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),o}function o(a){return a===93?(t.enter("referenceMarker"),t.consume(a),t.exit("referenceMarker"),t.exit("reference"),e):n(a)}}r(wA,"tokenizeReferenceCollapsed");var Cl={name:"labelStartImage",resolveAll:Hn.resolveAll,tokenize:yA};function yA(t,e,n){let i=this;return o;function o(c){return t.enter("labelImage"),t.enter("labelImageMarker"),t.consume(c),t.exit("labelImageMarker"),a}function a(c){return c===91?(t.enter("labelMarker"),t.consume(c),t.exit("labelMarker"),t.exit("labelImage"),l):n(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(c):e(c)}}r(yA,"tokenizeLabelStartImage");var xl={name:"labelStartLink",resolveAll:Hn.resolveAll,tokenize:bA};function bA(t,e,n){let i=this;return o;function o(l){return t.enter("labelLink"),t.enter("labelMarker"),t.consume(l),t.exit("labelMarker"),t.exit("labelLink"),a}function a(l){return l===94&&"_hiddenFootnoteSupport"in i.parser.constructs?n(l):e(l)}}r(bA,"tokenizeLabelStartLink");var gi={name:"lineEnding",tokenize:kA};function kA(t,e){return n;function n(i){return t.enter("lineEnding"),t.consume(i),t.exit("lineEnding"),K(t,e,"linePrefix")}}r(kA,"tokenizeLineEnding");var Gn={name:"thematicBreak",tokenize:AA};function AA(t,e,n){let i=0,o;return a;function a(p){return t.enter("thematicBreak"),l(p)}function l(p){return o=p,c(p)}function c(p){return p===o?(t.enter("thematicBreakSequence"),f(p)):i>=3&&(p===null||V(p))?(t.exit("thematicBreak"),e(p)):n(p)}function f(p){return p===o?(t.consume(p),i++,f):(t.exit("thematicBreakSequence"),j(p)?K(t,c,"whitespace")(p):c(p))}}r(AA,"tokenizeThematicBreak");var We={continuation:{tokenize:xA},exit:SA,name:"list",tokenize:CA},vA={partial:!0,tokenize:FA},EA={partial:!0,tokenize:TA};function CA(t,e,n){let i=this,o=i.events[i.events.length-1],a=o&&o[1].type==="linePrefix"?o[2].sliceSerialize(o[1],!0).length:0,l=0;return c;function c(w){let E=i.containerState.type||(w===42||w===43||w===45?"listUnordered":"listOrdered");if(E==="listUnordered"?!i.containerState.marker||w===i.containerState.marker:di(w)){if(i.containerState.type||(i.containerState.type=E,t.enter(E,{_container:!0})),E==="listUnordered")return t.enter("listItemPrefix"),w===42||w===45?t.check(Gn,n,p)(w):p(w);if(!i.interrupt||w===49)return t.enter("listItemPrefix"),t.enter("listItemValue"),f(w)}return n(w)}function f(w){return di(w)&&++l<10?(t.consume(w),f):(!i.interrupt||l<2)&&(i.containerState.marker?w===i.containerState.marker:w===41||w===46)?(t.exit("listItemValue"),p(w)):n(w)}function p(w){return t.enter("listItemMarker"),t.consume(w),t.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||w,t.check(Cn,i.interrupt?n:h,t.attempt(vA,y,g))}function h(w){return i.containerState.initialBlankLine=!0,a++,y(w)}function g(w){return j(w)?(t.enter("listItemPrefixWhitespace"),t.consume(w),t.exit("listItemPrefixWhitespace"),y):n(w)}function y(w){return i.containerState.size=a+i.sliceSerialize(t.exit("listItemPrefix"),!0).length,e(w)}}r(CA,"tokenizeListStart");function xA(t,e,n){let i=this;return i.containerState._closeFlow=void 0,t.check(Cn,o,a);function o(c){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,K(t,e,"listItemIndent",i.containerState.size+1)(c)}r(o,"onBlank");function a(c){return i.containerState.furtherBlankLines||!j(c)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,l(c)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,t.attempt(EA,e,l)(c))}r(a,"notBlank");function l(c){return i.containerState._closeFlow=!0,i.interrupt=void 0,K(t,t.attempt(We,e,n),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}r(l,"notInCurrentItem")}r(xA,"tokenizeListContinuation");function TA(t,e,n){let i=this;return K(t,o,"listItemIndent",i.containerState.size+1);function o(a){let l=i.events[i.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===i.containerState.size?e(a):n(a)}}r(TA,"tokenizeIndent");function SA(t){t.exit(this.containerState.type)}r(SA,"tokenizeListEnd");function FA(t,e,n){let i=this;return K(t,o,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function o(a){let l=i.events[i.events.length-1];return!j(a)&&l&&l[1].type==="listItemPrefixWhitespace"?e(a):n(a)}}r(FA,"tokenizeListItemPrefixWhitespace");var Do={name:"setextUnderline",resolveTo:PA,tokenize:IA};function PA(t,e){let n=t.length,i,o,a;for(;n--;)if(t[n][0]==="enter"){if(t[n][1].type==="content"){i=n;break}t[n][1].type==="paragraph"&&(o=n)}else t[n][1].type==="content"&&t.splice(n,1),!a&&t[n][1].type==="definition"&&(a=n);let l={type:"setextHeading",start:{...t[i][1].start},end:{...t[t.length-1][1].end}};return t[o][1].type="setextHeadingText",a?(t.splice(o,0,["enter",l,e]),t.splice(a+1,0,["exit",t[i][1],e]),t[i][1].end={...t[a][1].end}):t[i][1]=l,t.push(["exit",l,e]),t}r(PA,"resolveToSetextUnderline");function IA(t,e,n){let i=this,o;return a;function a(p){let h=i.events.length,g;for(;h--;)if(i.events[h][1].type!=="lineEnding"&&i.events[h][1].type!=="linePrefix"&&i.events[h][1].type!=="content"){g=i.events[h][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||g)?(t.enter("setextHeadingLine"),o=p,l(p)):n(p)}function l(p){return t.enter("setextHeadingLineSequence"),c(p)}function c(p){return p===o?(t.consume(p),c):(t.exit("setextHeadingLineSequence"),j(p)?K(t,f,"lineSuffix")(p):f(p))}function f(p){return p===null||V(p)?(t.exit("setextHeadingLine"),e(p)):n(p)}}r(IA,"tokenizeSetextUnderline");var cd={tokenize:_A};function _A(t){let e=this,n=t.attempt(Cn,i,t.attempt(this.parser.constructs.flowInitial,o,K(t,t.attempt(this.parser.constructs.flow,o,t.attempt(wl,o)),"linePrefix")));return n;function i(a){if(a===null){t.consume(a);return}return t.enter("lineEndingBlank"),t.consume(a),t.exit("lineEndingBlank"),e.currentConstruct=void 0,n}function o(a){if(a===null){t.consume(a);return}return t.enter("lineEnding"),t.consume(a),t.exit("lineEnding"),e.currentConstruct=void 0,n}}r(_A,"initializeFlow");var fd={resolveAll:md()},dd=pd("string"),hd=pd("text");function pd(t){return{resolveAll:md(t==="text"?OA:void 0),tokenize:e};function e(n){let i=this,o=this.parser.constructs[t],a=n.attempt(o,l,c);return l;function l(h){return p(h)?a(h):c(h)}function c(h){if(h===null){n.consume(h);return}return n.enter("data"),n.consume(h),f}function f(h){return p(h)?(n.exit("data"),a(h)):(n.consume(h),f)}function p(h){if(h===null)return!0;let g=o[h],y=-1;if(g)for(;++y<g.length;){let w=g[y];if(!w.previous||w.previous.call(i,i.previous))return!0}return!1}}}r(pd,"initializeFactory");function md(t){return e;function e(n,i){let o=-1,a;for(;++o<=n.length;)a===void 0?n[o]&&n[o][1].type==="data"&&(a=o,o++):(!n[o]||n[o][1].type!=="data")&&(o!==a+2&&(n[a][1].end=n[o-1][1].end,n.splice(a+2,o-a-2),o=a+2),a=void 0);return t?t(n,i):n}}r(md,"createResolver");function OA(t,e){let n=0;for(;++n<=t.length;)if((n===t.length||t[n][1].type==="lineEnding")&&t[n-1][1].type==="data"){let i=t[n-1][1],o=e.sliceStream(i),a=o.length,l=-1,c=0,f;for(;a--;){let p=o[a];if(typeof p=="string"){for(l=p.length;p.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(p===-2)f=!0,c++;else if(p!==-1){a++;break}}if(e._contentTypeTextTrailing&&n===t.length&&(c=0),c){let p={type:n===t.length||f||c<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?l:i.start._bufferIndex+l,_index:i.start._index+a,line:i.end.line,column:i.end.column-c,offset:i.end.offset-c},end:{...i.end}};i.end={...p.start},i.start.offset===i.end.offset?Object.assign(i,p):(t.splice(n,0,["enter",p,e],["exit",p,e]),n+=2)}n++}return t}r(OA,"resolveAllLineSuffixes");var Tl={};Zc(Tl,{attentionMarkers:()=>VA,contentInitial:()=>DA,disable:()=>YA,document:()=>RA,flow:()=>LA,flowInitial:()=>MA,insideSpan:()=>$A,string:()=>NA,text:()=>BA});var RA={42:We,43:We,45:We,48:We,49:We,50:We,51:We,52:We,53:We,54:We,55:We,56:We,57:We,62:xo},DA={91:yl},MA={[-2]:pi,[-1]:pi,32:pi},LA={35:kl,42:Gn,45:[Do,Gn],60:vl,61:Do,95:Gn,96:Fo,126:Fo},NA={38:So,92:To},BA={[-5]:gi,[-4]:gi,[-3]:gi,33:Cl,38:So,42:hi,60:[ml,El],91:xl,92:[bl,To],93:Hn,95:hi,96:gl},$A={null:[hi,fd]},VA={null:[42,95]},YA={null:[]};function gd(t,e,n){let i={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0},o={},a=[],l=[],c=[],f=!0,p={attempt:J(te),check:J(Z),consume:W,enter:z,exit:S,interrupt:J(Z,{interrupt:!0})},h={code:null,containerState:{},defineSkip:C,events:[],now:F,parser:t,previous:null,sliceSerialize:E,sliceStream:x,write:w},g=e.tokenize.call(h,p),y;return e.resolveAll&&a.push(e),h;function w(Y){return l=Qe(l,Y),I(),l[l.length-1]!==null?[]:(le(e,0),h.events=Tr(a,h.events,h),h.events)}r(w,"write");function E(Y,q){return UA(x(Y),q)}r(E,"sliceSerialize");function x(Y){return WA(l,Y)}r(x,"sliceStream");function F(){let{_bufferIndex:Y,_index:q,line:H,column:se,offset:be}=i;return{_bufferIndex:Y,_index:q,line:H,column:se,offset:be}}r(F,"now");function C(Y){o[Y.line]=Y.column,oe()}r(C,"defineSkip");function I(){let Y;for(;i._index<l.length;){let q=l[i._index];if(typeof q=="string")for(Y=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===Y&&i._bufferIndex<q.length;)_(q.charCodeAt(i._bufferIndex));else _(q)}}r(I,"main");function _(Y){f=void 0,y=Y,g=g(Y)}r(_,"go");function W(Y){V(Y)?(i.line++,i.column=1,i.offset+=Y===-3?2:1,oe()):Y!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===l[i._index].length&&(i._bufferIndex=-1,i._index++)),h.previous=Y,f=!0}r(W,"consume");function z(Y,q){let H=q||{};return H.type=Y,H.start=F(),h.events.push(["enter",H,h]),c.push(H),H}r(z,"enter");function S(Y){let q=c.pop();return q.end=F(),h.events.push(["exit",q,h]),q}r(S,"exit");function te(Y,q){le(Y,q.from)}r(te,"onsuccessfulconstruct");function Z(Y,q){q.restore()}r(Z,"onsuccessfulcheck");function J(Y,q){return H;function H(se,be,ke){let rt,v,Ne,Be;return Array.isArray(se)?Ge(se):"tokenize"in se?Ge([se]):k(se);function k(Se){return Dn;function Dn(Tt){let qt=Tt!==null&&Se[Tt],wn=Tt!==null&&Se.null,Gr=[...Array.isArray(qt)?qt:qt?[qt]:[],...Array.isArray(wn)?wn:wn?[wn]:[]];return Ge(Gr)(Tt)}}function Ge(Se){return rt=Se,v=0,Se.length===0?ke:Gt(Se[v])}function Gt(Se){return Dn;function Dn(Tt){return Be=de(),Ne=Se,Se.partial||(h.currentConstruct=Se),Se.name&&h.parser.constructs.disable.null.includes(Se.name)?Rn(Tt):Se.tokenize.call(q?Object.assign(Object.create(h),q):h,p,gn,Rn)(Tt)}}function gn(Se){return f=!0,Y(Ne,Be),be}function Rn(Se){return f=!0,Be.restore(),++v<rt.length?Gt(rt[v]):ke}}}r(J,"constructFactory");function le(Y,q){Y.resolveAll&&!a.includes(Y)&&a.push(Y),Y.resolve&&Le(h.events,q,h.events.length-q,Y.resolve(h.events.slice(q),h)),Y.resolveTo&&(h.events=Y.resolveTo(h.events,h))}r(le,"addResult");function de(){let Y=F(),q=h.previous,H=h.currentConstruct,se=h.events.length,be=Array.from(c);return{from:se,restore:ke};function ke(){i=Y,h.previous=q,h.currentConstruct=H,h.events.length=se,c=be,oe()}}r(de,"store");function oe(){i.line in o&&i.column<2&&(i.column=o[i.line],i.offset+=o[i.line]-1)}r(oe,"accountForPotentialSkip")}r(gd,"createTokenizer");function WA(t,e){let n=e.start._index,i=e.start._bufferIndex,o=e.end._index,a=e.end._bufferIndex,l;if(n===o)l=[t[n].slice(i,a)];else{if(l=t.slice(n,o),i>-1){let c=l[0];typeof c=="string"?l[0]=c.slice(i):l.shift()}a>0&&l.push(t[o].slice(0,a))}return l}r(WA,"sliceChunks");function UA(t,e){let n=-1,i=[],o;for(;++n<t.length;){let a=t[n],l;if(typeof a=="string")l=a;else switch(a){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=e?" ":"	";break}case-1:{if(!e&&o)continue;l=" ";break}default:l=String.fromCharCode(a)}o=a===-2,i.push(l)}return i.join("")}r(UA,"serializeChunks");function Sl(t){let i={constructs:Jf([Tl,...(t||{}).extensions||[]]),content:o(id),defined:[],document:o(sd),flow:o(cd),lazy:{},string:o(dd),text:o(hd)};return i;function o(a){return l;function l(c){return gd(i,a,c)}}}r(Sl,"parse");function Fl(t){for(;!Io(t););return t}r(Fl,"postprocess");var wd=/[\0\t\n\r]/g;function Pl(){let t=1,e="",n=!0,i;return o;function o(a,l,c){let f=[],p,h,g,y,w;for(a=e+(typeof a=="string"?a.toString():new TextDecoder(l||void 0).decode(a)),g=0,e="",n&&(a.charCodeAt(0)===65279&&g++,n=void 0);g<a.length;){if(wd.lastIndex=g,p=wd.exec(a),y=p&&p.index!==void 0?p.index:a.length,w=a.charCodeAt(y),!p){e=a.slice(g);break}if(w===10&&g===y&&i)f.push(-3),i=void 0;else switch(i&&(f.push(-5),i=void 0),g<y&&(f.push(a.slice(g,y)),t+=y-g),w){case 0:{f.push(65533),t++;break}case 9:{for(h=Math.ceil(t/4)*4,f.push(-2);t++<h;)f.push(-1);break}case 10:{f.push(-4),t=1;break}default:i=!0,t=1}g=y+1}return c&&(i&&f.push(-5),e&&f.push(e),f.push(null)),f}}r(Pl,"preprocess");var zA=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Mo(t){return t.replace(zA,HA)}r(Mo,"decodeString");function HA(t,e,n){if(e)return e;if(n.charCodeAt(0)===35){let o=n.charCodeAt(1),a=o===120||o===88;return Co(n.slice(a?2:1),a?16:10)}return Cr(n)||t}r(HA,"decode");function xn(t){return!t||typeof t!="object"?"":"position"in t||"type"in t?yd(t.position):"start"in t||"end"in t?yd(t):"line"in t||"column"in t?Il(t):""}r(xn,"stringifyPosition");function Il(t){return bd(t&&t.line)+":"+bd(t&&t.column)}r(Il,"point");function yd(t){return Il(t&&t.start)+"-"+Il(t&&t.end)}r(yd,"position");function bd(t){return t&&typeof t=="number"?t:1}r(bd,"index");var Ad={}.hasOwnProperty;function _l(t,e,n){return typeof e!="string"&&(n=e,e=void 0),GA(n)(Fl(Sl(n).document().write(Pl()(t,e,!0))))}r(_l,"fromMarkdown");function GA(t){let e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(qe),autolinkProtocol:J,autolinkEmail:J,atxHeading:a(Vi),blockQuote:a(Tt),characterEscape:J,characterReference:J,codeFenced:a(qt),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:a(qt,l),codeText:a(wn,l),codeTextData:J,data:J,codeFlowValue:J,definition:a(Gr),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:a(Ca),hardBreakEscape:a(Yi),hardBreakTrailing:a(Yi),htmlFlow:a(Wi,l),htmlFlowData:J,htmlText:a(Wi,l),htmlTextData:J,image:a(Ui),label:l,link:a(qe),listItem:a(xa),listItemValue:y,listOrdered:a(nr,g),listUnordered:a(nr),paragraph:a(Ta),reference:k,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:a(Vi),strong:a(zi),thematicBreak:a(Hi)},exit:{atxHeading:f(),atxHeadingSequence:z,autolink:f(),autolinkEmail:Dn,autolinkProtocol:Se,blockQuote:f(),characterEscapeValue:le,characterReferenceMarkerHexadecimal:Gt,characterReferenceMarkerNumeric:Gt,characterReferenceValue:gn,characterReference:Rn,codeFenced:f(F),codeFencedFence:x,codeFencedFenceInfo:w,codeFencedFenceMeta:E,codeFlowValue:le,codeIndented:f(C),codeText:f(H),codeTextData:le,data:le,definition:f(),definitionDestinationString:W,definitionLabelString:I,definitionTitleString:_,emphasis:f(),hardBreakEscape:f(oe),hardBreakTrailing:f(oe),htmlFlow:f(Y),htmlFlowData:le,htmlText:f(q),htmlTextData:le,image:f(be),label:rt,labelText:ke,lineEnding:de,link:f(se),listItem:f(),listOrdered:f(),listUnordered:f(),paragraph:f(),referenceString:Ge,resourceDestinationString:v,resourceTitleString:Ne,resource:Be,setextHeading:f(Z),setextHeadingLineSequence:te,setextHeadingText:S,strong:f(),thematicBreak:f()}};vd(e,(t||{}).mdastExtensions||[]);let n={};return i;function i(P){let R={type:"root",children:[]},D={stack:[R],tokenStack:[],config:e,enter:c,exit:p,buffer:l,resume:h,data:n},Q=[],ue=-1;for(;++ue<P.length;)if(P[ue][1].type==="listOrdered"||P[ue][1].type==="listUnordered")if(P[ue][0]==="enter")Q.push(ue);else{let $e=Q.pop();ue=o(P,$e,ue)}for(ue=-1;++ue<P.length;){let $e=e[P[ue][0]];Ad.call($e,P[ue][1].type)&&$e[P[ue][1].type].call(Object.assign({sliceSerialize:P[ue][2].sliceSerialize},D),P[ue][1])}if(D.tokenStack.length>0){let $e=D.tokenStack[D.tokenStack.length-1];($e[1]||kd).call(D,void 0,$e[0])}for(R.position={start:Tn(P.length>0?P[0][1].start:{line:1,column:1,offset:0}),end:Tn(P.length>0?P[P.length-2][1].end:{line:1,column:1,offset:0})},ue=-1;++ue<e.transforms.length;)R=e.transforms[ue](R)||R;return R}function o(P,R,D){let Q=R-1,ue=-1,$e=!1,St,it,mt,Mt;for(;++Q<=D;){let Ke=P[Q];switch(Ke[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{Ke[0]==="enter"?ue++:ue--,Mt=void 0;break}case"lineEndingBlank":{Ke[0]==="enter"&&(St&&!Mt&&!ue&&!mt&&(mt=Q),Mt=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Mt=void 0}if(!ue&&Ke[0]==="enter"&&Ke[1].type==="listItemPrefix"||ue===-1&&Ke[0]==="exit"&&(Ke[1].type==="listUnordered"||Ke[1].type==="listOrdered")){if(St){let Ft=Q;for(it=void 0;Ft--;){let Pt=P[Ft];if(Pt[1].type==="lineEnding"||Pt[1].type==="lineEndingBlank"){if(Pt[0]==="exit")continue;it&&(P[it][1].type="lineEndingBlank",$e=!0),Pt[1].type="lineEnding",it=Ft}else if(!(Pt[1].type==="linePrefix"||Pt[1].type==="blockQuotePrefix"||Pt[1].type==="blockQuotePrefixWhitespace"||Pt[1].type==="blockQuoteMarker"||Pt[1].type==="listItemIndent"))break}mt&&(!it||mt<it)&&(St._spread=!0),St.end=Object.assign({},it?P[it][1].start:Ke[1].end),P.splice(it||Q,0,["exit",St,Ke[2]]),Q++,D++}if(Ke[1].type==="listItemPrefix"){let Ft={type:"listItem",_spread:!1,start:Object.assign({},Ke[1].start),end:void 0};St=Ft,P.splice(Q,0,["enter",Ft,Ke[2]]),Q++,D++,mt=void 0,Mt=!0}}}return P[R][1]._spread=$e,D}function a(P,R){return D;function D(Q){c.call(this,P(Q),Q),R&&R.call(this,Q)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(P,R,D){this.stack[this.stack.length-1].children.push(P),this.stack.push(P),this.tokenStack.push([R,D||void 0]),P.position={start:Tn(R.start),end:void 0}}function f(P){return R;function R(D){P&&P.call(this,D),p.call(this,D)}}function p(P,R){let D=this.stack.pop(),Q=this.tokenStack.pop();if(Q)Q[0].type!==P.type&&(R?R.call(this,P,Q[0]):(Q[1]||kd).call(this,P,Q[0]));else throw new Error("Cannot close `"+P.type+"` ("+xn({start:P.start,end:P.end})+"): it\u2019s not open");D.position.end=Tn(P.end)}function h(){return Un(this.stack.pop())}function g(){this.data.expectingFirstListItemValue=!0}function y(P){if(this.data.expectingFirstListItemValue){let R=this.stack[this.stack.length-2];R.start=Number.parseInt(this.sliceSerialize(P),10),this.data.expectingFirstListItemValue=void 0}}function w(){let P=this.resume(),R=this.stack[this.stack.length-1];R.lang=P}function E(){let P=this.resume(),R=this.stack[this.stack.length-1];R.meta=P}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function F(){let P=this.resume(),R=this.stack[this.stack.length-1];R.value=P.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function C(){let P=this.resume(),R=this.stack[this.stack.length-1];R.value=P.replace(/(\r?\n|\r)$/g,"")}function I(P){let R=this.resume(),D=this.stack[this.stack.length-1];D.label=R,D.identifier=dn(this.sliceSerialize(P)).toLowerCase()}function _(){let P=this.resume(),R=this.stack[this.stack.length-1];R.title=P}function W(){let P=this.resume(),R=this.stack[this.stack.length-1];R.url=P}function z(P){let R=this.stack[this.stack.length-1];if(!R.depth){let D=this.sliceSerialize(P).length;R.depth=D}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function te(P){let R=this.stack[this.stack.length-1];R.depth=this.sliceSerialize(P).codePointAt(0)===61?1:2}function Z(){this.data.setextHeadingSlurpLineEnding=void 0}function J(P){let D=this.stack[this.stack.length-1].children,Q=D[D.length-1];(!Q||Q.type!=="text")&&(Q=je(),Q.position={start:Tn(P.start),end:void 0},D.push(Q)),this.stack.push(Q)}function le(P){let R=this.stack.pop();R.value+=this.sliceSerialize(P),R.position.end=Tn(P.end)}function de(P){let R=this.stack[this.stack.length-1];if(this.data.atHardBreak){let D=R.children[R.children.length-1];D.position.end=Tn(P.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(R.type)&&(J.call(this,P),le.call(this,P))}function oe(){this.data.atHardBreak=!0}function Y(){let P=this.resume(),R=this.stack[this.stack.length-1];R.value=P}function q(){let P=this.resume(),R=this.stack[this.stack.length-1];R.value=P}function H(){let P=this.resume(),R=this.stack[this.stack.length-1];R.value=P}function se(){let P=this.stack[this.stack.length-1];if(this.data.inReference){let R=this.data.referenceType||"shortcut";P.type+="Reference",P.referenceType=R,delete P.url,delete P.title}else delete P.identifier,delete P.label;this.data.referenceType=void 0}function be(){let P=this.stack[this.stack.length-1];if(this.data.inReference){let R=this.data.referenceType||"shortcut";P.type+="Reference",P.referenceType=R,delete P.url,delete P.title}else delete P.identifier,delete P.label;this.data.referenceType=void 0}function ke(P){let R=this.sliceSerialize(P),D=this.stack[this.stack.length-2];D.label=Mo(R),D.identifier=dn(R).toLowerCase()}function rt(){let P=this.stack[this.stack.length-1],R=this.resume(),D=this.stack[this.stack.length-1];if(this.data.inReference=!0,D.type==="link"){let Q=P.children;D.children=Q}else D.alt=R}function v(){let P=this.resume(),R=this.stack[this.stack.length-1];R.url=P}function Ne(){let P=this.resume(),R=this.stack[this.stack.length-1];R.title=P}function Be(){this.data.inReference=void 0}function k(){this.data.referenceType="collapsed"}function Ge(P){let R=this.resume(),D=this.stack[this.stack.length-1];D.label=R,D.identifier=dn(this.sliceSerialize(P)).toLowerCase(),this.data.referenceType="full"}function Gt(P){this.data.characterReferenceType=P.type}function gn(P){let R=this.sliceSerialize(P),D=this.data.characterReferenceType,Q;D?(Q=Co(R,D==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Q=Cr(R);let ue=this.stack[this.stack.length-1];ue.value+=Q}function Rn(P){let R=this.stack.pop();R.position.end=Tn(P.end)}function Se(P){le.call(this,P);let R=this.stack[this.stack.length-1];R.url=this.sliceSerialize(P)}function Dn(P){le.call(this,P);let R=this.stack[this.stack.length-1];R.url="mailto:"+this.sliceSerialize(P)}function Tt(){return{type:"blockquote",children:[]}}function qt(){return{type:"code",lang:null,meta:null,value:""}}function wn(){return{type:"inlineCode",value:""}}function Gr(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ca(){return{type:"emphasis",children:[]}}function Vi(){return{type:"heading",depth:0,children:[]}}function Yi(){return{type:"break"}}function Wi(){return{type:"html",value:""}}function Ui(){return{type:"image",title:null,url:"",alt:null}}function qe(){return{type:"link",title:null,url:"",children:[]}}function nr(P){return{type:"list",ordered:P.type==="listOrdered",start:null,spread:P._spread,children:[]}}function xa(P){return{type:"listItem",spread:P._spread,checked:null,children:[]}}function Ta(){return{type:"paragraph",children:[]}}function zi(){return{type:"strong",children:[]}}function je(){return{type:"text",value:""}}function Hi(){return{type:"thematicBreak"}}}r(GA,"compiler");function Tn(t){return{line:t.line,column:t.column,offset:t.offset}}r(Tn,"point");function vd(t,e){let n=-1;for(;++n<e.length;){let i=e[n];Array.isArray(i)?vd(t,i):qA(t,i)}}r(vd,"configure");function qA(t,e){let n;for(n in e)if(Ad.call(e,n))switch(n){case"canContainEols":{let i=e[n];i&&t[n].push(...i);break}case"transforms":{let i=e[n];i&&t[n].push(...i);break}case"enter":case"exit":{let i=e[n];i&&Object.assign(t[n],i);break}}}r(qA,"extension");function kd(t,e){throw t?new Error("Cannot close `"+t.type+"` ("+xn({start:t.start,end:t.end})+"): a different token (`"+e.type+"`, "+xn({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+xn({start:e.start,end:e.end})+") is still open")}r(kd,"defaultOnError");function Sr(t){let e=this;e.parser=n;function n(i){return _l(i,{...e.data("settings"),...t,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}r(n,"parser")}r(Sr,"remarkParse");var Ed={}.hasOwnProperty;function Cd(t,e){let n=e||{};function i(o,...a){let l=i.invalid,c=i.handlers;if(o&&Ed.call(o,t)){let f=String(o[t]);l=Ed.call(c,f)?c[f]:i.unknown}if(l)return l.call(this,o,...a)}return r(i,"one"),i.handlers=n.handlers||{},i.invalid=n.invalid,i.unknown=n.unknown,i}r(Cd,"zwitch");var jA={}.hasOwnProperty;function Ol(t,e){let n=-1,i;if(e.extensions)for(;++n<e.extensions.length;)Ol(t,e.extensions[n]);for(i in e)if(jA.call(e,i))switch(i){case"extensions":break;case"unsafe":{xd(t[i],e[i]);break}case"join":{xd(t[i],e[i]);break}case"handlers":{KA(t[i],e[i]);break}default:t.options[i]=e[i]}return t}r(Ol,"configure");function xd(t,e){e&&t.push(...e)}r(xd,"list");function KA(t,e){e&&Object.assign(t,e)}r(KA,"map");function Td(t,e,n,i){let o=n.enter("blockquote"),a=n.createTracker(i);a.move("> "),a.shift(2);let l=n.indentLines(n.containerFlow(t,a.current()),XA);return o(),l}r(Td,"blockquote");function XA(t,e,n){return">"+(n?"":" ")+t}r(XA,"map");function Lo(t,e){return Sd(t,e.inConstruct,!0)&&!Sd(t,e.notInConstruct,!1)}r(Lo,"patternInScope");function Sd(t,e,n){if(typeof e=="string"&&(e=[e]),!e||e.length===0)return n;let i=-1;for(;++i<e.length;)if(t.includes(e[i]))return!0;return!1}r(Sd,"listInScope");function Rl(t,e,n,i){let o=-1;for(;++o<n.unsafe.length;)if(n.unsafe[o].character===`
`&&Lo(n.stack,n.unsafe[o]))return/[ \t]/.test(i.before)?"":" ";return`\\
`}r(Rl,"hardBreak");function Fd(t,e){let n=String(t),i=n.indexOf(e),o=i,a=0,l=0;if(typeof e!="string")throw new TypeError("Expected substring");for(;i!==-1;)i===o?++a>l&&(l=a):a=1,o=i+e.length,i=n.indexOf(e,o);return l}r(Fd,"longestStreak");function wi(t,e){return!!(e.options.fences===!1&&t.value&&!t.lang&&/[^ \r\n]/.test(t.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(t.value))}r(wi,"formatCodeAsIndented");function Pd(t){let e=t.options.fence||"`";if(e!=="`"&&e!=="~")throw new Error("Cannot serialize code with `"+e+"` for `options.fence`, expected `` ` `` or `~`");return e}r(Pd,"checkFence");function Id(t,e,n,i){let o=Pd(n),a=t.value||"",l=o==="`"?"GraveAccent":"Tilde";if(wi(t,n)){let g=n.enter("codeIndented"),y=n.indentLines(a,ZA);return g(),y}let c=n.createTracker(i),f=o.repeat(Math.max(Fd(a,o)+1,3)),p=n.enter("codeFenced"),h=c.move(f);if(t.lang){let g=n.enter(`codeFencedLang${l}`);h+=c.move(n.safe(t.lang,{before:h,after:" ",encode:["`"],...c.current()})),g()}if(t.lang&&t.meta){let g=n.enter(`codeFencedMeta${l}`);h+=c.move(" "),h+=c.move(n.safe(t.meta,{before:h,after:`
`,encode:["`"],...c.current()})),g()}return h+=c.move(`
`),a&&(h+=c.move(a+`
`)),h+=c.move(f),p(),h}r(Id,"code");function ZA(t,e,n){return(n?"":"    ")+t}r(ZA,"map");function Fr(t){let e=t.options.quote||'"';if(e!=='"'&&e!=="'")throw new Error("Cannot serialize title with `"+e+"` for `options.quote`, expected `\"`, or `'`");return e}r(Fr,"checkQuote");function _d(t,e,n,i){let o=Fr(n),a=o==='"'?"Quote":"Apostrophe",l=n.enter("definition"),c=n.enter("label"),f=n.createTracker(i),p=f.move("[");return p+=f.move(n.safe(n.associationId(t),{before:p,after:"]",...f.current()})),p+=f.move("]: "),c(),!t.url||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),p+=f.move("<"),p+=f.move(n.safe(t.url,{before:p,after:">",...f.current()})),p+=f.move(">")):(c=n.enter("destinationRaw"),p+=f.move(n.safe(t.url,{before:p,after:t.title?" ":`
`,...f.current()}))),c(),t.title&&(c=n.enter(`title${a}`),p+=f.move(" "+o),p+=f.move(n.safe(t.title,{before:p,after:o,...f.current()})),p+=f.move(o),c()),l(),p}r(_d,"definition");function Od(t){let e=t.options.emphasis||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize emphasis with `"+e+"` for `options.emphasis`, expected `*`, or `_`");return e}r(Od,"checkEmphasis");function ht(t){return"&#x"+t.toString(16).toUpperCase()+";"}r(ht,"encodeCharacterReference");function Pr(t,e,n){let i=xr(t),o=xr(e);return i===void 0?o===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:i===1?o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:o===void 0?{inside:!1,outside:!1}:o===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}r(Pr,"encodeInfo");Dl.peek=JA;function Dl(t,e,n,i){let o=Od(n),a=n.enter("emphasis"),l=n.createTracker(i),c=l.move(o),f=l.move(n.containerPhrasing(t,{after:o,before:c,...l.current()})),p=f.charCodeAt(0),h=Pr(i.before.charCodeAt(i.before.length-1),p,o);h.inside&&(f=ht(p)+f.slice(1));let g=f.charCodeAt(f.length-1),y=Pr(i.after.charCodeAt(0),g,o);y.inside&&(f=f.slice(0,-1)+ht(g));let w=l.move(o);return a(),n.attentionEncodeSurroundingInfo={after:y.outside,before:h.outside},c+f+w}r(Dl,"emphasis");function JA(t,e,n){return n.options.emphasis||"*"}r(JA,"emphasisPeek");var Ir=r((function(t){if(t==null)return nv;if(typeof t=="function")return No(t);if(typeof t=="object")return Array.isArray(t)?QA(t):ev(t);if(typeof t=="string")return tv(t);throw new Error("Expected function, string, or object as test")}),"convert");function QA(t){let e=[],n=-1;for(;++n<t.length;)e[n]=Ir(t[n]);return No(i);function i(...o){let a=-1;for(;++a<e.length;)if(e[a].apply(this,o))return!0;return!1}}r(QA,"anyFactory");function ev(t){let e=t;return No(n);function n(i){let o=i,a;for(a in t)if(o[a]!==e[a])return!1;return!0}}r(ev,"propsFactory");function tv(t){return No(e);function e(n){return n&&n.type===t}}r(tv,"typeFactory");function No(t){return e;function e(n,i,o){return!!(rv(n)&&t.call(this,n,typeof i=="number"?i:void 0,o||void 0))}}r(No,"castFactory");function nv(){return!0}r(nv,"ok");function rv(t){return t!==null&&typeof t=="object"&&"type"in t}r(rv,"looksLikeANode");function Rd(t){return"\x1B[33m"+t+"\x1B[39m"}r(Rd,"color");var Dd=[],Bo=!0,qn=!1,$o="skip";function Ml(t,e,n,i){let o;typeof e=="function"&&typeof n!="function"?(i=n,n=e):o=e;let a=Ir(o),l=i?-1:1;c(t,void 0,[])();function c(f,p,h){let g=f&&typeof f=="object"?f:{};if(typeof g.type=="string"){let w=typeof g.tagName=="string"?g.tagName:typeof g.name=="string"?g.name:void 0;Object.defineProperty(y,"name",{value:"node ("+Rd(f.type+(w?"<"+w+">":""))+")"})}return y;function y(){let w=Dd,E,x,F;if((!e||a(f,p,h[h.length-1]||void 0))&&(w=iv(n(f,h)),w[0]===qn))return w;if("children"in f&&f.children){let C=f;if(C.children&&w[0]!==$o)for(x=(i?C.children.length:-1)+l,F=h.concat(C);x>-1&&x<C.children.length;){let I=C.children[x];if(E=c(I,x,F)(),E[0]===qn)return E;x=typeof E[1]=="number"?E[1]:x+l}}return w}}r(c,"factory")}r(Ml,"visitParents");function iv(t){return Array.isArray(t)?t:typeof t=="number"?[Bo,t]:t==null?Dd:[t]}r(iv,"toResult");function yi(t,e,n,i){let o,a,l;typeof e=="function"&&typeof n!="function"?(a=void 0,l=e,o=n):(a=e,l=n,o=i),Ml(t,a,c,o);function c(f,p){let h=p[p.length-1],g=h?h.children.indexOf(f):void 0;return l(f,g,h)}r(c,"overload")}r(yi,"visit");function Vo(t,e){let n=!1;return yi(t,function(i){if("value"in i&&/\r?\n|\r/.test(i.value)||i.type==="break")return n=!0,qn}),!!((!t.depth||t.depth<3)&&Un(t)&&(e.options.setext||n))}r(Vo,"formatHeadingAsSetext");function Md(t,e,n,i){let o=Math.max(Math.min(6,t.depth||1),1),a=n.createTracker(i);if(Vo(t,n)){let h=n.enter("headingSetext"),g=n.enter("phrasing"),y=n.containerPhrasing(t,{...a.current(),before:`
`,after:`
`});return g(),h(),y+`
`+(o===1?"=":"-").repeat(y.length-(Math.max(y.lastIndexOf("\r"),y.lastIndexOf(`
`))+1))}let l="#".repeat(o),c=n.enter("headingAtx"),f=n.enter("phrasing");a.move(l+" ");let p=n.containerPhrasing(t,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(p)&&(p=ht(p.charCodeAt(0))+p.slice(1)),p=p?l+" "+p:l,n.options.closeAtx&&(p+=" "+l),f(),c(),p}r(Md,"heading");Ll.peek=ov;function Ll(t){return t.value||""}r(Ll,"html");function ov(){return"<"}r(ov,"htmlPeek");Nl.peek=sv;function Nl(t,e,n,i){let o=Fr(n),a=o==='"'?"Quote":"Apostrophe",l=n.enter("image"),c=n.enter("label"),f=n.createTracker(i),p=f.move("![");return p+=f.move(n.safe(t.alt,{before:p,after:"]",...f.current()})),p+=f.move("]("),c(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(c=n.enter("destinationLiteral"),p+=f.move("<"),p+=f.move(n.safe(t.url,{before:p,after:">",...f.current()})),p+=f.move(">")):(c=n.enter("destinationRaw"),p+=f.move(n.safe(t.url,{before:p,after:t.title?" ":")",...f.current()}))),c(),t.title&&(c=n.enter(`title${a}`),p+=f.move(" "+o),p+=f.move(n.safe(t.title,{before:p,after:o,...f.current()})),p+=f.move(o),c()),p+=f.move(")"),l(),p}r(Nl,"image");function sv(){return"!"}r(sv,"imagePeek");Bl.peek=av;function Bl(t,e,n,i){let o=t.referenceType,a=n.enter("imageReference"),l=n.enter("label"),c=n.createTracker(i),f=c.move("!["),p=n.safe(t.alt,{before:f,after:"]",...c.current()});f+=c.move(p+"]["),l();let h=n.stack;n.stack=[],l=n.enter("reference");let g=n.safe(n.associationId(t),{before:f,after:"]",...c.current()});return l(),n.stack=h,a(),o==="full"||!p||p!==g?f+=c.move(g+"]"):o==="shortcut"?f=f.slice(0,-1):f+=c.move("]"),f}r(Bl,"imageReference");function av(){return"!"}r(av,"imageReferencePeek");$l.peek=lv;function $l(t,e,n){let i=t.value||"",o="`",a=-1;for(;new RegExp("(^|[^`])"+o+"([^`]|$)").test(i);)o+="`";for(/[^ \r\n]/.test(i)&&(/^[ \r\n]/.test(i)&&/[ \r\n]$/.test(i)||/^`|`$/.test(i))&&(i=" "+i+" ");++a<n.unsafe.length;){let l=n.unsafe[a],c=n.compilePattern(l),f;if(l.atBreak)for(;f=c.exec(i);){let p=f.index;i.charCodeAt(p)===10&&i.charCodeAt(p-1)===13&&p--,i=i.slice(0,p)+" "+i.slice(f.index+1)}}return o+i+o}r($l,"inlineCode");function lv(){return"`"}r(lv,"inlineCodePeek");function Vl(t,e){let n=Un(t);return!!(!e.options.resourceLink&&t.url&&!t.title&&t.children&&t.children.length===1&&t.children[0].type==="text"&&(n===t.url||"mailto:"+n===t.url)&&/^[a-z][a-z+.-]+:/i.test(t.url)&&!/[\0- <>\u007F]/.test(t.url))}r(Vl,"formatLinkAsAutolink");Yl.peek=uv;function Yl(t,e,n,i){let o=Fr(n),a=o==='"'?"Quote":"Apostrophe",l=n.createTracker(i),c,f;if(Vl(t,n)){let h=n.stack;n.stack=[],c=n.enter("autolink");let g=l.move("<");return g+=l.move(n.containerPhrasing(t,{before:g,after:">",...l.current()})),g+=l.move(">"),c(),n.stack=h,g}c=n.enter("link"),f=n.enter("label");let p=l.move("[");return p+=l.move(n.containerPhrasing(t,{before:p,after:"](",...l.current()})),p+=l.move("]("),f(),!t.url&&t.title||/[\0- \u007F]/.test(t.url)?(f=n.enter("destinationLiteral"),p+=l.move("<"),p+=l.move(n.safe(t.url,{before:p,after:">",...l.current()})),p+=l.move(">")):(f=n.enter("destinationRaw"),p+=l.move(n.safe(t.url,{before:p,after:t.title?" ":")",...l.current()}))),f(),t.title&&(f=n.enter(`title${a}`),p+=l.move(" "+o),p+=l.move(n.safe(t.title,{before:p,after:o,...l.current()})),p+=l.move(o),f()),p+=l.move(")"),c(),p}r(Yl,"link");function uv(t,e,n){return Vl(t,n)?"<":"["}r(uv,"linkPeek");Wl.peek=cv;function Wl(t,e,n,i){let o=t.referenceType,a=n.enter("linkReference"),l=n.enter("label"),c=n.createTracker(i),f=c.move("["),p=n.containerPhrasing(t,{before:f,after:"]",...c.current()});f+=c.move(p+"]["),l();let h=n.stack;n.stack=[],l=n.enter("reference");let g=n.safe(n.associationId(t),{before:f,after:"]",...c.current()});return l(),n.stack=h,a(),o==="full"||!p||p!==g?f+=c.move(g+"]"):o==="shortcut"?f=f.slice(0,-1):f+=c.move("]"),f}r(Wl,"linkReference");function cv(){return"["}r(cv,"linkReferencePeek");function _r(t){let e=t.options.bullet||"*";if(e!=="*"&&e!=="+"&&e!=="-")throw new Error("Cannot serialize items with `"+e+"` for `options.bullet`, expected `*`, `+`, or `-`");return e}r(_r,"checkBullet");function Ld(t){let e=_r(t),n=t.options.bulletOther;if(!n)return e==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===e)throw new Error("Expected `bullet` (`"+e+"`) and `bulletOther` (`"+n+"`) to be different");return n}r(Ld,"checkBulletOther");function Nd(t){let e=t.options.bulletOrdered||".";if(e!=="."&&e!==")")throw new Error("Cannot serialize items with `"+e+"` for `options.bulletOrdered`, expected `.` or `)`");return e}r(Nd,"checkBulletOrdered");function Yo(t){let e=t.options.rule||"*";if(e!=="*"&&e!=="-"&&e!=="_")throw new Error("Cannot serialize rules with `"+e+"` for `options.rule`, expected `*`, `-`, or `_`");return e}r(Yo,"checkRule");function Bd(t,e,n,i){let o=n.enter("list"),a=n.bulletCurrent,l=t.ordered?Nd(n):_r(n),c=t.ordered?l==="."?")":".":Ld(n),f=e&&n.bulletLastUsed?l===n.bulletLastUsed:!1;if(!t.ordered){let h=t.children?t.children[0]:void 0;if((l==="*"||l==="-")&&h&&(!h.children||!h.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(f=!0),Yo(n)===l&&h){let g=-1;for(;++g<t.children.length;){let y=t.children[g];if(y&&y.type==="listItem"&&y.children&&y.children[0]&&y.children[0].type==="thematicBreak"){f=!0;break}}}}f&&(l=c),n.bulletCurrent=l;let p=n.containerFlow(t,i);return n.bulletLastUsed=l,n.bulletCurrent=a,o(),p}r(Bd,"list");function $d(t){let e=t.options.listItemIndent||"one";if(e!=="tab"&&e!=="one"&&e!=="mixed")throw new Error("Cannot serialize items with `"+e+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return e}r($d,"checkListItemIndent");function Vd(t,e,n,i){let o=$d(n),a=n.bulletCurrent||_r(n);e&&e.type==="list"&&e.ordered&&(a=(typeof e.start=="number"&&e.start>-1?e.start:1)+(n.options.incrementListMarker===!1?0:e.children.indexOf(t))+a);let l=a.length+1;(o==="tab"||o==="mixed"&&(e&&e.type==="list"&&e.spread||t.spread))&&(l=Math.ceil(l/4)*4);let c=n.createTracker(i);c.move(a+" ".repeat(l-a.length)),c.shift(l);let f=n.enter("listItem"),p=n.indentLines(n.containerFlow(t,c.current()),h);return f(),p;function h(g,y,w){return y?(w?"":" ".repeat(l))+g:(w?a:a+" ".repeat(l-a.length))+g}r(h,"map")}r(Vd,"listItem");function Yd(t,e,n,i){let o=n.enter("paragraph"),a=n.enter("phrasing"),l=n.containerPhrasing(t,i);return a(),o(),l}r(Yd,"paragraph");var Ul=Ir(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Wd(t,e,n,i){return(t.children.some(function(l){return Ul(l)})?n.containerPhrasing:n.containerFlow).call(n,t,i)}r(Wd,"root");function Ud(t){let e=t.options.strong||"*";if(e!=="*"&&e!=="_")throw new Error("Cannot serialize strong with `"+e+"` for `options.strong`, expected `*`, or `_`");return e}r(Ud,"checkStrong");zl.peek=fv;function zl(t,e,n,i){let o=Ud(n),a=n.enter("strong"),l=n.createTracker(i),c=l.move(o+o),f=l.move(n.containerPhrasing(t,{after:o,before:c,...l.current()})),p=f.charCodeAt(0),h=Pr(i.before.charCodeAt(i.before.length-1),p,o);h.inside&&(f=ht(p)+f.slice(1));let g=f.charCodeAt(f.length-1),y=Pr(i.after.charCodeAt(0),g,o);y.inside&&(f=f.slice(0,-1)+ht(g));let w=l.move(o+o);return a(),n.attentionEncodeSurroundingInfo={after:y.outside,before:h.outside},c+f+w}r(zl,"strong");function fv(t,e,n){return n.options.strong||"*"}r(fv,"strongPeek");function zd(t,e,n,i){return n.safe(t.value,i)}r(zd,"text");function Hd(t){let e=t.options.ruleRepetition||3;if(e<3)throw new Error("Cannot serialize rules with repetition `"+e+"` for `options.ruleRepetition`, expected `3` or more");return e}r(Hd,"checkRuleRepetition");function Gd(t,e,n){let i=(Yo(n)+(n.options.ruleSpaces?" ":"")).repeat(Hd(n));return n.options.ruleSpaces?i.slice(0,-1):i}r(Gd,"thematicBreak");var qd={blockquote:Td,break:Rl,code:Id,definition:_d,emphasis:Dl,hardBreak:Rl,heading:Md,html:Ll,image:Nl,imageReference:Bl,inlineCode:$l,link:Yl,linkReference:Wl,list:Bd,listItem:Vd,paragraph:Yd,root:Wd,strong:zl,text:zd,thematicBreak:Gd};var jd=[dv];function dv(t,e,n,i){if(e.type==="code"&&wi(e,i)&&(t.type==="list"||t.type===e.type&&wi(t,i)))return!1;if("spread"in n&&typeof n.spread=="boolean")return t.type==="paragraph"&&(t.type===e.type||e.type==="definition"||e.type==="heading"&&Vo(e,i))?void 0:n.spread?1:0}r(dv,"joinDefaults");var jn=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"],Kd=[{character:"	",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",before:"[\\r\\n]",inConstruct:"phrasing"},{character:"	",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"\r",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:`
`,inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde","codeFencedMetaGraveAccent","codeFencedMetaTilde","destinationLiteral","headingAtx"]},{character:" ",after:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",before:"[\\r\\n]",inConstruct:"phrasing"},{character:" ",inConstruct:["codeFencedLangGraveAccent","codeFencedLangTilde"]},{character:"!",after:"\\[",inConstruct:"phrasing",notInConstruct:jn},{character:'"',inConstruct:"titleQuote"},{atBreak:!0,character:"#"},{character:"#",inConstruct:"headingAtx",after:`(?:[\r
]|$)`},{character:"&",after:"[#A-Za-z]",inConstruct:"phrasing"},{character:"'",inConstruct:"titleApostrophe"},{character:"(",inConstruct:"destinationRaw"},{before:"\\]",character:"(",inConstruct:"phrasing",notInConstruct:jn},{atBreak:!0,before:"\\d+",character:")"},{character:")",inConstruct:"destinationRaw"},{atBreak:!0,character:"*",after:`(?:[ 	\r
*])`},{character:"*",inConstruct:"phrasing",notInConstruct:jn},{atBreak:!0,character:"+",after:`(?:[ 	\r
])`},{atBreak:!0,character:"-",after:`(?:[ 	\r
-])`},{atBreak:!0,before:"\\d+",character:".",after:`(?:[ 	\r
]|$)`},{atBreak:!0,character:"<",after:"[!/?A-Za-z]"},{character:"<",after:"[!/?A-Za-z]",inConstruct:"phrasing",notInConstruct:jn},{character:"<",inConstruct:"destinationLiteral"},{atBreak:!0,character:"="},{atBreak:!0,character:">"},{character:">",inConstruct:"destinationLiteral"},{atBreak:!0,character:"["},{character:"[",inConstruct:"phrasing",notInConstruct:jn},{character:"[",inConstruct:["label","reference"]},{character:"\\",after:"[\\r\\n]",inConstruct:"phrasing"},{character:"]",inConstruct:["label","reference"]},{atBreak:!0,character:"_"},{character:"_",inConstruct:"phrasing",notInConstruct:jn},{atBreak:!0,character:"`"},{character:"`",inConstruct:["codeFencedLangGraveAccent","codeFencedMetaGraveAccent"]},{character:"`",inConstruct:"phrasing",notInConstruct:jn},{atBreak:!0,character:"~"}];function Xd(t){return t.label||!t.identifier?t.label||"":Mo(t.identifier)}r(Xd,"association");function Zd(t){if(!t._compiled){let e=(t.atBreak?"[\\r\\n][\\t ]*":"")+(t.before?"(?:"+t.before+")":"");t._compiled=new RegExp((e?"("+e+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(t.character)?"\\":"")+t.character+(t.after?"(?:"+t.after+")":""),"g")}return t._compiled}r(Zd,"compilePattern");function Jd(t,e,n){let i=e.indexStack,o=t.children||[],a=[],l=-1,c=n.before,f;i.push(-1);let p=e.createTracker(n);for(;++l<o.length;){let h=o[l],g;if(i[i.length-1]=l,l+1<o.length){let E=e.handle.handlers[o[l+1].type];E&&E.peek&&(E=E.peek),g=E?E(o[l+1],t,e,{before:"",after:"",...p.current()}).charAt(0):""}else g=n.after;a.length>0&&(c==="\r"||c===`
`)&&h.type==="html"&&(a[a.length-1]=a[a.length-1].replace(/(\r?\n|\r)$/," "),c=" ",p=e.createTracker(n),p.move(a.join("")));let y=e.handle(h,t,e,{...p.current(),after:g,before:c});f&&f===y.slice(0,1)&&(y=ht(f.charCodeAt(0))+y.slice(1));let w=e.attentionEncodeSurroundingInfo;e.attentionEncodeSurroundingInfo=void 0,f=void 0,w&&(a.length>0&&w.before&&c===a[a.length-1].slice(-1)&&(a[a.length-1]=a[a.length-1].slice(0,-1)+ht(c.charCodeAt(0))),w.after&&(f=g)),p.move(y),a.push(y),c=y.slice(-1)}return i.pop(),a.join("")}r(Jd,"containerPhrasing");function Qd(t,e,n){let i=e.indexStack,o=t.children||[],a=e.createTracker(n),l=[],c=-1;for(i.push(-1);++c<o.length;){let f=o[c];i[i.length-1]=c,l.push(a.move(e.handle(f,t,e,{before:`
`,after:`
`,...a.current()}))),f.type!=="list"&&(e.bulletLastUsed=void 0),c<o.length-1&&l.push(a.move(hv(f,o[c+1],t,e)))}return i.pop(),l.join("")}r(Qd,"containerFlow");function hv(t,e,n,i){let o=i.join.length;for(;o--;){let a=i.join[o](t,e,n,i);if(a===!0||a===1)break;if(typeof a=="number")return`
`.repeat(1+a);if(a===!1)return`

<!---->

`}return`

`}r(hv,"between");var pv=/\r?\n|\r/g;function eh(t,e){let n=[],i=0,o=0,a;for(;a=pv.exec(t);)l(t.slice(i,a.index)),n.push(a[0]),i=a.index+a[0].length,o++;return l(t.slice(i)),n.join("");function l(c){n.push(e(c,o,!c))}r(l,"one")}r(eh,"indentLines");function nh(t,e,n){let i=(n.before||"")+(e||"")+(n.after||""),o=[],a=[],l={},c=-1;for(;++c<t.unsafe.length;){let h=t.unsafe[c];if(!Lo(t.stack,h))continue;let g=t.compilePattern(h),y;for(;y=g.exec(i);){let w="before"in h||!!h.atBreak,E="after"in h,x=y.index+(w?y[1].length:0);o.includes(x)?(l[x].before&&!w&&(l[x].before=!1),l[x].after&&!E&&(l[x].after=!1)):(o.push(x),l[x]={before:w,after:E})}}o.sort(mv);let f=n.before?n.before.length:0,p=i.length-(n.after?n.after.length:0);for(c=-1;++c<o.length;){let h=o[c];h<f||h>=p||h+1<p&&o[c+1]===h+1&&l[h].after&&!l[h+1].before&&!l[h+1].after||o[c-1]===h-1&&l[h].before&&!l[h-1].before&&!l[h-1].after||(f!==h&&a.push(th(i.slice(f,h),"\\")),f=h,/[!-/:-@[-`{-~]/.test(i.charAt(h))&&(!n.encode||!n.encode.includes(i.charAt(h)))?a.push("\\"):(a.push(ht(i.charCodeAt(h))),f++))}return a.push(th(i.slice(f,p),n.after)),a.join("")}r(nh,"safe");function mv(t,e){return t-e}r(mv,"numerical");function th(t,e){let n=/\\(?=[!-/:-@[-`{-~])/g,i=[],o=[],a=t+e,l=-1,c=0,f;for(;f=n.exec(a);)i.push(f.index);for(;++l<i.length;)c!==i[l]&&o.push(t.slice(c,i[l])),o.push("\\"),c=i[l];return o.push(t.slice(c)),o.join("")}r(th,"escapeBackslashes");function rh(t){let e=t||{},n=e.now||{},i=e.lineShift||0,o=n.line||1,a=n.column||1;return{move:f,current:l,shift:c};function l(){return{now:{line:o,column:a},lineShift:i}}function c(p){i+=p}function f(p){let h=p||"",g=h.split(/\r?\n|\r/g),y=g[g.length-1];return o+=g.length-1,a=g.length===1?a+y.length:1+y.length+i,h}}r(rh,"track");function Hl(t,e){let n=e||{},i={associationId:Xd,containerPhrasing:bv,containerFlow:kv,createTracker:rh,compilePattern:Zd,enter:a,handlers:{...qd},handle:void 0,indentLines:eh,indexStack:[],join:[...jd],options:{},safe:Av,stack:[],unsafe:[...Kd]};Ol(i,n),i.options.tightDefinitions&&i.join.push(yv),i.handle=Cd("type",{invalid:gv,unknown:wv,handlers:i.handlers});let o=i.handle(t,void 0,i,{before:`
`,after:`
`,now:{line:1,column:1},lineShift:0});return o&&o.charCodeAt(o.length-1)!==10&&o.charCodeAt(o.length-1)!==13&&(o+=`
`),o;function a(l){return i.stack.push(l),c;function c(){i.stack.pop()}r(c,"exit")}r(a,"enter")}r(Hl,"toMarkdown");function gv(t){throw new Error("Cannot handle value `"+t+"`, expected node")}r(gv,"invalid");function wv(t){let e=t;throw new Error("Cannot handle unknown node `"+e.type+"`")}r(wv,"unknown");function yv(t,e){if(t.type==="definition"&&t.type===e.type)return 0}r(yv,"joinDefinition");function bv(t,e){return Jd(t,this,e)}r(bv,"containerPhrasingBound");function kv(t,e){return Qd(t,this,e)}r(kv,"containerFlowBound");function Av(t,e){return nh(this,t,e)}r(Av,"safeBound");function Wo(t){let e=this;e.compiler=n;function n(i){return Hl(i,{...e.data("settings"),...t,extensions:e.data("toMarkdownExtensions")||[]})}r(n,"compiler")}r(Wo,"remarkStringify");function Gl(t){if(t)throw t}r(Gl,"bail");var Go=De(dh(),1);function bi(t){if(typeof t!="object"||t===null)return!1;let e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}r(bi,"isPlainObject");function ql(){let t=[],e={run:n,use:i};return e;function n(...o){let a=-1,l=o.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...o);function c(f,...p){let h=t[++a],g=-1;if(f){l(f);return}for(;++g<o.length;)(p[g]===null||p[g]===void 0)&&(p[g]=o[g]);o=p,h?hh(h,c)(...p):l(null,...p)}r(c,"next")}function i(o){if(typeof o!="function")throw new TypeError("Expected `middelware` to be a function, not "+o);return t.push(o),e}}r(ql,"trough");function hh(t,e){let n;return i;function i(...l){let c=t.length>l.length,f;c&&l.push(o);try{f=t.apply(this,l)}catch(p){let h=p;if(c&&n)throw h;return o(h)}c||(f&&f.then&&typeof f.then=="function"?f.then(a,o):f instanceof Error?o(f):a(f))}function o(l,...c){n||(n=!0,e(l,...c))}function a(l){o(null,l)}}r(hh,"wrap");var Oe=class extends Error{static{r(this,"VFileMessage")}constructor(e,n,i){super(),typeof n=="string"&&(i=n,n=void 0);let o="",a={},l=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof e=="string"?o=e:!a.cause&&e&&(l=!0,o=e.message,a.cause=e),!a.ruleId&&!a.source&&typeof i=="string"){let f=i.indexOf(":");f===-1?a.ruleId=i:(a.source=i.slice(0,f),a.ruleId=i.slice(f+1))}if(!a.place&&a.ancestors&&a.ancestors){let f=a.ancestors[a.ancestors.length-1];f&&(a.place=f.position)}let c=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file="",this.message=o,this.line=c?c.line:void 0,this.name=xn(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=l&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}};Oe.prototype.file="";Oe.prototype.name="";Oe.prototype.reason="";Oe.prototype.message="";Oe.prototype.stack="";Oe.prototype.column=void 0;Oe.prototype.line=void 0;Oe.prototype.ancestors=void 0;Oe.prototype.cause=void 0;Oe.prototype.fatal=void 0;Oe.prototype.place=void 0;Oe.prototype.ruleId=void 0;Oe.prototype.source=void 0;var vt=De(require("node:path"),1);var jl=De(require("node:process"),1);var Kl=require("node:url");function zo(t){return!!(t!==null&&typeof t=="object"&&"href"in t&&t.href&&"protocol"in t&&t.protocol&&t.auth===void 0)}r(zo,"isUrl");var Xl=["history","path","basename","stem","extname","dirname"],ki=class{static{r(this,"VFile")}constructor(e){let n;e?zo(e)?n={path:e}:typeof e=="string"||vv(e)?n={value:e}:n=e:n={},this.cwd="cwd"in n?"":jl.default.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Xl.length;){let a=Xl[i];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let o;for(o in n)Xl.includes(o)||(this[o]=n[o])}get basename(){return typeof this.path=="string"?vt.default.basename(this.path):void 0}set basename(e){Jl(e,"basename"),Zl(e,"basename"),this.path=vt.default.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?vt.default.dirname(this.path):void 0}set dirname(e){ph(this.basename,"dirname"),this.path=vt.default.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?vt.default.extname(this.path):void 0}set extname(e){if(Zl(e,"extname"),ph(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=vt.default.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){zo(e)&&(e=(0,Kl.fileURLToPath)(e)),Jl(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?vt.default.basename(this.path,this.extname):void 0}set stem(e){Jl(e,"stem"),Zl(e,"stem"),this.path=vt.default.join(this.dirname||"",e+(this.extname||""))}fail(e,n,i){let o=this.message(e,n,i);throw o.fatal=!0,o}info(e,n,i){let o=this.message(e,n,i);return o.fatal=void 0,o}message(e,n,i){let o=new Oe(e,n,i);return this.path&&(o.name=this.path+":"+o.name,o.file=this.path),o.fatal=!1,this.messages.push(o),o}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}};function Zl(t,e){if(t&&t.includes(vt.default.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+vt.default.sep+"`")}r(Zl,"assertPart");function Jl(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}r(Jl,"assertNonEmpty");function ph(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}r(ph,"assertPath");function vv(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}r(vv,"isUint8Array");var mh=r((function(t){let i=this.constructor.prototype,o=i[t],a=r(function(){return o.apply(a,arguments)},"apply");return Object.setPrototypeOf(a,i),a}),"CallableInstance");var Ev={}.hasOwnProperty,nu=class t extends mh{static{r(this,"Processor")}constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=ql()}copy(){let e=new t,n=-1;for(;++n<this.attachers.length;){let i=this.attachers[n];e.use(...i)}return e.data((0,Go.default)(!0,{},this.namespace)),e}data(e,n){return typeof e=="string"?arguments.length===2?(tu("data",this.frozen),this.namespace[e]=n,this):Ev.call(this.namespace,e)&&this.namespace[e]||void 0:e?(tu("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;let e=this;for(;++this.freezeIndex<this.attachers.length;){let[n,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);let o=n.call(e,...i);typeof o=="function"&&this.transformers.use(o)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();let n=Ho(e),i=this.parser||this.Parser;return Ql("parse",i),i(String(n),n)}process(e,n){let i=this;return this.freeze(),Ql("process",this.parser||this.Parser),eu("process",this.compiler||this.Compiler),n?o(void 0,n):new Promise(o);function o(a,l){let c=Ho(e),f=i.parse(c);i.run(f,c,function(h,g,y){if(h||!g||!y)return p(h);let w=g,E=i.stringify(w,y);xv(E)?y.value=E:y.result=E,p(h,y)});function p(h,g){h||!g?l(h):a?a(g):n(void 0,g)}r(p,"realDone")}r(o,"executor")}processSync(e){let n=!1,i;return this.freeze(),Ql("processSync",this.parser||this.Parser),eu("processSync",this.compiler||this.Compiler),this.process(e,o),wh("processSync","process",n),i;function o(a,l){n=!0,Gl(a),i=l}r(o,"realDone")}run(e,n,i){gh(e),this.freeze();let o=this.transformers;return!i&&typeof n=="function"&&(i=n,n=void 0),i?a(void 0,i):new Promise(a);function a(l,c){let f=Ho(n);o.run(e,f,p);function p(h,g,y){let w=g||e;h?c(h):l?l(w):i(void 0,w,y)}r(p,"realDone")}r(a,"executor")}runSync(e,n){let i=!1,o;return this.run(e,n,a),wh("runSync","run",i),o;function a(l,c){Gl(l),o=c,i=!0}r(a,"realDone")}stringify(e,n){this.freeze();let i=Ho(n),o=this.compiler||this.Compiler;return eu("stringify",o),gh(e),o(e,i)}use(e,...n){let i=this.attachers,o=this.namespace;if(tu("use",this.frozen),e!=null)if(typeof e=="function")f(e,n);else if(typeof e=="object")Array.isArray(e)?c(e):l(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function a(p){if(typeof p=="function")f(p,[]);else if(typeof p=="object")if(Array.isArray(p)){let[h,...g]=p;f(h,g)}else l(p);else throw new TypeError("Expected usable value, not `"+p+"`")}function l(p){if(!("plugins"in p)&&!("settings"in p))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(p.plugins),p.settings&&(o.settings=(0,Go.default)(!0,o.settings,p.settings))}function c(p){let h=-1;if(p!=null)if(Array.isArray(p))for(;++h<p.length;){let g=p[h];a(g)}else throw new TypeError("Expected a list of plugins, not `"+p+"`")}function f(p,h){let g=-1,y=-1;for(;++g<i.length;)if(i[g][0]===p){y=g;break}if(y===-1)i.push([p,...h]);else if(h.length>0){let[w,...E]=h,x=i[y][1];bi(x)&&bi(w)&&(w=(0,Go.default)(!0,x,w)),i[y]=[p,w,...E]}}}},ru=new nu().freeze();function Ql(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `parser`")}r(Ql,"assertParser");function eu(t,e){if(typeof e!="function")throw new TypeError("Cannot `"+t+"` without `compiler`")}r(eu,"assertCompiler");function tu(t,e){if(e)throw new Error("Cannot call `"+t+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}r(tu,"assertUnfrozen");function gh(t){if(!bi(t)||typeof t.type!="string")throw new TypeError("Expected node, got `"+t+"`")}r(gh,"assertNode");function wh(t,e,n){if(!n)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}r(wh,"assertDone");function Ho(t){return Cv(t)?t:new ki(t)}r(Ho,"vfile");function Cv(t){return!!(t&&typeof t=="object"&&"message"in t&&"messages"in t)}r(Cv,"looksLikeAVFile");function xv(t){return typeof t=="string"||Tv(t)}r(xv,"looksLikeAValue");function Tv(t){return!!(t&&typeof t=="object"&&"byteLength"in t&&"byteOffset"in t)}r(Tv,"isUint8Array");var yh=ru().use(Sr).use(Wo).freeze();var ou={d:r((t,e)=>{for(var n in e)ou.o(e,n)&&!ou.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},"d"),o:r((t,e)=>Object.prototype.hasOwnProperty.call(t,e),"o")},su={};ou.d(su,{Z:r(()=>Iv,"Z"),$:r(()=>vh,"$")});var Or={horizontalTab:-2,virtualSpace:-1,nul:0,eof:null,space:32};function bh(t){return t<Or.nul||t===Or.space}r(bh,"n");function iu(t){return t<Or.horizontalTab}r(iu,"i");var Sv={553:t=>{t.exports=function(e){var n,i;return e._compiled||(n=e.before?"(?:"+e.before+")":"",i=e.after?"(?:"+e.after+")":"",e.atBreak&&(n="[\\r\\n][\\t ]*"+n),e._compiled=new RegExp((n?"("+n+")":"")+(/[|\\{}()[\]^$+*?.-]/.test(e.character)?"\\":"")+e.character+(i||""),"g")),e._compiled}},112:t=>{function e(n,i,o){var a;if(!i)return o;for(typeof i=="string"&&(i=[i]),a=-1;++a<i.length;)if(n.indexOf(i[a])!==-1)return!0;return!1}r(e,"t"),t.exports=function(n,i){return e(n,i.inConstruct,!0)&&!e(n,i.notInConstruct)}},113:(t,e,n)=>{t.exports=function(c,f,p){for(var h,g,y,w,E,x,F,C,I=(p.before||"")+(f||"")+(p.after||""),_=[],W=[],z={},S=-1;++S<c.unsafe.length;)if(w=c.unsafe[S],o(c.stack,w))for(E=i(w);x=E.exec(I);)h="before"in w||w.atBreak,g="after"in w,y=x.index+(h?x[1].length:0),_.indexOf(y)===-1?(_.push(y),z[y]={before:h,after:g}):(z[y].before&&!h&&(z[y].before=!1),z[y].after&&!g&&(z[y].after=!1));for(_.sort(a),F=p.before?p.before.length:0,C=I.length-(p.after?p.after.length:0),S=-1;++S<_.length;)(y=_[S])<F||y>=C||y+1<C&&_[S+1]===y+1&&z[y].after&&!z[y+1].before&&!z[y+1].after||(F!==y&&W.push(l(I.slice(F,y),"\\")),F=y,!/[!-/:-@[-`{-~]/.test(I.charAt(y))||p.encode&&p.encode.indexOf(I.charAt(y))!==-1?(W.push("&#x"+I.charCodeAt(y).toString(16).toUpperCase()+";"),F++):W.push("\\"));return W.push(l(I.slice(F,C),p.after)),W.join("")};var i=n(553),o=n(112);function a(c,f){return c-f}r(a,"a");function l(c,f){for(var p,h=/\\(?=[!-/:-@[-`{-~])/g,g=[],y=[],w=-1,E=0,x=c+f;p=h.exec(x);)g.push(p.index);for(;++w<g.length;)E!==g[w]&&y.push(c.slice(E,g[w])),y.push("\\"),E=g[w];return y.push(c.slice(E)),y.join("")}r(l,"o")}},kh={};function Ut(t){var e=kh[t];if(e!==void 0)return e.exports;var n=kh[t]={exports:{}};return Sv[t](n,n.exports,Ut),n.exports}r(Ut,"s");Ut.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return Ut.d(e,{a:e}),e},Ut.d=(t,e)=>{for(var n in e)Ut.o(e,n)&&!Ut.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},Ut.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var au={};(()=>{function t(o={}){let a=o.permalinks||[],l=o.pageResolver||(y=>[y.replace(/ /g,"_").toLowerCase()]),c=o.newClassName||"new",f=o.wikiLinkClassName||"internal",p=o.hrefTemplate||(y=>`#/page/${y}`),h;function g(y){return y[y.length-1]}return r(g,"s"),{enter:{wikiLink:r(function(y){h={type:"wikiLink",value:null,data:{alias:null,permalink:null,exists:null}},this.enter(h,y)},"wikiLink")},exit:{wikiLinkTarget:r(function(y){let w=this.sliceSerialize(y);g(this.stack).value=w},"wikiLinkTarget"),wikiLinkAlias:r(function(y){let w=this.sliceSerialize(y);g(this.stack).data.alias=w},"wikiLinkAlias"),wikiLink:r(function(y){this.exit(y);let w=h,E=l(w.value),x=E.find((W=>a.indexOf(W)!==-1)),F=x!==void 0,C;C=F?x:E[0]||"";let I=w.value;w.data.alias&&(I=w.data.alias);let _=f;F||(_+=" "+c),w.data.alias=I,w.data.permalink=C,w.data.exists=F,w.data.hName="a",w.data.hProperties={className:_,href:p(C)},w.data.hChildren=[{type:"text",value:I}]},"wikiLink")}}}r(t,"e"),Ut.d(au,{V:r(()=>t,"V"),x:r(()=>i,"x")});var e=Ut(113),n=Ut.n(e);function i(o={}){let a=o.aliasDivider||":";return{unsafe:[{character:"[",inConstruct:["phrasing","label","reference"]},{character:"]",inConstruct:["label","reference"]}],handlers:{wikiLink:r(function(l,c,f){let p=f.enter("wikiLink"),h=n()(f,l.value,{before:"[",after:"]"}),g=n()(f,l.data.alias,{before:"[",after:"]"}),y;return y=g!==h?`[[${h}${a}${g}]]`:`[[${h}]]`,p(),y},"wikiLink")}}}r(i,"n")})();var Fv=au.V,Pv=au.x,Ah=!1;function vh(t={}){let e=this.data();function n(i,o){e[i]?e[i].push(o):e[i]=[o]}r(n,"a"),!Ah&&(this.Parser&&this.Parser.prototype&&this.Parser.prototype.blockTokenizers||this.Compiler&&this.Compiler.prototype&&this.Compiler.prototype.visitors)&&(Ah=!0,console.warn("[remark-wiki-link] Warning: please upgrade to remark 13 to use this plugin")),n("micromarkExtensions",(function(){var i=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).aliasDivider||":",o="]]";return{text:{91:{tokenize:r(function(a,l,c){var f,p,h=0,g=0,y=0;return function(I){return I!=="[[".charCodeAt(g)?c(I):(a.enter("wikiLink"),a.enter("wikiLinkMarker"),w(I))};function w(I){return g===2?(a.exit("wikiLinkMarker"),(function(_){return iu(_)||_===Or.eof?c(_):(a.enter("wikiLinkData"),a.enter("wikiLinkTarget"),E(_))})(I)):I!=="[[".charCodeAt(g)?c(I):(a.consume(I),g++,w)}function E(I){return I===i.charCodeAt(h)?f?(a.exit("wikiLinkTarget"),a.enter("wikiLinkAliasMarker"),x(I)):c(I):I===o.charCodeAt(y)?f?(a.exit("wikiLinkTarget"),a.exit("wikiLinkData"),a.enter("wikiLinkMarker"),C(I)):c(I):iu(I)||I===Or.eof?c(I):(bh(I)||(f=!0),a.consume(I),E)}function x(I){return h===i.length?(a.exit("wikiLinkAliasMarker"),a.enter("wikiLinkAlias"),F(I)):I!==i.charCodeAt(h)?c(I):(a.consume(I),h++,x)}function F(I){return I===o.charCodeAt(y)?p?(a.exit("wikiLinkAlias"),a.exit("wikiLinkData"),a.enter("wikiLinkMarker"),C(I)):c(I):iu(I)||I===Or.eof?c(I):(bh(I)||(p=!0),a.consume(I),F)}function C(I){return y===2?(a.exit("wikiLinkMarker"),a.exit("wikiLink"),l(I)):I!==o.charCodeAt(y)?c(I):(a.consume(I),y++,C)}},"tokenize")}}}})(t)),n("fromMarkdownExtensions",Fv(t)),n("toMarkdownExtensions",Pv(t))}r(vh,"k");var Iv=vh,mM=su.Z,Eh=su.$;r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _v=/^[A-Za-z][A-Za-z0-9+\-.]*:\S+$/;function lu(t){if(/\s/.test(t))return!1;if(t.includes("://"))try{return new URL(t),!0}catch{return!1}return _v.test(t)}r(lu,"isUrl");var Kn=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function qo(t){let e=(0,Kn.getFrontMatterInfo)(t);return(0,Kn.parseYaml)(e.frontmatter)??{}}r(qo,"parseFrontmatter");function Ch(t,e){let n=(0,Kn.getFrontMatterInfo)(t);if(Object.keys(e).length===0)return t.slice(n.contentStart);let i=(0,Kn.stringifyYaml)(e);return n.exists?If(t,i,n.from,n.to):`---
${i}---
${t}`}r(Ch,"setFrontmatter");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function pt(t){if(!ft(t))return!1;let e=t;return e.startOffset!==void 0&&e.endOffset!==void 0}r(pt,"isFrontmatterLinkCacheWithOffsets");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function xh(t){return uu(t)&&t.type==="file"}r(xh,"isCanvasFileNodeReference");function uu(t){return ft(t)&&!!t.isCanvas}r(uu,"isCanvasReference");function Rr(t,e){return{newContent:e,oldContent:t.original,reference:t}}r(Rr,"referenceToFileChange");function Th(t){return t.sort((e,n)=>{if(ft(e)&&ft(n)){let i=pt(e)?e.startOffset:0,o=pt(n)?n.startOffset:0;return e.key.localeCompare(n.key)||Number(pt(n))-Number(pt(e))||i-o}return ln(e)&&ln(n)?e.position.start.offset-n.position.start.offset:ft(e)?1:-1})}r(Th,"sortReferences");var Sh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Fh(t,e,n){let i=Pe(t,e),o=kt(n);await jo(t,o);let a=Ph(t,n);try{await t.vault.copy(i,a)}catch(l){if(!await t.vault.exists(a))throw l}return a}r(Fh,"copySafe");async function jo(t,e){if(await t.vault.adapter.exists(e))return!1;try{return await t.vault.createFolder(e),!0}catch(n){if(!await t.vault.exists(e))throw n;return!0}}r(jo,"createFolderSafe");function Ph(t,e){let n=Ye(e);return t.vault.getAvailablePath(ve(we(e),Te(e,n)),n.slice(1))}r(Ph,"getAvailablePath");function cu(t,e,n){let i=Ee(t,e);if(t.vault.adapter.insensitive){let o=we(n),a=Te(n),l;for(;l=Wt(t,o,!0),!l;)a=ve(Te(o),a),o=we(o);n=ve(l.getParentPrefix(),a)}return i.toLowerCase()===n.toLowerCase()?n:Ph(t,n)}r(cu,"getSafeRenamePath");async function fu(t,e){let n=await du(t,Ee(t,e));return n.files.length===0&&n.folders.length===0}r(fu,"isEmptyFolder");async function du(t,e){let n=Ee(t,e),i={files:[],folders:[]};if((await t.vault.adapter.stat(n))?.type!=="folder")return i;try{return await t.vault.adapter.list(n)}catch(o){if(await t.vault.exists(n))throw o;return i}}r(du,"listSafe");async function Ko(t,e,n,i={}){let a={...{shouldFailOnMissingFile:!0},...i};await bo(async l=>{l.throwIfAborted();let c=await hu(t,e);if(l.throwIfAborted(),c===null)return g();let f=await Yn(n,l,c);if(l.throwIfAborted(),f===null)return!1;let p=!0;if(!await Ih(t,e,async y=>{l.throwIfAborted(),await t.vault.process(y,w=>(l.throwIfAborted(),w!==c?(console.warn("Content has changed since it was read. Retrying...",{actualContent:w,expectedContent:c,path:y.path}),p=!1,w):f)),l.throwIfAborted()}))return g();return p;function g(){if(a.shouldFailOnMissingFile){let y=Ee(t,e);throw new Error(`File '${y}' not found`)}return!0}},a)}r(Ko,"process");async function hu(t,e){let n=null;return await Ih(t,e,async i=>{n=await t.vault.read(i)}),n}r(hu,"readSafe");async function Xo(t,e,n){let i=Pe(t,e,!1,!0),o=cu(t,e,n);if(i.path.toLowerCase()===o.toLowerCase())return i.path!==n&&await t.vault.rename(i,o),o;let a=kt(o);await jo(t,a);try{await t.vault.rename(i,o)}catch(l){if(!await t.vault.exists(o)||await t.vault.exists(i.path))throw l}return o}r(Xo,"renameSafe");async function pu(t,e){if(!fn(t,e))return;let n=Ee(t,e);for(let i of t.workspace.getLeavesOfType(li.Markdown))i.view instanceof Sh.MarkdownView&&i.view.file?.path===n&&i.view.dirty&&await i.view.save()}r(pu,"saveNote");async function Ih(t,e,n){let i=Ee(t,e),o=st(t,i);if(!o||o.deleted)return!1;try{return await n(o),!0}catch(a){if(o=st(t,i),!o||o.deleted)return!1;throw a}}r(Ih,"invokeFileActionSafe");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function Qo(t,e,n,i,o=!0){t.throwIfAborted();let a=await Yn(i,t,e);if(t.throwIfAborted(),a===null)return null;let{frontmatter:l,hasFrontmatterError:c}=Bv(e,n);if(!Wv(a,e,l,n,o))return o?null:e;if(a=Vv(a),!Yv(a))return null;let{frontmatterChanged:f,newContent:p}=Mv(a,e,l,c,n);return await Lv(t,l,f,n),t.throwIfAborted(),Nv(p,l,f)}r(Qo,"applyContentChanges");async function es(t,e,n,i={},o=!0){await Ko(t,e,async(a,l)=>cn(t,e)?await Dv(a,l,Ee(t,e),n,o):await Qo(a,l,Ee(t,e),n,o),i)}r(es,"applyFileChanges");function Ai(t){return uu(t.reference)}r(Ai,"isCanvasChange");function Ov(t){return Ai(t)&&t.reference.type==="file"}r(Ov,"isCanvasFileNodeChange");function Rv(t){return Ai(t)&&t.reference.type==="text"}r(Rv,"isCanvasTextNodeChange");function hn(t){return ln(t.reference)}r(hn,"isContentChange");function Zo(t){return ft(t.reference)}r(Zo,"isFrontmatterChange");function Jo(t){return pt(t.reference)}r(Jo,"isFrontmatterChangeWithOffsets");async function Dv(t,e,n,i,o=!0){let a=await Yn(i,t,e);if(t.throwIfAborted(),a===null)return null;let l=$v(e),c=new Map;for(let f of a){if(!Ai(f))return console.warn("Only canvas changes are supported for canvas files",{change:f,path:n}),null;let p=l.nodes[f.reference.nodeIndex];if(!p)return console.warn("Node not found",{nodeIndex:f.reference.nodeIndex,path:n}),null;if(Ov(f)){if(p.file!==f.oldContent)return console.warn("Content mismatch",{actualContent:p.file,expectedContent:f.oldContent,nodeIndex:f.reference.nodeIndex,path:n,type:"file"}),null;p.file=f.newContent}else if(Rv(f)){let h=c.get(f.reference.nodeIndex);h||(h=[],c.set(f.reference.nodeIndex,h)),h.push(f)}}for(let[f,p]of c.entries()){let h=l.nodes[f];if(!h)return console.warn("Node not found",{nodeIndex:f,path:n}),null;if(typeof h.text!="string")return console.warn("Node text is not a string",{nodeIndex:f,path:n}),null;let g=p.map(y=>Rr(y.reference.originalReference,y.newContent));h.text=await Qo(t,h.text,`${n}.node${String(f)}.VIRTUAL_FILE.md`,g,o)}return JSON.stringify(l,null,"	")}r(Dv,"applyCanvasChanges");function Mv(t,e,n,i,o){let a="",l=0,c=new Map;for(let f of t)if(hn(f))a+=e.slice(l,f.reference.position.start.offset),a+=f.newContent,l=f.reference.position.end.offset;else if(Jo(f))if(i)console.error(`Cannot apply frontmatter change in ${o}, because frontmatter parsing failed`,{change:f});else{let p=c.get(f.reference.key);p||(p=[],c.set(f.reference.key,p)),p.push(f)}else Zo(f)&&(i?console.error(`Cannot apply frontmatter change in ${o}, because frontmatter parsing failed`,{change:f}):ll(n,f.reference.key,f.newContent));return a+=e.slice(l),{frontmatterChanged:c,newContent:a}}r(Mv,"applyContentChangesToText");async function Lv(t,e,n,i){for(let[o,a]of n.entries()){let l=An(e,o);if(typeof l!="string")return;let c=a.map(p=>({newContent:p.newContent,oldContent:p.oldContent,reference:{link:"",original:"",position:{end:{col:p.reference.endOffset,line:0,offset:p.reference.endOffset},start:{col:p.reference.startOffset,line:0,offset:p.reference.startOffset}}}})),f=await Qo(t,l,`${i}.frontmatter.${o}.VIRTUAL_FILE.md`,c);if(f===null)return;ll(e,o,f)}}r(Lv,"applyFrontmatterChangesWithOffsets");function Nv(t,e,n){return n.size>0?Ch(t,e):t}r(Nv,"buildFinalContent");function Bv(t,e){let n={},i=!1;try{n=qo(t)}catch(o){console.error(new Error(`Frontmatter parsing failed in ${e}`,{cause:o})),i=!0}return{frontmatter:n,hasFrontmatterError:i}}r(Bv,"parseFrontmatterSafely");function $v(t){let e;try{e=JSON.parse(t)}catch{e=null}return(e===null||typeof e!="object")&&(e={}),e}r($v,"parseJsonSafe");function Vv(t){return t.sort((e,n)=>hn(e)&&hn(n)?e.reference.position.start.offset-n.reference.position.start.offset:Jo(e)&&Jo(n)?e.reference.key.localeCompare(n.reference.key)||e.reference.startOffset-n.reference.startOffset:Zo(e)&&Zo(n)?e.reference.key.localeCompare(n.reference.key):hn(e)?-1:1),t.filter((e,n)=>e.oldContent===e.newContent?!1:n===0?!0:!yt(e,t[n-1]))}r(Vv,"sortAndFilterChanges");function Yv(t){for(let e=1;e<t.length;e++){let n=t[e];if(!n)continue;let i=t[e-1];if(i&&hn(i)&&hn(n)&&i.reference.position.end.offset&&i.reference.position.end.offset>n.reference.position.start.offset)return console.warn("Overlapping changes",{change:n,previousChange:i}),!1}return!0}r(Yv,"validateChangeOverlaps");function Wv(t,e,n,i,o){let a=mr("FileChange:validateChanges"),l=o?console.warn.bind(console):a;for(let c of t)if(hn(c)){let f=c.reference.position.start.offset,p=c.reference.position.end.offset,h=e.slice(f,p);if(h!==c.oldContent)return l("Content mismatch",{actualContent:h,endOffset:p,expectedContent:c.oldContent,path:i,startOffset:f}),!1}else if(Jo(c)){let f=An(n,c.reference.key);if(typeof f!="string")return l("Property value is not a string",{frontmatterKey:c.reference.key,path:i,propertyValue:f}),!1;let p=f.slice(c.reference.startOffset,c.reference.endOffset);if(p!==c.oldContent)return l("Content mismatch",{actualContent:p,expectedContent:c.oldContent,frontmatterKey:c.reference.key,path:i,startOffset:c.reference.startOffset}),!1}else if(Zo(c)){let f=An(n,c.reference.key);if(f!==c.oldContent)return l("Content mismatch",{actualContent:f,expectedContent:c.oldContent,frontmatterKey:c.reference.key,path:i}),!1}return!0}r(Wv,"validateChanges");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function _h(t){await new Promise(e=>{t.metadataCache.onCleanCache(e)})}r(_h,"ensureMetadataCacheReady");function Sn(t){let e=[];return t.links&&e.push(...t.links),t.embeds&&e.push(...t.embeds),t.frontmatterLinks&&e.push(...t.frontmatterLinks),Th(e),e=e.filter((n,i)=>{if(i===0)return!0;let o=e[i-1];if(!o)return!0;if(ln(n)&&ln(o))return n.position.start.offset!==o.position.start.offset;if(ft(n)&&ft(o)){let a=pt(n)?n.startOffset:0,l=pt(o)?o.startOffset:0;return n.key!==o.key||pt(n)!==pt(o)||a!==l}return!0}),e}r(Sn,"getAllLinks");function mu(t,e){let n=Pe(t,e,!0);return vi(t,[n],()=>t.metadataCache.getBacklinksForFile(n))}r(mu,"getBacklinksForFileOrPath");async function pn(t,e,n={}){let i=t.metadataCache.getBacklinksForFile.safe;if(i)return i(e);let o=new Df;return await bo(async a=>{a.throwIfAborted();let l=Pe(t,e);await _h(t),a.throwIfAborted(),o=mu(t,l);for(let c of o.keys()){a.throwIfAborted();let f=st(t,c);if(!f)return!1;await pu(t,f),a.throwIfAborted();let p=await hu(t,f);if(a.throwIfAborted(),!p)return!1;let h=qo(p),g=o.get(c);if(!g)return!1;for(let y of g){let w;if(ln(y))w=p.slice(y.position.start.offset,y.position.end.offset);else if(ft(y)){let E=An(h,y.key);if(typeof E!="string")return!1;let x=0,F=E.length;pt(y)&&(x=y.startOffset,F=y.endOffset),w=E.slice(x,F)}else return!0;if(w!==y.original)return!1}}return!0},n),o}r(pn,"getBacklinksForFileSafe");async function Dr(t,e){let n=st(t,e);try{if(!n||n.deleted)return null;await pu(t,n);let i=t.metadataCache.fileCache[n.path];return i&&i.mtime===n.stat.mtime&&i.size===n.stat.size&&t.metadataCache.metadataCache[i.hash]||(await t.metadataCache.computeFileMetadataAsync(n),await _h(t)),t.metadataCache.getFileCache(n)}catch(i){if(!n||n.deleted)return null;throw i}}r(Dr,"getCacheSafe");function Uv(t,e){let n=new Set;for(let i of e){if(!i.deleted)continue;let o=i;for(;o.deleted;)n.add(o.path),t.vault.fileMap[o.path]=o,o=o.parent??ui(t,kt(o.path),!0);At(i)&&t.metadataCache.uniqueFileLookup.add(i.name.toLowerCase(),i)}return()=>{for(let i of n)delete t.vault.fileMap[i];for(let i of e)i.deleted&&At(i)&&t.metadataCache.uniqueFileLookup.remove(i.name.toLowerCase(),i)}}r(Uv,"registerFiles");function vi(t,e,n){let i=Uv(t,e);try{return n()}finally{i()}}r(vi,"tempRegisterFilesAndRun");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Oh(t){return t.vault.getConfig("newLinkFormat")==="relative"}r(Oh,"shouldUseRelativeLinks");function gu(t){return!t.vault.getConfig("useMarkdownLinks")}r(gu,"shouldUseWikilinks");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var zv="\\|",Hv=/[\\\x00\x08\x0B\x0C\x0E-\x1F ]/g,Gv=/[\\[\]<>_*~=`$]/g,Dh=/(?<!\\)\|/g,Mh="|",yu=(t=>(t.Markdown="Markdown",t.ObsidianSettingsDefault="ObsidianSettingsDefault",t.PreserveExisting="PreserveExisting",t.Wikilink="Wikilink",t))(yu||{});function qv(t){let e=Mr(t.app,t.link,t.oldSourcePathOrFile??t.newSourcePathOrFile);return e?xi({app:t.app,link:t.link,linkStyle:t.linkStyle,newSourcePathOrFile:t.newSourcePathOrFile,newTargetPathOrFile:e,oldSourcePathOrFile:t.oldSourcePathOrFile,shouldUpdateFileNameAlias:t.shouldUpdateFileNameAlias}):t.link.original}r(qv,"convertLink");async function bu(t,e,n,i={}){await es(t,e,async(o,a)=>{let l=await Dr(t,e);o.throwIfAborted();let c=Pe(t,e),f=await t.vault.cachedRead(c);return o.throwIfAborted(),a!==f?null:await tE(l,cn(t,e),n,o)},i)}r(bu,"editLinks");function Ei(t){return Ae(t,Hv,({substring:e})=>encodeURIComponent(e))}r(Ei,"encodeUrl");function Mr(t,e,n,i=!1){let{linkPath:o}=Lh(e.link),a=Ee(t,n),l=t.metadataCache.getFirstLinkpathDest(o,a);if(l)return l;if(!i)return null;if(o.startsWith("/"))return Pe(t,o,!0);let c=ve(we(a),`./${o}`);return c.startsWith("../")?null:Pe(t,c,!0)}r(Mr,"extractLinkFile");function ku(t){let{app:e}=t,i=(e.fileManager.generateMarkdownLink.defaultOptionsFn??(()=>({})))();t={...{isEmptyEmbedAliasAllowed:!0},...i,...t};let a=Pe(e,t.targetPathOrFile,t.isNonExistingFileAllowed);return vi(e,[a],()=>Jv(t))}r(ku,"generateMarkdownLink");function Ci(t){let e=jv(t);return e[0]?.raw===t?e[0]:null}r(Ci,"parseLink");function jv(t){let e=new Set,n="![",i=" [",o=Ae(t,n,h=>(e.add(h.offset),i)),l=yh().use(Sr).use(Eh,{aliasDivider:Mh}).parse(o),c=[],f=[];yi(l,h=>{let g;switch(h.type){case"link":g=rE(h,t);break;case"wikiLink":g=iE(h,t);break;default:return}e.has(g.startOffset-1)&&(g.isEmbed=!0,g.startOffset--,g.raw=`!${g.raw}`),c.push(g)}),c.sort((h,g)=>h.startOffset-g.startOffset);let p=0;for(let h of c)Rh(t,p,h.startOffset-1,f),p=h.endOffset+1;return Rh(t,p,t.length-1,f),c.push(...f),c.sort((h,g)=>h.startOffset-g.startOffset),c}r(jv,"parseLinks");function Kv(t){let{app:e,displayText:n,isWikilink:i,newSourcePathOrFile:o,oldSourcePathOrFile:a,oldTargetPath:l,targetPathOrFile:c}=t;if(i===!1)return!1;if(!n)return!0;let f=Pe(e,c,!0),p=Ee(e,o),h=Ee(e,a??o),g=we(p),y=we(h),w=new Set;for(let x of[f.path,l]){if(!x)continue;let F=Ee(e,x);w.add(F),w.add(Te(F)),w.add(vr(g,F)),w.add(vr(y,F))}for(let x of[h,p])w.add(e.metadataCache.fileToLinktext(f,x,!1));let E=Ae((0,ts.normalizePath)(n.split(" > ")[0]??""),/^\.\//g,"").toLowerCase();for(let x of w){if(x.toLowerCase()===E)return!0;let F=we(x),C=Te(x,Ye(x));if(ve(F,C).toLowerCase()===E)return!0}return!1}r(Kv,"shouldResetAlias");function Lh(t){let e=(0,ts.parseLinktext)(ai(t));return{linkPath:e.path,subpath:e.subpath}}r(Lh,"splitSubpath");function Au(t){return Ci(t)?.hasAngleBrackets??!1}r(Au,"testAngleBrackets");function Nh(t){return Ci(t)?.isEmbed??!1}r(Nh,"testEmbed");function Xv(t){return Ci(t)?.url.startsWith("./")??!1}r(Xv,"testLeadingDot");function vu(t){return Ci(t)?.isWikilink??!1}r(vu,"testWikilink");function xi(t){let{app:e,link:n,linkStyle:i,newSourcePathOrFile:o,newTargetPathOrFile:a,oldSourcePathOrFile:l,oldTargetPathOrFile:c,shouldUpdateFileNameAlias:f}=t;if(!a)return n.original;let p=Pe(e,a,!0),h=Ee(e,c??a),g=Vh(e,n.original,i),{subpath:y}=Lh(n.link),w=!f;if(cn(e,o)&&xh(n))return p.path+y;let E=Ci(n.original),x;return g&&E?.alias&&(x=E.alias,w=!0),x??=Kv({app:e,displayText:n.displayText,isWikilink:g,newSourcePathOrFile:o,oldSourcePathOrFile:l,oldTargetPath:h,targetPathOrFile:p})?void 0:E?.alias,w||(x===Te(h,Ye(h))?x=p.basename:x===Te(h)&&(x=p.name)),ku({alias:x,app:e,linkStyle:i,originalLink:n.original,sourcePathOrFile:o,subpath:y,targetPathOrFile:p})}r(xi,"updateLink");async function Bh(t){let{app:e,linkStyle:n,newSourcePathOrFile:i,oldSourcePathOrFile:o,shouldUpdateEmbedOnlyLinks:a,shouldUpdateFileNameAlias:l}=t;cn(e,i)&&!e.internalPlugins.getEnabledPluginById(bt.Canvas)||await bu(e,i,c=>{let f=Nh(c.original);if(!(a!==void 0&&a!==f))return qv({app:e,link:c,linkStyle:n,newSourcePathOrFile:i,oldSourcePathOrFile:o,shouldUpdateFileNameAlias:l})},t)}r(Bh,"updateLinksInFile");function Rh(t,e,n,i){if(e>n)return;let o=t.slice(e,n+1);Ae(o,/(?<Url>\S+)/g,(a,l)=>{lu(l)&&i.push({encodedUrl:Ei(l),endOffset:e+a.offset+l.length,hasAngleBrackets:!1,isEmbed:!1,isExternal:!0,isWikilink:!1,raw:l,startOffset:e+a.offset,url:l})})}r(Rh,"extractTextLinks");function Zv(t,e,n,i,o){n==="/"&&(n="");let a;return e.path===n&&i?a=i:o.shouldForceRelativePath?a=vr(we(n),o.isWikilink?Hf(t,e):e.path)+i:a=t.metadataCache.fileToLinktext(e,n,o.isWikilink)+i,o.shouldForceRelativePath&&o.shouldUseLeadingDot&&!a.startsWith(".")&&!a.startsWith("#")&&(a=`./${a}`),a}r(Zv,"generateLinkText");function Jv(t){let{app:e}=t,n=Pe(e,t.targetPathOrFile,t.isNonExistingFileAllowed),i=Ee(e,t.sourcePathOrFile),o=t.subpath??"",a=nE(t,n),l=Zv(e,n,i,o,a);return a.isWikilink?eE(l,t.alias,a.isEmbed):Qv(l,n,t,a)}r(Jv,"generateMarkdownLinkImpl");function Qv(t,e,n,i){let{app:o}=n,a=i.isEmbed?"!":"",l=i.shouldUseAngleBrackets?`<${t}>`:Ei(t),c=n.alias??"";!c&&(!i.isEmbed||!n.isEmptyEmbedAliasAllowed)&&(c=!n.shouldIncludeAttachmentExtensionToEmbedAlias||fn(o,e)?e.basename:e.name);let f=Ae(c,Gv,"\\$&");return`${a}[${f}](${l})`}r(Qv,"generateMarkdownStyleLink");function eE(t,e,n){let i=n?"!":"",o=e??"";if(o&&o.toLowerCase()===t.toLowerCase())return`${i}[[${o}]]`;let a=o?`|${o}`:"";return`${i}[[${t}${a}]]`}r(eE,"generateWikiLink");async function tE(t,e,n,i){if(i??=Me(),i.throwIfAborted(),!t)return[];let o=[],a=(t.sections??[]).filter(l=>l.type==="table").map(l=>({end:l.position.end.offset,start:l.position.start.offset}));for(let l of Sn(t)){i.throwIfAborted();let c=await n(l,i);if(i.throwIfAborted(),c===void 0)continue;let f=Rr(l,c);e?Ai(f)?o.push(f):console.warn("Unsupported file change",f):(oE(f,a)&&(f.newContent=f.newContent.replaceAll(Dh,zv)),o.push(f))}return o}r(tE,"getFileChanges");function nE(t,e){let{app:n}=t;return{isEmbed:t.isEmbed??(t.originalLink?Nh(t.originalLink):void 0)??!fn(n,e),isWikilink:Vh(n,t.originalLink,t.linkStyle),shouldForceRelativePath:t.shouldForceRelativePath??Oh(n),shouldUseAngleBrackets:t.shouldUseAngleBrackets??(t.originalLink?Au(t.originalLink):void 0)??!1,shouldUseLeadingDot:t.shouldUseLeadingDot??(t.originalLink?Xv(t.originalLink):void 0)??!1}}r(nE,"getLinkConfig");function $h(t,e){return e.slice(t.position?.start.offset??0,t.position?.end.offset??0)}r($h,"getRawLink");function rE(t,e){let a=$h(t,e),l=t.children[0],c=e.slice((l?.position?.end.offset??1)+2,(t.position?.end.offset??0)-1),f=a.startsWith("<")||c.startsWith("<"),p=lu(t.url),h=t.url;if(!p&&!f)try{h=decodeURIComponent(h)}catch(g){console.error(`Failed to decode URL ${h}`,g)}return{alias:l?.value,encodedUrl:p?Ei(h):void 0,endOffset:t.position?.end.offset??0,hasAngleBrackets:f,isEmbed:!1,isExternal:p,isWikilink:!1,raw:a,startOffset:t.position?.start.offset??0,title:t.title??void 0,url:h}}r(rE,"parseLinkNode");function iE(t,e){return{alias:e.includes(Mh)?t.data.alias:void 0,endOffset:t.position?.end.offset??0,isEmbed:!1,isExternal:!1,isWikilink:!0,raw:$h(t,e),startOffset:t.position?.start.offset??0,url:t.value}}r(iE,"parseWikilinkNode");function oE(t,e){return!hn(t)||!Dh.test(t.newContent)?!1:e.some(n=>n.start<=t.reference.position.start.offset&&t.reference.position.end.offset<=n.end)}r(oE,"shouldEscapeWikilinkDivider");function Vh(t,e,n){switch(n??"PreserveExisting"){case"Markdown":return!1;case"ObsidianSettingsDefault":return gu(t);case"PreserveExisting":return e===void 0?gu(t):vu(e);case"Wikilink":return!0;default:throw new Error(`Invalid link style: ${n}.`)}}r(Vh,"shouldUseWikilinkStyle");function Yh(t,e){let n=Object.keys(e).map(i=>sE(t,i,e[i]));return n.length===1?n[0]:function(){n.forEach(i=>i())}}r(Yh,"around");function sE(t,e,n){let i=t[e],o=t.hasOwnProperty(e),a=o?i:function(){return Object.getPrototypeOf(t)[e].apply(this,arguments)},l=n(a);return i&&Object.setPrototypeOf(l,i),Object.setPrototypeOf(c,l),t[e]=c,f;function c(...p){return l===a&&t[e]===c&&f(),l.apply(this,p)}r(c,"wrapper");function f(){t[e]===c&&(o?t[e]=a:delete t[e]),l!==a&&(l=a,Object.setPrototypeOf(c,i||Function))}r(f,"remove")}r(sE,"around1");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function aE(t,e){return Yh(t,e)}r(aE,"around");function zt(t,e,n){let i=aE(e,n),o=!1;function a(){if(!o)try{i()}finally{o=!0}}return r(a,"uninstallerWrapper"),t.register(a),i}r(zt,"registerPatch");var ss=require("obsidian");var Wh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ns=class extends Wh.Component{static{r(this,"AsyncEventsComponent")}registerAsyncEvent(e){rs(this,e)}};function rs(t,e){t.register(()=>{e.asyncEvents.offref(e)})}r(rs,"registerAsyncEvent");var Gh=De(zh(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var $=(t=>(t.AlertModal="alert-modal",t.CancelButton="cancel-button",t.CheckboxComponent="checkbox-component",t.CodeHighlighterComponent="code-highlighter-component",t.ConfirmModal="confirm-modal",t.DateComponent="date-component",t.DateTimeComponent="datetime-component",t.EmailComponent="email-component",t.FileComponent="file-component",t.IsPlaceholder="is-placeholder",t.LibraryName="obsidian-dev-utils",t.MonthComponent="month-component",t.MultipleDropdownComponent="multiple-dropdown-component",t.MultipleEmailComponent="multiple-email-component",t.MultipleFileComponent="multiple-file-component",t.MultipleTextComponent="multiple-text-component",t.NumberComponent="number-component",t.OkButton="ok-button",t.OverlayValidator="overlay-validator",t.PasswordComponent="password-component",t.PluginSettingsTab="plugin-settings-tab",t.PromptModal="prompt-modal",t.SelectItemModal="select-item-modal",t.SettingComponentWrapper="setting-component-wrapper",t.TelephoneComponent="telephone-component",t.TextBox="text-box",t.TimeComponent="time-component",t.Tooltip="tooltip",t.TooltipArrow="tooltip-arrow",t.TooltipValidator="tooltip-validator",t.TriStateCheckboxComponent="tri-state-checkbox-component",t.TypedDropdownComponent="typed-dropdown-component",t.TypedMultipleDropdownComponent="typed-multiple-dropdown-component",t.UrlComponent="url-component",t.WeekComponent="week-component",t))($||{});r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Hh=`${mo}-styles`;function ce(t,...e){t.addClass($.LibraryName,go(),...e)}r(ce,"addPluginCssClasses");function qh(t,e){kf(e),Ef(e);let n=sn(t,"lastLibraryVersion","0.0.0");if((0,Gh.compareVersions)(Qa,n.value)<=0)return;n.value=Qa;let i=lE();i.DEBUG=vf(),document.head.querySelector(`#${Hh}`)?.remove(),document.head.createEl("style",{attr:{id:Hh},text:yf})}r(qh,"initPluginContext");function lE(){return window}r(lE,"getPluginContextWindow");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var os=class extends ss.Plugin{static{r(this,"PluginBase")}events=new Bt;get abortSignal(){return this._abortSignal}get settings(){return this.settingsManager.settingsWrapper.safeSettings}get settingsManager(){if(!this._settingsManager)throw new Error("Settings manager not defined");return this._settingsManager}get settingsTab(){if(!this._settingsTab)throw new Error("Settings tab not defined");return this._settingsTab}_abortSignal;_settingsManager=null;_settingsTab=null;lifecycleEventNames=new Set;notice;consoleDebug(e,...n){mr(this.manifest.id,1)(e,...n)}async onExternalSettingsChange(){await super.onExternalSettingsChange?.(),await this._settingsManager?.loadFromFile(!1)}async onload(){await super.onload(),await this.onloadImpl(),Tf(this.afterLoad.bind(this))}onunload(){super.onunload(),ge(async()=>{try{await this.onunloadImpl()}finally{await this.triggerLifecycleEvent("unload")}})}registerForLifecycleEvent(e,n){ge(async()=>{await this.waitForLifecycleEvent(e),await n()})}registerPopupDocumentDomEvent(e,n,i){this.registerPopupDomEvent(o=>{this.registerDomEvent(o.document,e,n,i)})}registerPopupWindowDomEvent(e,n,i){this.registerPopupDomEvent(o=>{this.registerDomEvent(o,e,n,i)})}async waitForLifecycleEvent(e){this.lifecycleEventNames.has(e)||await new Promise(n=>{this.events.once(e,()=>{n()})})}createSettingsManager(){return null}createSettingsTab(){return null}async onLayoutReady(){await Nt()}async onloadImpl(){qh(this.app,this.manifest.id),this.register(wf(()=>{this.showNotice("An unhandled error occurred. Please check the console for more information.")})),this._settingsManager=this.createSettingsManager(),this._settingsManager&&(rs(this,this._settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),rs(this,this._settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))),await this._settingsManager?.loadFromFile(!0),this._settingsTab=this.createSettingsTab(),this._settingsTab&&this.addSettingTab(this._settingsTab);let e=new AbortController;this._abortSignal=e.signal,this.register(()=>{e.abort(new pr(`Plugin ${this.manifest.id} had been unloaded`))})}async onLoadSettings(e,n){await Nt()}async onSaveSettings(e,n,i){await Nt()}async onunloadImpl(){await Nt()}showNotice(e){this.notice&&this.notice.hide(),this.notice=new ss.Notice(`${this.manifest.name}
${e}`)}async afterLoad(){this._abortSignal.aborted||(await this.triggerLifecycleEvent("load"),this.app.workspace.onLayoutReady(Je(this.onLayoutReadyBase.bind(this))))}async onLayoutReadyBase(){try{await this.onLayoutReady()}finally{await this.triggerLifecycleEvent("layoutReady")}}registerPopupDomEvent(e){this.app.workspace.iterateRootLeaves(n=>{e(n.view.containerEl.win)}),this.registerEvent(this.app.workspace.on("window-open",n=>{e(n.win)}))}async triggerLifecycleEvent(e){this.lifecycleEventNames.add(e),await this.events.triggerAsync(e)}};var ep=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function jh(t,e,n,i){n.throwIfAborted();let o=ct("Logger:invokeAsyncAndLog"),a=performance.now();i??=Ze(1),an(o,i,`${t}:start`,{fn:e,timestampStart:a});try{await e(n);let l=performance.now(),c=l-a;n.aborted&&(an(o,i,`${t}:aborted`,{abortReason:n.reason,duration:c,fn:e,timestampEnd:l,timestampStart:a}),n.throwIfAborted()),an(o,i,`${t}:end`,{duration:c,fn:e,timestampEnd:l,timestampStart:a})}catch(l){let c=performance.now();throw an(o,i,`${t}:error`,{duration:c-a,error:l,fn:e,timestampEnd:c,timestampStart:a}),l}}r(jh,"invokeAsyncAndLog");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Fn(t,e,n,i,o){o??=Ze(1),ge(()=>uE(t,e,n,i,o),o)}r(Fn,"addToQueue");async function uE(t,e,n,i,o){n??=Me(),n.throwIfAborted(),i??=6e4,o??=Ze(1);let l=Kh(t).value;l.items.push({abortSignal:n,fn:e,stackTrace:o,timeoutInMilliseconds:i}),l.promise=l.promise.then(()=>Xh(t)),await l.promise}r(uE,"addToQueueAndWait");function Kh(t){return sn(t,"queue",{items:[],promise:Promise.resolve()})}r(Kh,"getQueue");async function Xh(t){let e=Kh(t).value,n=e.items[0];n&&(await rl(()=>il(n.timeoutInMilliseconds,i=>jh(Xh.name,n.fn,Bn(i,n.abortSignal),n.stackTrace),{queuedFn:n.fn}),n.stackTrace),e.items.shift())}r(Xh,"processNextQueueItem");var Zh=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function as(t,e){let n=Wt(t,e);for(;n;){if(!await fu(t,n))return;let i=n.parent;await Lr(t,n.path),n=i}}r(as,"deleteEmptyFolderHierarchy");async function Lr(t,e,n,i,o){let a=Wn(t,e);if(!a)return!1;let l=At(a)||(o??!0);if(At(a)){let c=await pn(t,a);n&&c.clear(n),c.count()!==0&&(i&&new Zh.Notice(`Attachment ${a.path} is still used by other notes. It will not be deleted.`),l=!1)}else if(fl(a)){let c=await du(t,a);for(let f of[...c.files,...c.folders])l&&=await Lr(t,f,n,i);l&&=await fu(t,a)}if(l)try{await t.fileManager.trashFile(a)}catch(c){await t.vault.exists(a.path)&&(Vn(new Error(`Failed to delete ${a.path}`,{cause:c})),l=!1)}return l}r(Lr,"deleteSafe");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Eu=new Map,Ti=new Set,ls=new Map,at=(t=>(t.Delete="Delete",t.DeleteWithEmptyParents="DeleteWithEmptyParents",t.Keep="Keep",t))(at||{});function tp(t,e){let n=us(t.app),i=t.manifest.id;n.set(i,e),Qh(t.app),t.register(()=>{n.delete(i),Qh(t.app)});let o=t.app,a=t.abortSignal??Me();t.registerEvent(o.vault.on("delete",l=>{pE(t,l,a)})),t.registerEvent(o.vault.on("rename",(l,c)=>{yE(t,l,c,a)})),t.registerEvent(o.metadataCache.on("deleted",(l,c)=>{gE(t,l,c)})),zt(t,o.fileManager,{runAsyncLinkUpdate:r(l=>c=>kE(o,l,c),"runAsyncLinkUpdate")})}r(tp,"registerRenameDeleteHandlers");async function np(t,e,n){let i=Pn(t);if(i.emptyAttachmentFolderBehavior!=="Keep")for(let o of e)switch(i.emptyAttachmentFolderBehavior){case"Delete":await Lr(t,o,n,void 0,!0);break;case"DeleteWithEmptyParents":await as(t,o);break;default:break}}r(np,"cleanupParentFolders");async function cE(t,e,n,i,o){let a=ls.get(e);if(a){ls.delete(e);for(let l of a)await Cu(t,l.oldPath,n,i,o,l.combinedBacklinksMap)}}r(cE,"continueInterruptedRenames");async function fE(t,e,n,i,o,a){if(a.throwIfAborted(),i.set(e,n),!Si(t,e))return;let l=Pn(t),c=await Er(t,e),f=l.shouldRenameAttachmentFolder?await Er(t,n):c,p=c==="/",h=Wt(t,c);if(!h||c===f&&!l.shouldRenameAttachmentFiles)return;let g=[];if(await pl(t,e))ep.Vault.recurseChildren(h,y=>{a.throwIfAborted(),At(y)&&g.push(y)});else for(let y of o){a.throwIfAborted();let w=Mr(t,y,e);if(w&&(p||w.path.startsWith(c))){let E=await pn(t,w);a.throwIfAborted(),E.keys().length===1&&g.push(w)}}for(let y of g){if(a.throwIfAborted(),Si(t,y.path))continue;let w;if(l.shouldRenameAttachmentFiles)w=await dl(t,y,n,!0),a.throwIfAborted();else{let E=p?y.path:vr(c,y.path),x=ve(f,we(E));w=ve(x,y.name)}if(y.path!==w){if(l.shouldDeleteConflictingAttachments){let E=st(t,w);E&&(console.warn(`Removing conflicting attachment ${E.path}.`),await t.fileManager.trashFile(E),a.throwIfAborted())}else{let E=we(w),x=Ye(w),F=Te(w,x);w=t.vault.getAvailablePath(ve(E,F),x.slice(1))}i.set(y.path,w)}}}r(fE,"fillRenameMap");function us(t){return sn(t,"renameDeleteHandlersMap",new Map).value}r(us,"getRenameDeleteHandlersMap");function Pn(t){let e=us(t),n=Array.from(e.values()).reverse(),i={};i.isNote=o=>ci(t,o),i.isPathIgnored=()=>!1;for(let o of n){let a=o();i.shouldDeleteConflictingAttachments||=a.shouldDeleteConflictingAttachments??!1,a.emptyAttachmentFolderBehavior&&(i.emptyAttachmentFolderBehavior??=a.emptyAttachmentFolderBehavior),i.shouldHandleDeletions||=a.shouldHandleDeletions??!1,i.shouldHandleRenames||=a.shouldHandleRenames??!1,i.shouldRenameAttachmentFiles||=a.shouldRenameAttachmentFiles??!1,i.shouldRenameAttachmentFolder||=a.shouldRenameAttachmentFolder??!1,i.shouldUpdateFileNameAliases||=a.shouldUpdateFileNameAliases??!1;let l=i.isPathIgnored;i.isPathIgnored=f=>l(f)||(a.isPathIgnored?.(f)??!1);let c=i.isNote;i.isNote=f=>c(f)&&(a.isNote?.(f)??!0)}return i.emptyAttachmentFolderBehavior??="Keep",i}r(Pn,"getSettings");async function dE(t,e,n,i,o){if(!t.vault.adapter.insensitive||e.toLowerCase()!==n.toLowerCase())return!1;let a=ve(we(n),`__temp__${Te(n)}`);return await ip(t,n,a),await Cu(t,e,a,i,o),await t.vault.rename(Pe(t,a),n),!0}r(dE,"handleCaseCollision");async function hE(t,e,n){if(n.throwIfAborted(),ct("RenameDeleteHandler:handleDelete")(`Handle Delete ${e}`),!Si(t,e))return;let i=Pn(t);if(!i.shouldHandleDeletions)return;if(i.isPathIgnored?.(e)){console.warn(`Skipping delete handler of ${e} as the path is ignored.`);return}let o=Eu.get(e);Eu.delete(e);let a=new Set;if(o){let f=Sn(o);for(let p of f){let h=Mr(t,p,e);h&&(Si(t,h.path)||(a.add(h.parent?.path??""),await Lr(t,h,e,!1,i.emptyAttachmentFolderBehavior!=="Keep"),n.throwIfAborted()))}}await np(t,Array.from(a),e),n.throwIfAborted();let l=await Er(t,e),c=Wt(t,l);c&&await pl(t,e)&&(n.throwIfAborted(),await Lr(t,c,e,!1,i.emptyAttachmentFolderBehavior!=="Keep"),n.throwIfAborted())}r(hE,"handleDelete");function pE(t,e,n){let i=t.app;if(!xu(t))return;let o=e.path;Fn(i,a=>hE(i,o,a),n)}r(pE,"handleDeleteIfEnabled");function mE(t,e,n){let i=Pn(t);if(i.isPathIgnored?.(e.path)){console.warn(`Skipping metadata delete handler of ${e.path} as the path is ignored.`);return}i.shouldHandleDeletions&&fn(t,e)&&n&&Eu.set(e.path,n)}r(mE,"handleMetadataDeleted");function gE(t,e,n){xu(t)&&mE(t.app,e,n)}r(gE,"handleMetadataDeletedIfEnabled");function wE(t,e,n,i){let o=rp(e,n);if(ct("RenameDeleteHandler:handleRename")(`Handle Rename ${o}`),Ti.has(o)){Ti.delete(o);return}let a=Pn(t);if(!a.shouldHandleRenames)return;if(a.isPathIgnored?.(e)){console.warn(`Skipping rename handler of old path ${e} as the path is ignored.`);return}if(a.isPathIgnored?.(n)){console.warn(`Skipping rename handler of new path ${n} as the path is ignored.`);return}let l=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),c=l?Sn(l):[],f=mu(t,e).data;Fn(t,p=>Cu(t,e,n,f,c,void 0,p),i)}r(wE,"handleRename");async function Cu(t,e,n,i,o,a,l){if(l??=Me(),l.throwIfAborted(),await cE(t,e,n,i,o),l.throwIfAborted(),await bE(t,e,n,i,o),l.throwIfAborted(),!await dE(t,e,n,i,o)){l.throwIfAborted();try{let c=new Map;await fE(t,e,n,c,o,l),l.throwIfAborted();let f=new Map;Jh(i,c,f,e);for(let g of c.keys()){if(g===e)continue;let y=(await pn(t,g)).data;Jh(y,c,f,g)}let p=new Set;for(let[g,y]of c.entries()){if(g===e)continue;let w=await ip(t,g,y);c.set(g,w),p.add(we(g))}await np(t,Array.from(p),e),l.throwIfAborted();let h=Pn(t);for(let[g,y]of Array.from(f.entries()).concat(Array.from(a?.entries()??[])))await bu(t,g,w=>{let E=y.get(br(w));if(!E)return;let x=c.get(E);if(x)return xi({app:t,link:w,newSourcePathOrFile:g,newTargetPathOrFile:x,oldTargetPathOrFile:E,shouldUpdateFileNameAlias:h.shouldUpdateFileNameAliases})},{shouldFailOnMissingFile:!1}),l.throwIfAborted();if(Si(t,n)&&(await Bh({app:t,newSourcePathOrFile:n,oldSourcePathOrFile:e,shouldFailOnMissingFile:!1,shouldUpdateFileNameAlias:h.shouldUpdateFileNameAliases}),l.throwIfAborted()),!st(t,n)){let g=ls.get(n);g||(g=[],ls.set(n,g)),g.push({combinedBacklinksMap:f,oldPath:e})}}finally{let c=Array.from(Ti);Fn(t,()=>{for(let f of c)Ti.delete(f)},l)}}}r(Cu,"handleRenameAsync");function yE(t,e,n,i){if(!xu(t)||!At(e))return;let o=e.path;wE(t.app,n,o,i)}r(yE,"handleRenameIfEnabled");function Jh(t,e,n,i){for(let[o,a]of t.entries()){let l=e.get(o)??o,c=n.get(l)??new Map;n.set(l,c);for(let f of a)c.set(br(f),i)}}r(Jh,"initBacklinksMap");function Si(t,e){return Pn(t).isNote?.(e)??!1}r(Si,"isNoteEx");function Qh(t){let e=us(t);ct("RenameDeleteHandler:logRegisteredHandlers")(`Plugins with registered rename/delete handlers: ${JSON.stringify(Array.from(e.keys()))}`)}r(Qh,"logRegisteredHandlers");function rp(t,e){return`${t} -> ${e}`}r(rp,"makeKey");async function bE(t,e,n,i,o){let a=t.metadataCache.getCache(e)??t.metadataCache.getCache(n),l=a?Sn(a):[],c=Pe(t,e,!0),f=new Map;await vi(t,[c],async()=>{f=(await pn(t,c)).data});for(let p of l)o.includes(p)||o.push(p);for(let[p,h]of f.entries()){let g=i.get(p);g||(g=[],i.set(p,g));for(let y of h)g.includes(y)||g.push(y)}}r(bE,"refreshLinks");async function ip(t,e,n){if(n=cu(t,e,n),e===n)return n;let i=rp(e,n);return Ti.add(i),n=await Xo(t,e,n),n}r(ip,"renameHandled");async function kE(t,e,n){await e.call(t.fileManager,i);async function i(o){let a=!1,l=t.vault.on("rename",()=>{a=!0});try{await n(o)}finally{t.vault.offref(l)}let c=Pn(t);a&&c.shouldHandleRenames&&ri(o,f=>c.isPathIgnored?.(f.sourceFile.path)?(console.warn(`Roll back to default link update of source file ${f.sourceFile.path} as the path is ignored.`),!0):c.isPathIgnored?.(f.resolvedFile.path)?(console.warn(`Roll back to default link update of resolved file ${f.resolvedFile.path} as the path is ignored.`),!0):!t.internalPlugins.getEnabledPluginById(bt.Canvas)||t.plugins.getPlugin("backlink-cache")?!1:f.sourceFile.extension==="canvas"||f.resolvedFile.extension==="canvas")}r(i,"wrappedHandler")}r(kE,"runAsyncLinkUpdate");function xu(t){let e=t.app,n=t.manifest.id,i=us(e);return Array.from(i.keys())[0]===n}r(xu,"shouldInvokeHandler");var In=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function ee(t,e){t.createEl("strong",{cls:"markdown-rendered code"},n=>{n.createEl("code",{text:e})})}r(ee,"appendCodeBlock");function op(t){return`${String(t)}px`}r(op,"toPx");var sp=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();async function ap(t){let n={...{abortSignal:Me(),buildNoticeMessage(){throw new Error("buildNoticeMessage is required")},items:[],noticeMinTimeoutInMilliseconds:2e3,processItem:Ot,progressBarTitle:"",shouldContinueOnError:!0,shouldShowProgressBar:!0,uiUpdateThresholdInMilliseconds:100},...t},i=Ze(1),o=n.items,a=0,l=null;n.shouldShowProgressBar&&(l=new sp.Notice("",0));let c=sleep(n.noticeMinTimeoutInMilliseconds),f=createEl("progress");if(f.max=o.length,n.shouldShowProgressBar){let h=createFragment();h.createDiv({text:n.progressBarTitle}),h.appendChild(f),l?.setMessage(h)}let p=performance.now();for(let h of o){if(n.abortSignal.aborted){l?.hide();return}a++;let g=`# ${String(a)} / ${String(o.length)}`,y=n.buildNoticeMessage(h,g);n.shouldShowProgressBar||l?.setMessage(y),ct("Loop")(y);try{performance.now()-p>n.uiUpdateThresholdInMilliseconds&&(await Sf(),p=performance.now()),await n.processItem(h)}catch(w){if(console.error("Error processing item",h),!n.shouldContinueOnError)throw l?.hide(),new Rt("loop failed",i,w);ho(new Rt(fo,i,w))}f.value++}await c,l?.hide()}r(ap,"loop");var Tu=require("obsidian");var lp=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Nr=class extends lp.Modal{static{r(this,"ModalBase")}constructor(e,n,i){super(e.app),this.resolve=n,ce(this.containerEl,i),e.cssClass&&this.containerEl.addClass(e.cssClass)}};async function cs(t){return await new Promise(e=>{t(e).open()})}r(cs,"showModal");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Su=class extends Nr{static{r(this,"ConfirmModal")}isConfirmed=!1;options;constructor(e,n){super(e,n,$.ConfirmModal);let i={app:e.app,cancelButtonText:"Cancel",cssClass:"",message:e.message,okButtonText:"OK",title:""};this.options={...i,...e}}onClose(){super.onClose(),this.resolve(this.isConfirmed)}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new Tu.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(()=>{this.isConfirmed=!0,this.close()}),e.setClass($.OkButton);let n=new Tu.ButtonComponent(this.contentEl);n.setButtonText(this.options.cancelButtonText),n.onClick(this.close.bind(this)),n.setClass($.CancelButton)}};async function fs(t){return await cs(e=>new Su(t,e))}r(fs,"confirm");var ps=require("obsidian");var Fi=De(rn(),1),EE=De(require("obsidian"),1);var up=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function cp(t){return t.validationMessage!==void 0}r(cp,"isValidationMessageHolder");var AE=/[*\\/<>:|?"]/g,vE=/[\0/]/g;function ds(t){return t??=up.Platform.isWin,t?AE:vE}r(ds,"getOsUnsafePathCharsRegExp");var mp=De(fp(),1);var mn=require("obsidian");var Iu=class extends mn.Modal{constructor(n){super(n.ctx.app);this.options=n;ce(this.containerEl,"preview-modal")}static{r(this,"PreviewModal")}embedComponent;tempFile;onClose(){super.onClose(),this.embedComponent.unload(),ge(async()=>{await this.app.vault.delete(this.tempFile)})}onOpen(){super.onOpen(),ge(this.onOpenAsync.bind(this))}async onOpenAsync(){let n=this.app.embedRegistry.embedByExtension[this.options.ctx.originalAttachmentFileExtension];if(!n||!this.options.ctx.attachmentFileContent)return;let i=`${this.options.ctx.originalAttachmentFileName}.${this.options.ctx.originalAttachmentFileExtension}`;this.titleEl.setText(`Preview attachment file '${i}'`);let o=`__temp${String(Date.now())}__${i}`;this.tempFile=await this.app.vault.createBinary(o,this.options.ctx.attachmentFileContent);let a=this.contentEl.createDiv("preview-container");this.embedComponent=n({app:this.app,containerEl:a},this.tempFile),this.embedComponent.load(),this.embedComponent.loadFile()}},_u=class extends mn.Modal{constructor(n,i){super(n.ctx.app);this.options=n;this.resolve=i;ce(this.containerEl,$.PromptModal),this.value=n.ctx.originalAttachmentFileName}static{r(this,"PromptWithPreviewModal")}isOkClicked=!1;value;onClose(){super.onClose(),this.resolve(this.isOkClicked?this.value:null)}onOpen(){let n=createFragment(h=>{h.appendText("Provide a value for the prompt token:"),h.createEl("br"),h.appendText(this.options.ctx.fullTemplate.slice(0,this.options.ctx.tokenStartOffset)),h.createSpan({cls:"highlighted-token",text:this.options.ctx.tokenWithFormat}),h.appendText(this.options.ctx.fullTemplate.slice(this.options.ctx.tokenEndOffset))});super.onOpen(),this.titleEl.setText(n);let i=new mn.TextComponent(this.contentEl),o=i.inputEl,a=r(async()=>{let h=await this.options.valueValidator(o.value);o.setCustomValidity(h??""),o.reportValidity()},"validate");i.setValue(this.value),i.setPlaceholder("Provide a value for the prompt token"),o.addClass($.TextBox),i.onChange(h=>{this.value=h}),o.addEventListener("keydown",h=>{h.key==="Enter"?this.handleOk(h,i):h.key==="Escape"&&this.close()}),o.addEventListener("input",Je(a)),o.addEventListener("focus",Je(a)),ge(a);let l=new mn.ButtonComponent(this.contentEl);l.setButtonText("OK"),l.setCta(),l.onClick(h=>{this.handleOk(h,i)}),l.setClass($.OkButton);let c=new mn.ButtonComponent(this.contentEl);c.setButtonText("Cancel"),c.onClick(this.close.bind(this)),c.setClass($.CancelButton);let f=new mn.ButtonComponent(this.contentEl);f.setButtonText("Preview attachment file"),f.onClick(this.preview.bind(this));let p=this.app.embedRegistry.embedByExtension[this.options.ctx.originalAttachmentFileExtension];(!this.options.ctx.attachmentFileContent||!p)&&f.setDisabled(!0)}handleOk(n,i){n.preventDefault(),i.inputEl.checkValidity()&&(this.isOkClicked=!0,this.close())}preview(){new Iu(this.options).open()}};function dp(t){return new Promise(e=>{new _u(t,e).open()})}r(dp,"promptWithPreview");var CE=Rf(mp.default),xE=["1","2","3","4","5","6","any"],TE=/^\.{3,}$/,SE=/\.+$/,Pi=/\${(?<Token>.+?)(?::(?<Format>.*?))?}/g;function Ou(t){let e=new Map;try{return new Function("registerCustomToken",t)(n),e}catch(i){return Vn(new Error("Error registering custom tokens",{cause:i})),null}function n(i,o){e.set(i,o)}r(n,"registerCustomToken")}r(Ou,"parseCustomTokens");function hp(t,e){let n=",default=now",i=",default=empty",o="empty";return e.endsWith(n)?(e=gr(e,n),o="now"):e.endsWith(i)&&(e=gr(e,i),o="empty"),t?(0,Fi.default)(t).format(e):o==="now"?(0,Fi.default)().format(e):""}r(hp,"formatAttachmentFileDate");function FE(t){return(0,Fi.default)().format(t)}r(FE,"formatDate");function pp(t,e,n,i){let o=st(t,e);return o?(0,Fi.default)(i(o)).format(n):""}r(pp,"formatFileDate");function PE(t,e){let{base:o,parameter:a}=hs(e);switch(o){case"":case"B":return t.toFixed(a??0);case"KB":return(t/1024).toFixed(a??0);case"MB":return(t/1048576).toFixed(a??0);default:throw new Error(`Invalid file size format: ${e}`)}}r(PE,"formatFileSize");function IE(t,e){let n=t.split("/"),i=n.length-1,o=e.indexOf(",");o===-1&&(o=e.length);let l=e.slice(0,o),c=e.slice(o+1),f=hs(l);switch(f.base){case"indexFromEnd":i=n.length-1-(f.parameter??0);break;case"indexFromStart":i=f.parameter??0;break;default:if(c)throw new Error(`Invalid format: ${l}`);return Xn(n[i]??"",l)}let p=n[i]??"";return Xn(p,c)}r(IE,"formatFolderName");function Xn(t,e){let{base:n,parameter:i}=hs(e);switch(n){case"":return t;case"left":return t.slice(0,i??1);case"lower":return t.toLowerCase();case"right":return t.slice(-(i??1));case"slug":return LE(t);case"upper":return t.toUpperCase();default:throw new Error(`Invalid file name format: ${e}`)}}r(Xn,"formatString");function _E(t){if(t==="uuid")return crypto.randomUUID();let{base:e,parameter:n}=hs(t),i;switch(e){case"D":i="0123456789";break;case"DL":i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;case"L":i="ABCDEFGHIJKLMNOPQRSTUVWXYZ";break;default:throw new Error(`Invalid random value format: ${t}`)}let o="";for(let a=0;a<(n??1);a++)o+=DE(i);return o}r(_E,"generateRandomValue");function OE(t,e,n){let i=st(t,e);if(!i)return"";let o=t.metadataCache.getFileCache(i);if(!o?.frontmatter)return"";let a=An(o.frontmatter,n)??"";return String(a)}r(OE,"getFrontmatterValue");async function RE(t){if(Xn("",t.format),t.originalAttachmentFileName===vn)return vn;let e=await dp({ctx:t,valueValidator:r(n=>Zn({app:t.app,areTokensAllowed:!1,path:n}),"valueValidator")});if(e===null)throw new Error("Prompt cancelled");return Xn(e,t.format)}r(RE,"prompt");var Ue=class t{static{r(this,"Substitutions")}static evaluators=new Map;static{this.registerCustomTokens("")}noteFolderPath;app;attachmentFileContent;attachmentFileStat;cursorLine;generatedAttachmentFileName;generatedAttachmentFilePath;headingsInfo=null;noteFileName;noteFilePath;noteFolderName;originalAttachmentFileExtension;originalAttachmentFileName;constructor(e){this.app=e.app,this.noteFilePath=e.noteFilePath,this.noteFileName=Te(this.noteFilePath,Ye(this.noteFilePath)),this.noteFolderName=Te(we(this.noteFilePath)),this.noteFolderPath=we(this.noteFilePath);let n=e.originalAttachmentFileName??"",i=Ye(n);if(this.originalAttachmentFileName=Te(n,i),this.originalAttachmentFileExtension=i.slice(1),this.attachmentFileContent=e.attachmentFileContent,this.attachmentFileStat=e.attachmentFileStat,this.generatedAttachmentFileName=e.generatedAttachmentFileName??"",this.generatedAttachmentFilePath=e.generatedAttachmentFilePath??"",this.cursorLine=null,this.app.workspace.activeEditor?.file?.path===this.noteFilePath){let o=this.app.workspace.activeEditor.editor?.getCursor();o&&(this.cursorLine=o.line)}}static isRegisteredToken(e){return t.evaluators.has(e.toLowerCase())}static registerCustomTokens(e){this.evaluators.clear(),this.registerToken("date",i=>FE(i.format)),this.registerToken("noteFileCreationDate",i=>pp(i.app,i.noteFilePath,i.format,o=>o.stat.ctime)),this.registerToken("noteFileModificationDate",i=>pp(i.app,i.noteFilePath,i.format,o=>o.stat.mtime)),this.registerToken("originalAttachmentFileCreationDate",i=>hp(i.attachmentFileStat?.ctime,i.format)),this.registerToken("originalAttachmentFileModificationDate",i=>hp(i.attachmentFileStat?.mtime,i.format)),this.registerToken("noteFileName",i=>Xn(i.noteFileName,i.format)),this.registerToken("noteFilePath",i=>i.noteFilePath),this.registerToken("noteFolderName",i=>IE(i.noteFolderPath,i.format)),this.registerToken("noteFolderPath",i=>i.noteFolderPath),this.registerToken("frontmatter",i=>OE(i.app,i.noteFilePath,i.format)),this.registerToken("originalAttachmentFileExtension",i=>i.originalAttachmentFileExtension),this.registerToken("originalAttachmentFileName",i=>Xn(i.originalAttachmentFileName,i.format)),this.registerToken("prompt",i=>RE(i)),this.registerToken("random",i=>_E(i.format)),this.registerToken("attachmentFileSize",i=>PE(i.attachmentFileContent?.byteLength??0,i.format)),this.registerToken("generatedAttachmentFileName",i=>Xn(i.generatedAttachmentFileName,i.format)),this.registerToken("generatedAttachmentFilePath",i=>i.generatedAttachmentFilePath),this.registerToken("heading",async(i,o)=>o.getHeading(i.format));let n=Ou(e)??new Map;for(let[i,o]of n.entries())this.registerToken(i,o)}static registerToken(e,n){this.evaluators.set(e.toLowerCase(),n)}async fillTemplate(e){return await _f(e,Pi,async(n,i,o,a)=>{n.throwIfAborted();let l=t.evaluators.get(o.toLowerCase());if(!l)throw new Error(`Unknown token '${o}'.`);let c={abortSignal:n,app:this.app,attachmentFileContent:this.attachmentFileContent,attachmentFileStat:this.attachmentFileStat,fillTemplate:this.fillTemplate.bind(this),format:a,fullTemplate:e,generatedAttachmentFileName:this.generatedAttachmentFileName,generatedAttachmentFilePath:this.generatedAttachmentFilePath,noteFileName:this.noteFileName,noteFilePath:this.noteFilePath,noteFolderName:this.noteFolderName,noteFolderPath:this.noteFolderPath,obsidian:EE,originalAttachmentFileExtension:this.originalAttachmentFileExtension,originalAttachmentFileName:this.originalAttachmentFileName,token:o,tokenEndOffset:i.offset+i.substring.length,tokenStartOffset:i.offset,tokenWithFormat:i.substring};try{let f=await l(c,this);if(n.throwIfAborted(),typeof f!="string")throw console.error("Token returned non-string value.",{ctx:c,result:f}),new Error("Token returned non-string value");return f}catch(f){throw new Error(`Error formatting token \${${o}}`,{cause:f})}})}async getHeading(e){if(e||="any",!xE.includes(e))throw new Error(`Invalid heading level: ${e}`);return(await this.initHeadings()).get(e)??""}async initHeadings(){if(this.headingsInfo)return this.headingsInfo;if(this.headingsInfo=new Map,!this.cursorLine)return this.headingsInfo;let e=await Dr(this.app,this.noteFilePath);if(!e?.headings)return this.headingsInfo;let n=new Map;for(let i of e.headings){if(i.position.start.line>this.cursorLine)continue;let o=String(i.level),a=n.get(o)??-1;i.position.start.line>a&&(this.headingsInfo.set(o,i.heading),n.set(o,i.position.start.line),i.position.start.line>(n.get("any")??-1)&&(n.set("any",i.position.start.line),this.headingsInfo.set("any",i.heading)))}return this.headingsInfo}};function Ru(t){return gp(t).some(e=>e.token==="prompt")}r(Ru,"hasPromptToken");async function Ii(t){switch(t.tokenValidationMode){case"Error":{if(t.fileName.match(Pi))return"Tokens are not allowed in file name";break}case"Skip":break;case"Validate":{let n=await wp(t.app,t.fileName);if(n)return n;break}default:throw new Error(`Invalid token validation mode: ${t.tokenValidationMode}`)}let e=ME(t.fileName);return e==="."||e===".."?t.areSingleDotsAllowed?"":"Single dots are not allowed in file name":e?ds().test(e)?`File name "${t.fileName}" contains invalid symbols`:TE.test(e)?`File name "${t.fileName}" contains more than two dots`:SE.test(e)?`File name "${t.fileName}" contains trailing dots`:"":t.isEmptyAllowed?"":"File name is empty"}r(Ii,"validateFileName");async function Zn(t){if(t.areTokensAllowed){let i=await wp(t.app,t.path);if(i)return`Unknown token: ${i}`}else if(t.path.match(Pi))return"Tokens are not allowed in path";let e=wr(t.path,"/");if(e=gr(e,"/"),e==="")return"";let n=e.split("/");for(let i of n){let o=await Ii({app:t.app,areSingleDotsAllowed:!0,fileName:i,isEmptyAllowed:!0,tokenValidationMode:"Skip"});if(o)return o}return""}r(Zn,"validatePath");function gp(t){let e=t.matchAll(Pi);return Array.from(e).map(n=>({format:n.groups?.Format??"",token:n.groups?.Token??""}))}r(gp,"extractTokens");function DE(t){return t[Math.floor(Math.random()*t.length)]??""}r(DE,"generateRandomSymbol");function hs(t){let e=/^(?<Base>\w*?)(?<Parameter>\d*)$/.exec(t);if(!e)throw new Error(`Invalid format: ${t}`);let n=e.groups?.Base??"",i=e.groups?.Parameter,o=i?parseInt(i,10):void 0;return{base:n,parameter:o}}r(hs,"parseFormatWithParameter");function ME(t){return Ae(t,Pi,(e,n,i)=>`_${n}_${i}_`)}r(ME,"removeTokens");function LE(t){return CE(t,{lower:!0})}r(LE,"slugifyEx");async function wp(t,e){let n=new Ue({app:t,noteFilePath:vn,originalAttachmentFileName:vn}),i=gp(e);for(let o of i){if(!Ue.isRegisteredToken(o.token))return`Unknown token '${o.token}'.`;let a=o.format.split(",");for(let l of a)try{await n.fillTemplate(`\${${o.token}:${l}}`)}catch{return`Token '${o.token}' is used with unknown format '${l}'.`}}return null}r(wp,"validateTokens");async function _i(t,e,n,i,o){return await $E(t,new Ue({app:t.app,attachmentFileContent:i,attachmentFileStat:o,noteFilePath:e,originalAttachmentFileName:n}))}r(_i,"getAttachmentFolderFullPathForPath");async function Br(t,e){let n=await yp(t,t.settings.generatedAttachmentFileName,e,!0),i=await Zn({app:t.app,areTokensAllowed:!1,path:n});if(!i){let a=n.split("/").at(-1)??"";i=await Ii({app:t.app,areSingleDotsAllowed:!1,fileName:a,isEmptyAllowed:!1,tokenValidationMode:"Error"})}if(i){let o=`Generated attachment file name "${n}" is invalid.
${i}
Check your 'Generated attachment file name' setting.`;throw new ps.Notice(o),console.error(o,e),new Error(o)}return n}r(Br,"getGeneratedAttachmentFileName");function BE(t,e){return t.settings.specialCharacters&&(e=e.replace(t.settings.specialCharactersRegExp,t.settings.specialCharactersReplacement)),e}r(BE,"replaceSpecialCharacters");async function $E(t,e){return await yp(t,t.settings.attachmentFolderPath,e,!1)}r($E,"getAttachmentFolderPath");async function yp(t,e,n,i){let o=await n.fillTemplate(e),a=await Zn({app:t.app,areTokensAllowed:!1,path:o});if(a)throw new Error(`Resolved path ${o} is invalid: ${a}`);return o=BE(t,o),i||((o.startsWith("./")||o.startsWith("../"))&&(o=ve(n.noteFolderPath,o)),o=(0,ps.normalizePath)(o)),o}r(yp,"resolvePathTemplate");var Vr=require("obsidian");var ws=`registerCustomToken('foo', (ctx) => {
  return ctx.noteFileName + ctx.app.appId + ctx.format + ctx.obsidian.apiVersion;
});

registerCustomToken('bar', async (ctx) => {
  await sleep(100);
  return ctx.noteFileName + ctx.app.appId + ctx.format + ctx.obsidian.apiVersion;
});

registerCustomToken('baz', async (ctx) => {
  return ctx.noteFileName + await ctx.fillTemplate('corge \${grault} garply \${waldo:fred} plugh');
});
`,bp=/(?:)/,ms=/$./,$r=(i=>(i.None="None",i.OnlyPastedImages="Only pasted images",i.All="All",i))($r||{}),Jn=(a=>(a.Cancel="Cancel",a.Copy="Copy",a.Move="Move",a.Prompt="Prompt",a.Skip="Skip",a))(Jn||{}),gs=class{static{r(this,"PluginSettings")}attachmentFolderPath="./assets/${noteFileName}";attachmentRenameMode="Only pasted images";collectAttachmentUsedByMultipleNotesMode="Skip";duplicateNameSeparator=" ";emptyAttachmentFolderBehavior=at.DeleteWithEmptyParents;generatedAttachmentFileName="file-${date:YYYYMMDDHHmmssSSS}";jpegQuality=.8;markdownUrlFormat="";shouldConvertPastedImagesToJpeg=!1;shouldDeleteOrphanAttachments=!1;shouldRenameAttachmentFiles=!1;shouldRenameAttachmentFolder=!0;shouldRenameCollectedAttachments=!1;specialCharacters="#^[]|*\\<>:?";specialCharactersReplacement="-";treatAsAttachmentExtensions=[".excalidraw.md"];warningVersion="";get customTokensStr(){return this._customTokensStr}set customTokensStr(e){this._customTokensStr=e}get excludePaths(){return this._excludePaths}set excludePaths(e){this._excludePaths=e.filter(Boolean),this._excludePathsRegExp=Du(this._excludePaths,ms)}get excludePathsFromAttachmentCollecting(){return this._excludePathsFromAttachmentCollecting}set excludePathsFromAttachmentCollecting(e){this._excludePathsFromAttachmentCollecting=e.filter(Boolean),this._excludePathsFromAttachmentCollectingRegExp=Du(this._excludePathsFromAttachmentCollecting,ms)}get includePaths(){return this._includePaths}set includePaths(e){this._includePaths=e.filter(Boolean),this._includePathsRegExp=Du(this._includePaths,bp)}get specialCharactersRegExp(){return new RegExp(`[${ko(this.specialCharacters)}]+`,"g")}_customTokensStr="";_excludePaths=[];_excludePathsFromAttachmentCollecting=[];_excludePathsFromAttachmentCollectingRegExp=ms;_excludePathsRegExp=ms;_includePaths=[];_includePathsRegExp=bp;isExcludedFromAttachmentCollecting(e){return this._excludePathsFromAttachmentCollectingRegExp.test(e)}isPathIgnored(e){return!this._includePathsRegExp.test(e)||this._excludePathsRegExp.test(e)}};function Du(t,e){if(t.length===0)return e;let n=t.map(i=>i.startsWith("/")&&i.endsWith("/")?i.slice(1,-1):`^${ko(i)}`).map(i=>`(${i})`).join("|");return new RegExp(n)}r(Du,"makeRegExp");var Mu=class extends Vr.Modal{constructor(n,i,o,a){super(n);this.attachmentPath=i;this.backlinks=o;this.resolve=a}static{r(this,"CollectAttachmentUsedByMultipleNotesModal")}isSelected=!1;onClose(){this.isSelected||this.select("Cancel",!1)}onOpen(){super.onOpen(),new Vr.Setting(this.contentEl).setName("Collecting attachment used by multiple notes").setHeading(),this.contentEl.appendChild(createFragment(i=>{i.appendText("Attachment "),ee(i,this.attachmentPath),i.appendText(" is referenced by multiple notes."),i.createEl("ul",{},o=>{for(let a of this.backlinks)o.createEl("li",{},l=>[l.appendChild(createFragment(c=>{ee(c,a)}))])})}));let n=!1;new Vr.Setting(this.contentEl).setName("Should use the same action for other problematic attachments").addToggle(i=>{i.setValue(!1),i.onChange(o=>{n=o})}),new Vr.Setting(this.contentEl).addButton(i=>{i.setButtonText("Skip"),i.onClick(()=>{this.select("Skip",n)})}).addButton(i=>{i.setButtonText("Move"),i.onClick(()=>{this.select("Move",n)})}).addButton(i=>{i.setButtonText("Copy"),i.onClick(()=>{this.select("Copy",n)})}).addButton(i=>{i.setButtonText("Cancel"),i.onClick(()=>{this.select("Cancel",n)})})}select(n,i){this.isSelected=!0,this.resolve({mode:n,shouldUseSameActionForOtherProblematicAttachments:i}),this.close()}};function kp(t,e,n){return new Promise(i=>{new Mu(t,e,n,i).open()})}r(kp,"selectMode");async function Ap(t,e,n,i){i.throwIfAborted();let o=t.app;if(n.isAborted)return;let a=new In.Notice(`Collecting attachments for ${e.path}`),l=new Map,c=cn(o,e);await es(o,e,async(f,p)=>{f.throwIfAborted();let h=await Dr(o,e);f.throwIfAborted();let g=await o.vault.cachedRead(e);if(f.throwIfAborted(),n.isAborted)return[];if(p!==g)return null;if(!h)return[];let y=c?await VE(o,e):Sn(h);f.throwIfAborted();let w=[];for(let E of y){if(n.isAborted)return w;let x=await YE(t,E,e.path,e.path);if(f.throwIfAborted(),!x)continue;if(t.settings.isExcludedFromAttachmentCollecting(x.oldAttachmentPath)){console.warn(`Skipping collecting attachment ${x.oldAttachmentPath} as it is excluded from attachment collecting.`);continue}let F=await pn(o,x.oldAttachmentPath);if(f.throwIfAborted(),F.keys().length>1){let I=F.keys().sort((z,S)=>z.localeCompare(S)),_=I.map(z=>`- ${z}`).join(`
`);async function W(z){if(f.throwIfAborted(),!x)return!1;switch(z){case"Cancel":return console.error(`Cancelling collecting attachments, as attachment ${x.oldAttachmentPath} is referenced by multiple notes.
${_}`),new In.Notice("Collecting attachments cancelled. See console for details."),n.isAborted=!0,!1;case"Copy":x.newAttachmentPath=await Fh(o,x.oldAttachmentPath,x.newAttachmentPath);break;case"Move":await C(),f.throwIfAborted();break;case"Prompt":{let{mode:S,shouldUseSameActionForOtherProblematicAttachments:te}=await kp(o,x.oldAttachmentPath,I);return te&&(n.collectAttachmentUsedByMultipleNotesMode=S),W(S)}case"Skip":return console.warn(`Skipping collecting attachment ${x.oldAttachmentPath} as it is referenced by multiple notes.
${_}`),!1;default:throw new Error(`Unknown collect attachment used by multiple notes mode: ${t.settings.collectAttachmentUsedByMultipleNotesMode}`)}return!0}if(r(W,"applyCollectAttachmentUsedByMultipleNotesMode"),!await W(n.collectAttachmentUsedByMultipleNotesMode??t.settings.collectAttachmentUsedByMultipleNotesMode)){f.throwIfAborted();continue}}else f.throwIfAborted(),await C(),f.throwIfAborted();async function C(){f.throwIfAborted(),x&&(x.newAttachmentPath=await Xo(o,x.oldAttachmentPath,x.newAttachmentPath),f.throwIfAborted(),await as(o,we(x.oldAttachmentPath)))}if(r(C,"moveAttachment"),l.set(x.oldAttachmentPath,x.newAttachmentPath),!c){let I=xi({app:o,link:E,newSourcePathOrFile:e,newTargetPathOrFile:x.newAttachmentPath,oldTargetPathOrFile:x.oldAttachmentPath});w.push(Rr(E,I))}}return w},Ao({timeoutInMilliseconds:bs(t)})),c&&await Ko(o,e,(f,p)=>{f.throwIfAborted();let h=JSON.parse(p);for(let g of h.nodes){if(g.type!=="file")continue;let y=l.get(g.file);y&&(g.file=y)}return br(h)}),a.hide()}r(Ap,"collectAttachments");function vp(t,e){let n=t.app.workspace.getActiveFile();return Qn(t,n)?(e||Fn(t.app,i=>ys(t,n?.parent??on(new Error("Parent folder not found")),i),t.abortSignal,bs(t)),!0):!1}r(vp,"collectAttachmentsCurrentFolder");function Ep(t,e){let n=t.app.workspace.getActiveFile();if(!n||!Qn(t,n))return!1;if(!e){if(t.settings.isPathIgnored(n.path))return new In.Notice("Note path is ignored"),console.warn(`Cannot collect attachments in the note as note path is ignored: ${n.path}.`),!0;Fn(t.app,i=>Ap(t,n,{},i),t.abortSignal,bs(t))}return!0}r(Ep,"collectAttachmentsCurrentNote");function Cp(t){Fn(t.app,e=>ys(t,t.app.vault.getRoot(),e),t.abortSignal,bs(t))}r(Cp,"collectAttachmentsEntireVault");async function ys(t,e,n){if(n.throwIfAborted(),!await fs({app:t.app,message:createFragment(c=>{c.appendText("Do you want to collect attachments for all notes in folder: "),ee(c,e.path),c.appendText(" and all its subfolders?"),c.createEl("br"),c.appendText("This operation cannot be undone.")}),title:createFragment(c=>{(0,In.setIcon)(c.createSpan(),"lucide-alert-triangle"),c.appendText(" Collect attachments in folder")})})){n.throwIfAborted();return}t.consoleDebug(`Collect attachments in folder: ${e.path}`);let i=[];In.Vault.recurseChildren(e,c=>{Qn(t,c)&&i.push(c)}),i.sort((c,f)=>c.path.localeCompare(f.path));let o={},a=new AbortController,l=Bn(a.signal,t.abortSignal);await ap({abortSignal:l,buildNoticeMessage:r((c,f)=>`Collecting attachments ${f} - ${c.path}`,"buildNoticeMessage"),items:i,processItem:r(async c=>{if(l.throwIfAborted(),t.settings.isPathIgnored(c.path)){console.warn(`Cannot collect attachments in the note as note path is ignored: ${c.path}.`);return}await Ap(t,c,o,l),l.throwIfAborted(),o.isAborted&&a.abort()},"processItem"),progressBarTitle:"Custom Attachment Location: Collecting attachments...",shouldContinueOnError:!0,shouldShowProgressBar:!0})}r(ys,"collectAttachmentsInFolder");function Qn(t,e){if(!e||!ci(t.app,e))return!1;let n=Ee(t.app,e);return t.settings.treatAsAttachmentExtensions.every(i=>!n.endsWith(i))}r(Qn,"isNoteEx");async function VE(t,e){return(await t.vault.readJson(e.path)).nodes.filter(o=>o.type==="file").map(o=>o.file).map(o=>({link:o,original:o,position:{end:{col:0,line:0,loc:0,offset:0},start:{col:0,line:0,loc:0,offset:0}}}))}r(VE,"getCanvasLinks");function bs(t){return t.settings.collectAttachmentUsedByMultipleNotesMode==="Prompt"||Ru(t.settings.attachmentFolderPath)||Ru(t.settings.generatedAttachmentFileName)?ja:void 0}r(bs,"getTimeoutInMilliseconds");async function YE(t,e,n,i){let o=t.app,a=Mr(o,e,i);if(!a)return console.warn(`Skipping collecting attachment ${e.link} as it could not be resolved.`),null;if(Qn(t,a))return console.warn(`Skipping collecting attachment ${a.path} as it is a note.`),null;let l=a.path,c=a.name,f,p=await t.app.vault.readBinary(a);t.settings.shouldRenameCollectedAttachments?f=Yt(await Br(t,new Ue({app:t.app,attachmentFileContent:p,attachmentFileStat:a.stat,noteFilePath:n,originalAttachmentFileName:a.name})),a.extension):f=c;let h=await _i(t,n,f,p,a.stat),g=ve(h,f);return l===g?(console.warn(`Skipping collecting attachment ${a.path} as it is already in the destination folder.`),null):{newAttachmentPath:g,oldAttachmentPath:l}}r(YE,"prepareAttachmentToMove");var yg=require("obsidian");var xp=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Lu=class extends Nr{static{r(this,"AlertModal")}options;constructor(e,n){super(e,n,$.AlertModal);let i={app:e.app,cssClass:"",message:e.message,okButtonText:"OK",title:""};this.options={...i,...e}}onClose(){super.onClose(),this.resolve()}onOpen(){super.onOpen(),this.titleEl.setText(this.options.title),this.contentEl.createEl("p",{text:this.options.message});let e=new xp.ButtonComponent(this.contentEl);e.setButtonText(this.options.okButtonText),e.setCta(),e.onClick(this.close.bind(this)),e.setClass($.OkButton)}};async function ks(t){await cs(e=>new Lu(t,e))}r(ks,"alert");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var _n=class{static{r(this,"Transformer")}getTransformer(e){if(e===this.id)return this;throw new Error(`Transformer with id ${e} not found`)}transformObjectRecursively(e){return this.transformValueRecursively(e,"")}getTransformerId(e,n){return this.canTransform(e,n)?this.id:null}transformValueRecursively(e,n){let i=this.getTransformerId(e,n);if(i){let l=this.transformValue(e,n);return l===void 0?void 0:{__transformerId:i,transformedValue:l}}if(e===null)return null;if(typeof e!="object")return e;if(Array.isArray(e))return e.map((l,c)=>this.transformValueRecursively(l,String(c)));let o=e;if(o.__transformerId)return this.getTransformer(o.__transformerId).restoreValue(o.transformedValue,n);let a={};for(let l of yr(e)){let c=e[l],f=this.transformValueRecursively(c,l);a[l]=f}return a}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Et=class extends _n{static{r(this,"TypedTransformer")}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var As=class extends Et{static{r(this,"DateTransformer")}get id(){return"date"}canTransform(e){return e instanceof Date}restoreValue(e){return new Date(e)}transformValue(e){return e.toISOString()}};var Tp=De(rn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var vs=class extends Et{static{r(this,"DurationTransformer")}get id(){return"duration"}canTransform(e){let n=e??{};return!!n.asHours&&!!n.asMinutes&&!!n.asSeconds&&!!n.asMilliseconds}restoreValue(e){return(0,Tp.duration)(e)}transformValue(e){return e.toISOString()}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Es=class extends _n{static{r(this,"GroupTransformer")}constructor(e){super(),this.transformers=e}get id(){return"group"}canTransform(e,n){return this.getFirstTransformerThatCanTransform(e,n)!==null}getTransformer(e){return this.transformers.find(n=>n.id===e)??on(`No transformer with id ${e} found`)}transformValue(e,n){let i=this.getFirstTransformerThatCanTransform(e,n);if(i===null)throw new Error("No transformer can transform the value");return i.transformValue(e,n)}getTransformerId(e,n){let i=this.getFirstTransformerThatCanTransform(e,n);return i===null?null:i.id}restoreValue(){throw new Error("GroupTransformer does not support restoring values")}getFirstTransformerThatCanTransform(e,n){return this.transformers.find(i=>i.canTransform(e,n))??null}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Cs=class extends Et{static{r(this,"MapTransformer")}get id(){return"map"}canTransform(e){return e instanceof Map}restoreValue(e){return new Map(e)}transformValue(e){return Array.from(e.entries())}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var xs=class extends Et{static{r(this,"SetTransformer")}get id(){return"set"}canTransform(e){return e instanceof Set}restoreValue(e){return new Set(e)}transformValue(e){return Array.from(e)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var WE="_",Ts=class extends _n{static{r(this,"SkipPrivatePropertyTransformer")}get id(){return"skip-private-property"}canTransform(e,n){return n.startsWith(WE)}transformValue(){}restoreValue(){throw new Error("SkipPrivatePropertyTransformer does not support restoring values")}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Oi=class{static{r(this,"TwoWayMap")}keyValueMap=new Map;valueKeyMap=new Map;constructor(e=[]){for(let[n,i]of e)this.set(n,i)}clear(){this.keyValueMap.clear(),this.valueKeyMap.clear()}deleteKey(e){let n=this.getValue(e);n!==void 0&&this.valueKeyMap.delete(n),this.keyValueMap.delete(e)}deleteValue(e){let n=this.getKey(e);n!==void 0&&this.keyValueMap.delete(n),this.valueKeyMap.delete(e)}entries(){return this.keyValueMap.entries()}getKey(e){return this.valueKeyMap.get(e)}getValue(e){return this.keyValueMap.get(e)}hasKey(e){return this.keyValueMap.has(e)}hasValue(e){return this.valueKeyMap.has(e)}keys(){return this.keyValueMap.keys()}set(e,n){this.deleteKey(e),this.deleteValue(n),this.keyValueMap.set(e,n),this.valueKeyMap.set(n,e)}values(){return this.valueKeyMap.keys()}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Ss=class extends Et{static{r(this,"TwoWayMapTransformer")}get id(){return"two-way-map"}canTransform(e){return e instanceof Oi}restoreValue(e){return new Oi(e)}transformValue(e){return Array.from(e.entries())}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var UE=new Es([new Ts,new As,new vs,new Cs,new xs,new Ss]),Fs=class extends Bt{static{r(this,"PluginSettingsManagerBase")}constructor(e){super(),this.plugin=e,this.app=e.app,this.defaultSettings=this.createDefaultSettings(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper(),this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.propertyNames=yr(this.currentSettingsWrapper.settings),this.registerValidators(),this.registerLegacySettingsConverters()}app;defaultSettings;get settingsWrapper(){return this.currentSettingsWrapper}currentSettingsWrapper;lastSavedSettingsWrapper;legacySettingsConverters=[];propertyNames;validators=new Map;async editAndSave(e,n){await this.edit(e),await this.saveToFile(n)}async ensureSafe(e){let n=await this.validate(e);for(let i of this.propertyNames)n[i]&&(e[i]=this.defaultSettings[i])}async getSafeCopy(e){let n=await this.cloneSettings(e);return await this.ensureSafe(n),n}async loadFromFile(e){let n=await this.plugin.loadData();this.lastSavedSettingsWrapper=this.createDefaultSettingsWrapper(),this.currentSettingsWrapper=this.createDefaultSettingsWrapper();try{if(n==null)return;if(typeof n!="object"){console.error(`Invalid settings from data.json. Expected Object, got: ${typeof n}`);return}let i=n,o=await this.rawRecordToSettings(i),a=await this.validate(o);for(let c of this.propertyNames)this.setPropertyImpl(c,o[c],a[c]);this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper);let l=await this.settingsToRawRecord(this.currentSettingsWrapper.settings);yt(l,n)||await this.saveToFileImpl()}finally{await this.triggerAsync("loadSettings",this.currentSettingsWrapper,e)}}on(e,n,i){return super.on(e,n,i)}async revalidate(){return await this.edit(Ot),this.currentSettingsWrapper.validationMessages}async saveToFile(e){yt(this.lastSavedSettingsWrapper.settings,this.currentSettingsWrapper.settings)||(await this.saveToFileImpl(),await this.triggerAsync("saveSettings",this.currentSettingsWrapper,this.lastSavedSettingsWrapper,e),this.lastSavedSettingsWrapper=await this.cloneSettingsWrapper(this.currentSettingsWrapper))}async setProperty(e,n){return await this.edit(i=>{i[e]=n}),this.currentSettingsWrapper.validationMessages[e]}async validate(e){let n={};for(let[i,o]of this.validators.entries()){let a=await o(e[i],e);a&&(n[i]=a)}return n}getTransformer(){return UE}async onLoadRecord(e){for(let n of this.legacySettingsConverters)n(e);await Promise.resolve()}async onSavingRecord(e){await Nt()}registerLegacySettingsConverter(e,n){let i=this;this.legacySettingsConverters.push(o);function o(a){let l=new Set(Object.keys(new e)),c=new Set(i.propertyNames),f=a;n(f);for(let p of Object.keys(f))c.has(p)||l.has(p)&&delete a[p]}r(o,"legacySettingsConverter")}registerLegacySettingsConverters(){}registerValidator(e,n){this.validators.set(e,n)}registerValidators(){}async cloneSettings(e){let n=await this.settingsToRawRecord(e),i=JSON.stringify(n),o=JSON.parse(i);return await this.rawRecordToSettings(o)}async cloneSettingsWrapper(e){return{safeSettings:await this.cloneSettings(e.safeSettings),settings:await this.cloneSettings(e.settings),validationMessages:{...e.validationMessages}}}createDefaultSettingsWrapper(){return{safeSettings:this.createDefaultSettings(),settings:this.createDefaultSettings(),validationMessages:{}}}async edit(e){try{await e(this.currentSettingsWrapper.settings)}finally{let n=await this.validate(this.currentSettingsWrapper.settings);for(let i of this.propertyNames){let o=n[i]??"";this.currentSettingsWrapper.validationMessages[i]=o,this.currentSettingsWrapper.safeSettings[i]=o?this.defaultSettings[i]:this.currentSettingsWrapper.settings[i]}}}isValidPropertyName(e){return typeof e!="string"?!1:this.propertyNames.includes(e)}async rawRecordToSettings(e){e=this.getTransformer().transformObjectRecursively(e),await this.onLoadRecord(e);let n=this.createDefaultSettings();for(let[i,o]of Object.entries(e)){if(!this.isValidPropertyName(i)){console.warn(`Unknown property: ${i}`);continue}typeof o!=typeof this.defaultSettings[i]&&console.warn("Possible invalid value type. It might lead to an unexpected behavior of the plugin. There is also a chance it is a false-negative warning, as we are unable to determine the exact type of the value in runtime.",{defaultValue:this.defaultSettings[i],propertyName:i,value:o}),n[i]=o}return n}async saveToFileImpl(){await this.plugin.saveData(await this.settingsToRawRecord(this.currentSettingsWrapper.settings))}setPropertyImpl(e,n,i){this.currentSettingsWrapper.settings[e]=n,this.currentSettingsWrapper.validationMessages[e]=i??"",this.currentSettingsWrapper.safeSettings[e]=i?this.defaultSettings[e]:n}async settingsToRawRecord(e){let n={};for(let i of this.propertyNames)n[i]=e[i];return await this.onSavingRecord(n),this.getTransformer().transformObjectRecursively(n)}};var tc=De(mg(),1);var $2=2e3,nc=class{static{r(this,"LegacySettings")}autoRenameFiles=!1;autoRenameFolder=!0;convertImagesOnDragAndDrop=!1;convertImagesToJpeg=!1;dateTimeFormat="";deleteOrphanAttachments=!1;generatedAttachmentFilename="";keepEmptyAttachmentFolders=!1;pastedFileName="file-${date:YYYYMMDDHHmmssSSS}";pastedImageFileName="";renameAttachmentsOnDragAndDrop=!1;renameCollectedFiles=!1;renameOnlyImages=!1;renamePastedFilesWithKnownNames=!1;replaceWhitespace=!1;shouldDuplicateCollectedAttachments=!1;shouldKeepEmptyAttachmentFolders=!1;shouldRenameAttachments=!0;shouldRenameAttachmentsToLowerCase=!1;toLowerCase=!1;whitespaceReplacement=""},Ys=class extends Fs{static{r(this,"PluginSettingsManager")}shouldDebounceCustomTokensValidation=!1;customTokensValidatorDebounced=(0,yg.debounce)(this.customTokensValidatorImpl.bind(this),$2);lastCustomTokenValidatorResult=void 0;createDefaultSettings(){return new gs}registerLegacySettingsConverters(){this.registerLegacySettingsConverter(nc,e=>{let n=e.dateTimeFormat??"YYYYMMDDHHmmssSSS";e.attachmentFolderPath=gg(e.attachmentFolderPath??"",n),e.generatedAttachmentFileName=gg(e.generatedAttachmentFileName??e.generatedAttachmentFilename??e.pastedFileName??e.pastedImageFileName??"file-${date}",n),e.replaceWhitespace!==void 0&&(e.whitespaceReplacement=e.replaceWhitespace?"-":""),e.autoRenameFiles!==void 0&&(e.shouldRenameAttachmentFiles=e.autoRenameFiles),e.autoRenameFolder!==void 0&&(e.shouldRenameAttachmentFolder=e.autoRenameFolder),e.shouldRenameAttachments!==void 0&&(e.shouldRenameAttachmentFolder=e.shouldRenameAttachments),e.deleteOrphanAttachments!==void 0&&(e.shouldDeleteOrphanAttachments=e.deleteOrphanAttachments),e.keepEmptyAttachmentFolders!==void 0&&(e.shouldKeepEmptyAttachmentFolders=e.keepEmptyAttachmentFolders),e.renameCollectedFiles!==void 0&&(e.shouldRenameCollectedAttachments=e.renameCollectedFiles),(e.toLowerCase||e.shouldRenameAttachmentsToLowerCase)&&ge(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await ks({app:this.app,message:createFragment(i=>{i.appendText('In plugin version 9.0.0, the "Rename attachments to lower case" setting is deprecated. Use '),ee(i,"lower"),i.appendText(" format instead. See "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"documentation."}),i.appendText(" for more information.")})})}),e.customTokensStr&&e.warningVersion&&(0,tc.compare)(e.warningVersion,"9.0.0")<0&&(e.customTokensStr=`// Custom tokens were commented out as they have to be updated to the new format introduced in plugin version 9.0.0.
// Refer to the documentation (https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens) for more information.

${V2(e.customTokensStr)}
`,ge(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await ks({app:this.app,message:createFragment(i=>{i.appendText("In plugin version 9.0.0, the format of custom token registration changed. Please update your tokens accordingly. Refer to the "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens",text:"documentation"}),i.appendText(" for more information.")})})})),e.convertImagesToJpeg!==void 0&&(e.shouldConvertPastedImagesToJpeg=e.convertImagesToJpeg),e.whitespaceReplacement&&(e.specialCharacters=`${e.specialCharacters??""} `,e.specialCharactersReplacement=e.whitespaceReplacement),e.shouldKeepEmptyAttachmentFolders!==void 0&&(e.emptyAttachmentFolderBehavior=e.shouldKeepEmptyAttachmentFolders?at.Keep:at.DeleteWithEmptyParents),e.attachmentFolderPath=this.replaceLegacyTokens(e.attachmentFolderPath),e.generatedAttachmentFileName=this.replaceLegacyTokens(e.generatedAttachmentFileName),e.markdownUrlFormat=this.replaceLegacyTokens(e.markdownUrlFormat),e.customTokensStr=this.replaceLegacyTokens(e.customTokensStr??""),e.collectAttachmentUsedByMultipleNotesMode===void 0&&e.shouldDuplicateCollectedAttachments!==void 0&&(e.collectAttachmentUsedByMultipleNotesMode=e.shouldDuplicateCollectedAttachments?"Copy":"Skip"),e.warningVersion&&(0,tc.compare)(e.warningVersion,"9.2.0")<0&&(e.markdownUrlFormat==="${generatedAttachmentFilePath}"||e.markdownUrlFormat==="${noteFilePath}")&&ge(async()=>{await this.plugin.waitForLifecycleEvent("layoutReady"),await ks({app:this.app,message:createFragment(i=>{i.appendText("You have potentially incorrect value set for the "),ee(i,"Markdown URL format"),i.appendText(" setting. Please refer to the "),i.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#markdown-url-format",text:"documentation"}),i.appendText(" for more information. This message will not be shown again.")})})}),e.warningVersion=this.plugin.manifest.version})}registerValidators(){this.registerValidator("attachmentFolderPath",async e=>await Zn({app:this.app,areTokensAllowed:!0,path:e})),this.registerValidator("generatedAttachmentFileName",async e=>await Zn({app:this.app,areTokensAllowed:!0,path:e})),this.registerValidator("specialCharacters",e=>{if(e.includes("/"))return"Special characters must not contain /"}),this.registerValidator("specialCharactersReplacement",e=>{if(ds().exec(e))return"Special character replacement must not contain invalid file name path characters."}),this.registerValidator("duplicateNameSeparator",async e=>await Ii({app:this.app,areSingleDotsAllowed:!1,fileName:`foo${e}1`,isEmptyAllowed:!1,tokenValidationMode:"Error"})),this.registerValidator("includePaths",e=>wg(e)),this.registerValidator("excludePaths",e=>wg(e)),this.registerValidator("customTokensStr",e=>this.customTokensValidator(e))}customTokensValidator(e){return this.shouldDebounceCustomTokensValidation?this.customTokensValidatorDebounced(e):this.customTokensValidatorImpl(e),this.lastCustomTokenValidatorResult??void 0}customTokensValidatorImpl(e){let n=Ou(e);this.lastCustomTokenValidatorResult=n===null?"Invalid custom tokens code":void 0}replaceLegacyTokens(e){if(e===void 0)return"";let n={fileCreationDate:"noteFileCreationDate",fileModificationDate:"noteFileModificationDate",fileName:"noteFileName",filePath:"noteFilePath",folderName:"noteFolderName",folderPath:"noteFolderPath",originalCopiedFileExtension:"originalAttachmentFileExtension",originalCopiedFileName:"originalAttachmentFileName",randomDigit:"random:D",randomDigitOrLetter:"random:DL",randomLetter:"random:L",uuid:"random:uuid"};for(let[i,o]of Object.entries(n))e=Ae(e,new RegExp(`\\\${${i}(?<Suffix>[:}])`,"i"),`\${${o}$<Suffix>`),e=Ae(e,`substitutions.${i}`,`substitutions.${o}`);return e}};function gg(t,e){return t.replaceAll("${date}",`\${date:${e}}`)}r(gg,"addDateTimeFormat");function V2(t){return t.replaceAll(/^/gm,"// ")}r(V2,"commentOut");function wg(t){for(let e of t)if(e.startsWith("/")&&e.endsWith("/")){let n=e.slice(1,-1);if(!Pf(n))return`Invalid regular expression ${e}`}}r(wg,"pathsValidator");var Aa=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function Ws(t,e){let n=Object.keys(t).find(i=>t[i]===e);if(n===void 0)throw new Error(`Invalid enum value: ${e}`);return n}r(Ws,"getEnumKey");function Us(t,e){let n=t[e];if(n===void 0)throw new Error(`Invalid enum key: ${e}`);return n}r(Us,"getEnumValue");var tr=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();function zs(t){let e=t.parentElement;if(!e)throw new Error("Element must be attached to the DOM");if(e.classList.contains($.SettingComponentWrapper))return e;let n=Array.from(e.children),i=createDiv();ce(i,$.SettingComponentWrapper);for(let o of n)i.appendChild(o);return e.appendChild(i),i}r(zs,"ensureWrapped");var bg=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var rc=class{static{r(this,"AbstractTextComponentWrapper")}constructor(e){this.abstractTextComponent=e}empty(){this.abstractTextComponent.setValue("")}isEmpty(){return this.abstractTextComponent.getValue()===""}setPlaceholderValue(e){return this.abstractTextComponent.setPlaceholder(e),this}};function kg(t){return Y2(t)?t:t instanceof bg.AbstractTextComponent?new rc(t):null}r(kg,"getTextBasedComponentValue");function Y2(t){let e=t;return typeof e.setPlaceholderValue=="function"&&typeof e.isEmpty=="function"}r(Y2,"isTextBasedComponent");var He=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Hs=class{static{r(this,"OverlayValidatorComponent")}constructor(e){this.el=e;let n=zs(e);this._validatorEl=n.createEl("input",{attr:{tabindex:-1}}),ce(this._validatorEl,$.OverlayValidator),this._validatorEl.addEventListener("focus",()=>{this.el.focus()}),this._validatorEl.isActiveElement=this.isElementOrDescendantActive.bind(this);let i=this.el.querySelector("[tabindex]");i||(this.el.getAttr("tabindex")===null&&(this.el.tabIndex=-1),i=this.el),this.el.addEventListener("focusin",()=>{this.forceBlurValidatorEl()}),this.el.addEventListener("click",()=>{i.focus()}),this.el.addEventListener("focusout",()=>{window.setTimeout(()=>{this.isElementOrDescendantActive()||this.forceBlurValidatorEl()},0)})}get validatorEl(){return this._validatorEl}_validatorEl;forceBlurValidatorEl(){this._validatorEl.dispatchEvent(new Event("blur"))}isElementOrDescendantActive(){return this.el.contains(document.activeElement)}},On=class{static{r(this,"ValidatorElementWrapper")}constructor(e){this.validatorEl=e}};function Ag(t){return W2(t)?t:t instanceof He.ColorComponent?new On(t.colorPickerEl):t instanceof He.DropdownComponent?new On(t.selectEl):t instanceof He.ProgressBarComponent?new Hs(t.progressBar):t instanceof He.SearchComponent?new On(t.inputEl):t instanceof He.SliderComponent?new On(t.sliderEl):t instanceof He.TextAreaComponent?new On(t.inputEl):t instanceof He.TextComponent?new On(t.inputEl):t instanceof He.ToggleComponent?new Hs(t.toggleEl):null}r(Ag,"getValidatorComponent");function W2(t){return!!t.validatorEl}r(W2,"isValidatorComponent");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ic="PluginSettingsTab",Gs=class extends tr.PluginSettingTab{static{r(this,"PluginSettingsTabBase")}constructor(e){super(e.app,e),this.plugin=e,ce(this.containerEl,$.PluginSettingsTab),this.saveSettingsDebounced=(0,tr.debounce)(Je(()=>this.plugin.settingsManager.saveToFile(ic)),this.saveSettingsDebounceTimeoutInMilliseconds),this.asyncEventsComponent=new ns,this.asyncEvents=new Bt}get isOpen(){return this._isOpen}get saveSettingsDebounceTimeoutInMilliseconds(){return 2e3}_isOpen=!1;asyncEvents;asyncEventsComponent;saveSettingsDebounced;get pluginSettings(){return this.plugin.settingsManager.settingsWrapper.settings}bind(e,n,i){let a={...{componentToPluginSettingsValueConverter:r(I=>I,"componentToPluginSettingsValueConverter"),onChanged:Ot,pluginSettingsToComponentValueConverter:r(I=>I,"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!0,shouldShowPlaceholderForDefaultValues:!0,shouldShowValidationMessage:!0},...i},l=Ag(e)?.validatorEl,c=kg(e),f=this.pluginSettings[n],p=this.plugin.settingsManager.defaultSettings[n];c?.setPlaceholderValue(a.pluginSettingsToComponentValueConverter(p));let h,g=null,y=null;if(l){let I=zs(l);g=I.createDiv(),ce(g,$.Tooltip,$.TooltipValidator),y=g.createSpan();let _=g.createDiv();ce(_,$.TooltipArrow),g.hide(),I.appendChild(g)}this.asyncEventsComponent.registerAsyncEvent(this.on("validationMessageChanged",(I,_)=>{n===I&&(h=_,F())}));let w=!1;c&&a.shouldShowPlaceholderForDefaultValues&&yt(f,p)?c.empty():e.setValue(a.pluginSettingsToComponentValueConverter(f));let E=!1,F=(0,tr.debounce)(()=>{requestAnimationFrame(()=>{C()})},100);return e.onChange(async I=>{if(E){E=!1;return}w=!1;let _=this.pluginSettings[n],W,z=!0;if(c?.isEmpty()&&a.shouldResetSettingWhenComponentIsEmpty)W=p;else{let S=a.componentToPluginSettingsValueConverter(I);cp(S)?(h=S.validationMessage,z=!1):W=S}z&&(h=await this.plugin.settingsManager.setProperty(n,W),c&&a.shouldShowPlaceholderForDefaultValues&&!c.isEmpty()&&yt(W,p)&&(w=!0)),F(),W!==void 0&&await a.onChanged(W,_),this.saveSettingsDebounced()}),l?.addEventListener("focus",()=>{F()}),l?.addEventListener("blur",()=>{F()}),l?.addEventListener("click",()=>{requestAnimationFrame(()=>{F()})}),h=this.plugin.settingsManager.settingsWrapper.validationMessages[n]??"",F(),e;function C(){w&&!l?.isActiveElement()&&(w=!1,c?.isEmpty()||(E=!0,c?.empty())),l&&(h===""&&(l.setCustomValidity(""),l.checkValidity(),h=l.validationMessage),l.setCustomValidity(h),a.shouldShowValidationMessage?(y&&(y.textContent=h),g?.toggle(!!h)):h&&(0,tr.setTooltip)(l,h))}r(C,"updateValidatorEl")}display(){this.containerEl.empty(),this._isOpen=!0,this.asyncEventsComponent.load(),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("loadSettings",this.onLoadSettings.bind(this))),this.asyncEventsComponent.registerAsyncEvent(this.plugin.settingsManager.on("saveSettings",this.onSaveSettings.bind(this)))}hide(){super.hide(),this.saveSettingsDebounced.cancel(),this._isOpen=!1,this.asyncEventsComponent.unload(),this.asyncEventsComponent.load(),ge(()=>this.hideAsync())}async hideAsync(){await this.plugin.settingsManager.saveToFile(ic)}show(){this.app.setting.openTab(this)}async onLoadSettings(e,n){this.display(),await Nt()}async revalidate(){let e=await this.plugin.settingsManager.revalidate();await this.updateValidations(e)}on(e,n,i){return this.asyncEvents.on(e,n,i)}async onSaveSettings(e,n,i){if(i===ic){await this.updateValidations(e.validationMessages);return}this.display()}async updateValidations(e){for(let[n,i]of Object.entries(e))await this.asyncEvents.triggerAsync("validationMessageChanged",n,i)}};var Pg=require("obsidian");var vg=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var qs=class extends vg.ValueComponent{static{r(this,"CheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),ce(e,$.CheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.checked=e,this}};var Ur=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var js=class extends Ur.ValueComponent{static{r(this,"CodeHighlighterComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}codeEl;placeholder="";preEl;tabSize;textAreaComponent;constructor(e){super(),ce(e,$.CodeHighlighterComponent);let n=e.createDiv();ce(n,$.SettingComponentWrapper),this.textAreaComponent=new Ur.TextAreaComponent(n),this.preEl=n.createEl("pre"),this.codeEl=this.preEl.createEl("code"),this.inputEl.addEventListener("input",Je(this.updateHighlightedCode.bind(this))),this.inputEl.addEventListener("scroll",this.handleScroll.bind(this)),this.inputEl.addEventListener("keydown",this.handleKeyDown.bind(this));let i=2;this.tabSize=i}empty(){this.setValue("")}getValue(){return this.textAreaComponent.getValue()}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setLanguage(e){let n="language-";for(let i of[this.preEl,this.codeEl]){for(let o of Array.from(i.classList))o.startsWith(n)&&i.classList.remove(o);i.classList.add(`${n}${e}`)}return this}setPlaceholder(e){return this.placeholder=e,ge(this.updateHighlightedCode.bind(this)),this}setPlaceholderValue(e){return this.setPlaceholder(e),this}setTabSize(e){return this.tabSize=e,this}setValue(e){return this.textAreaComponent.setValue(e),ge(this.updateHighlightedCode.bind(this)),this}handleKeyDown(e){if(e.key!=="Tab")return;e.preventDefault();let n=this.getValue(),i=this.inputEl.selectionStart,o=this.inputEl.selectionEnd,a=n.slice(0,i),l=n.slice(o),c=" ".repeat(this.tabSize),f=a;e.shiftKey?a.endsWith(c)&&(f=a.slice(0,-this.tabSize)):f=a+c;let p=`${f}${l}`;this.setValue(p),this.inputEl.selectionStart=f.length,this.inputEl.selectionEnd=f.length}handleScroll(){this.preEl.scrollTop=this.inputEl.scrollTop,this.preEl.scrollLeft=this.inputEl.scrollLeft}async updateHighlightedCode(){this.codeEl.textContent=this.inputEl.value||this.placeholder,(await(0,Ur.loadPrism)()).highlightElement(this.codeEl),this.preEl.toggleClass($.IsPlaceholder,this.isEmpty()),requestAnimationFrame(()=>{let n=Math.max(0,this.inputEl.scrollHeight-this.preEl.scrollHeight);this.preEl.setCssProps({"--bottom-gap":op(n)}),this.handleScroll()})}};var oc=De(rn(),1);var Ks=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Re=class extends Ks.ValueComponent{static{r(this,"TypedTextComponent")}inputEl;get validatorEl(){return this.inputEl}textComponent;constructor(e,n,i){super(),this.textComponent=new Ks.TextComponent(e),this.inputEl=this.textComponent.inputEl,this.inputEl.type=n,ce(e,i)}getValue(){return this.valueFromString(this.textComponent.getValue())}onChange(e){return this.textComponent.onChange(()=>e(this.getValue())),this}onChanged(){this.textComponent.onChanged()}setDisabled(e){return super.setDisabled(e),this.textComponent.setDisabled(e),this}setValue(e){return this.textComponent.setValue(this.valueToString(e)),this}valueToString(e){return String(e)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ut=class extends Re{static{r(this,"TypedRangeTextComponent")}setMax(e){return this.inputEl.max=this.valueToString(e),this}setMin(e){return this.inputEl.min=this.valueToString(e),this}setStep(e){return this.inputEl.step=String(e),this}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Eg="YYYY-MM-DD",Xs=class extends ut{static{r(this,"DateComponent")}constructor(e){super(e,"date",$.DateComponent)}valueFromString(e){return(0,oc.default)(e,Eg).toDate()}valueToString(e){return(0,oc.default)(e).format(Eg)}};var sc=De(rn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Cg="YYYY-MM-DDTHH:mm",Zs=class extends ut{static{r(this,"DateTimeComponent")}constructor(e){super(e,"datetime-local",$.DateTimeComponent)}valueFromString(e){return(0,sc.default)(e,Cg).toDate()}valueToString(e){return(0,sc.default)(e).format(Cg)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Js=class extends Re{static{r(this,"EmailComponent")}constructor(e){super(e,"email",$.EmailComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Qs=class extends Re{static{r(this,"FileComponent")}constructor(e){super(e,"file",$.FileComponent)}getValue(){return this.inputEl.files?.[0]??null}valueFromString(){return this.getValue()}valueToString(e){return e?.name??""}};var ac=De(rn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var xg="YYYY-MM",ea=class extends ut{static{r(this,"MonthComponent")}constructor(e){super(e,"month",$.MonthComponent)}valueFromString(e){let n=(0,ac.default)(e,xg);if(!n.isValid())throw new Error("Invalid month");return{month:n.month()+1,year:n.year()}}valueToString(e){return(0,ac.default)().year(e.year).month(e.month-1).format(xg)}};var ta=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var zr=class extends ta.ValueComponent{static{r(this,"MultipleDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;constructor(e){super(),this.dropdownComponent=new ta.DropdownComponent(e),this.dropdownComponent.selectEl.multiple=!0,ce(e,$.MultipleDropdownComponent)}addOption(e,n){return this.dropdownComponent.addOption(e,n),this}addOptions(e){return this.dropdownComponent.addOptions(e),this}getValue(){return Array.from(this.dropdownComponent.selectEl.selectedOptions).map(e=>e.value)}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){for(let n of Array.from(this.dropdownComponent.selectEl.options))n.selected=e.includes(n.value);return this}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var na=class extends Re{static{r(this,"MultipleEmailComponent")}constructor(e){super(e,"email",$.MultipleEmailComponent),this.inputEl.multiple=!0}valueFromString(e){return e.split(",").map(n=>n.trim())}valueToString(e){return e.join(", ")}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ra=class extends Re{static{r(this,"MultipleFileComponent")}constructor(e){super(e,"file",$.MultipleFileComponent),this.inputEl.multiple=!0}getValue(){return Array.from(this.inputEl.files??[])}valueFromString(){return this.getValue()}valueToString(e){return e[0]?.name??""}};var oa=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ia=class extends oa.ValueComponent{static{r(this,"MultipleTextComponent")}get inputEl(){return this.textAreaComponent.inputEl}get validatorEl(){return this.inputEl}textAreaComponent;constructor(e){super(),this.textAreaComponent=new oa.TextAreaComponent(e),ce(e,$.MultipleTextComponent)}empty(){this.textAreaComponent.setValue("")}getValue(){return this.textAreaComponent.getValue().split(`
`)}isEmpty(){return this.textAreaComponent.getValue()===""}onChange(e){return this.textAreaComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.textAreaComponent.setDisabled(e),this}setPlaceholder(e){return this.textAreaComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.setPlaceholder(this.valueToString(e)),this}setValue(e){return this.textAreaComponent.setValue(this.valueToString(e)),this}valueToString(e){return e.join(`
`)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var sa=class extends ut{static{r(this,"NumberComponent")}constructor(e){super(e,"number",$.NumberComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}setPlaceholderValue(e){return this.textComponent.setPlaceholder(this.valueToString(e)),this}valueFromString(e){return parseInt(e,10)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var aa=class extends Re{static{r(this,"PasswordComponent")}constructor(e){super(e,"password",$.PasswordComponent)}setPlaceholder(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var la=class extends Re{static{r(this,"TelephoneComponent")}constructor(e){super(e,"tel",$.TelephoneComponent)}empty(){this.textComponent.setValue("")}isEmpty(){return this.textComponent.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var ca=De(rn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ua=class extends ut{static{r(this,"TimeComponent")}constructor(e){super(e,"time",$.TimeComponent)}valueFromString(e){return(0,ca.duration)(e)}valueToString(e){let n;return e.milliseconds()>0?n="HH:mm:ss.SSS":e.seconds()>0?n="HH:mm:ss":n="HH:mm",(0,ca.utc)(e.asMilliseconds()).format(n)}};var Tg=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var fa=class extends Tg.ValueComponent{static{r(this,"TriStateCheckboxComponent")}inputEl;get validatorEl(){return this.inputEl}changeCallback;constructor(e){super(),ce(e,$.TriStateCheckboxComponent),this.inputEl=e.createEl("input",{type:"checkbox"}),this.inputEl.addEventListener("change",this.onChanged.bind(this))}getValue(){return this.inputEl.indeterminate?null:this.inputEl.checked}onChange(e){return this.changeCallback=e,this}onChanged(){this.changeCallback?.(this.getValue())}setDisabled(e){return super.setDisabled(e),this.inputEl.disabled=e,this}setValue(e){return this.inputEl.indeterminate=e===null,this.inputEl.checked=e??!1,this}};var ha=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var da=class extends ha.ValueComponent{static{r(this,"TypedDropdownComponent")}get selectEl(){return this.dropdownComponent.selectEl}get validatorEl(){return this.selectEl}dropdownComponent;values=[];constructor(e){super(),this.dropdownComponent=new ha.DropdownComponent(e),ce(e,$.TypedDropdownComponent)}addOption(e,n){let i=this.values.indexOf(e);return i===-1&&(this.values.push(e),i=this.values.length-1),this.dropdownComponent.addOption(String(i),n),this}addOptions(e){for(let[n,i]of e.entries())this.addOption(n,i);return this}getValue(){return this.values[this.dropdownComponent.selectEl.selectedIndex]??null}onChange(e){return this.dropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.dropdownComponent.setDisabled(e),this}setValue(e){let n=e===null?-1:this.values.indexOf(e);return this.dropdownComponent.selectEl.selectedIndex=n,this}};var Sg=require("obsidian");r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var pa=class extends Sg.ValueComponent{static{r(this,"TypedMultipleDropdownComponent")}get selectEl(){return this.multipleDropdownComponent.selectEl}get validatorEl(){return this.selectEl}multipleDropdownComponent;values=[];constructor(e){super(),this.multipleDropdownComponent=new zr(e),ce(e,$.TypedMultipleDropdownComponent)}addOption(e,n){let i=this.values.indexOf(e);return i===-1&&(this.values.push(e),i=this.values.length-1),this.multipleDropdownComponent.addOption(String(i),n),this}addOptions(e){for(let[n,i]of e.entries())this.addOption(n,i);return this}getValue(){return this.multipleDropdownComponent.getValue().map(n=>parseInt(n,10)).map(n=>this.values[n]).filter(n=>n!==void 0)}onChange(e){return this.multipleDropdownComponent.onChange(()=>e(this.getValue())),this}setDisabled(e){return super.setDisabled(e),this.multipleDropdownComponent.setDisabled(e),this}setValue(e){let n=e.map(i=>this.values.indexOf(i)).filter(i=>i!==-1);return this.multipleDropdownComponent.setValue(n.map(i=>String(i))),this}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ma=class extends Re{static{r(this,"UrlComponent")}constructor(e){super(e,"url",$.UrlComponent)}empty(){this.setValue("")}isEmpty(){return this.getValue()===""}setPlaceholderValue(e){return this.textComponent.setPlaceholder(e),this}valueFromString(e){return e}};var lc=De(rn(),1);r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var Fg="YYYY-[W]WW",ga=class extends ut{static{r(this,"WeekComponent")}constructor(e){super(e,"week",$.WeekComponent)}valueFromString(e){let n=(0,lc.default)(e,Fg);if(!n.isValid())throw new Error("Invalid week");return{weekNumber:n.isoWeek(),year:n.year()}}valueToString(e){return(0,lc.default)().year(e.year).isoWeek(e.weekNumber).format(Fg)}};r((function(){if(globalThis.process)return;let e={browser:!0,cwd(){return"/"},env:{},platform:"android"};globalThis.process=e}),"initEsm")();var ye=class extends Pg.Setting{static{r(this,"SettingEx")}addCheckbox(e){return this.addComponent(qs,e)}addCodeHighlighter(e){return this.addComponent(js,e)}addComponent(e,n){let i=new e(this.controlEl);return this.components.push(i),n(i),this}addDate(e){return this.addComponent(Xs,e)}addDateTime(e){return this.addComponent(Zs,e)}addEmail(e){return this.addComponent(Js,e)}addFile(e){return this.addComponent(Qs,e)}addMonth(e){return this.addComponent(ea,e)}addMultipleDropdown(e){return this.addComponent(zr,e)}addMultipleEmail(e){return this.addComponent(na,e)}addMultipleFile(e){return this.addComponent(ra,e)}addMultipleText(e){return this.addComponent(ia,e)}addNumber(e){return this.addComponent(sa,e)}addPassword(e){return this.addComponent(aa,e)}addTelephone(e){return this.addComponent(la,e)}addTime(e){return this.addComponent(ua,e)}addTriStateCheckbox(e){return this.addComponent(fa,e)}addTypedDropdown(e){return this.addComponent(da,e)}addTypedMultipleDropdown(e){return this.addComponent(pa,e)}addUrl(e){return this.addComponent(ma,e)}addWeek(e){return this.addComponent(ga,e)}};var ya=require("obsidian");var Hr="custom-attachment-location-tokenized-string",wa=class extends ya.Component{static{r(this,"PrismComponent")}onload(){super.onload(),ge(this.initPrism.bind(this))}async initPrism(){let e=await(0,ya.loadPrism)();e.languages[Hr]={expression:{greedy:!0,inside:{prefix:{alias:"regex",pattern:/\${/},token:{alias:"number",pattern:/^[a-zA-Z0-9_,]+/},formatDelimiter:{alias:"regex",pattern:/:/},format:{alias:"string",pattern:/[a-zA-Z0-9_,-]+/},suffix:{alias:"regex",pattern:/}/}},pattern:/\${.+?}/},important:{pattern:/^\./},operator:{alias:"entity",pattern:/\//}},this.register(()=>{delete e.languages[Hr]})}};var ba="\u2423",ka=class extends Gs{static{r(this,"PluginSettingsTab")}display(){super.display(),this.containerEl.empty();let e={componentToPluginSettingsValueConverter(o){return(0,Aa.normalizePath)(o.trimEnd())},pluginSettingsToComponentValueConverter(o){return o.trimEnd()}};new ye(this.containerEl).setName("Location for new attachments").setDesc(createFragment(o=>{o.appendText("Start with "),ee(o,"."),o.appendText(" to use relative path."),o.createEl("br"),o.appendText("See available "),o.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"tokens"}),o.createEl("br"),o.appendText("Dot-folders like "),ee(o,".attachments"),o.appendText(" are not recommended, because Obsidian doesn't track them. You might need to use "),o.createEl("a",{href:"https://github.com/polyipseity/obsidian-show-hidden-files/",text:"Show Hidden Files"}),o.appendText(" Plugin to manage them.")})).addCodeHighlighter(o=>{o.setLanguage(Hr),o.inputEl.addClass("tokenized-string-setting-control"),this.bind(o,"attachmentFolderPath",e)}),new ye(this.containerEl).setName("Generated attachment file name").setDesc(createFragment(o=>{o.appendText("See available "),o.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"tokens"})})).addCodeHighlighter(o=>{o.setLanguage(Hr),o.inputEl.addClass("tokenized-string-setting-control"),this.bind(o,"generatedAttachmentFileName",e)}),new ye(this.containerEl).setName("Markdown URL format").setDesc(createFragment(o=>{o.appendText("Format for the URL that will be inserted into Markdown."),o.createEl("br"),o.appendText("See available "),o.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#tokens",text:"tokens"}),o.createEl("br"),o.appendText("Leave blank to use the default format.")})).addCodeHighlighter(o=>{o.setLanguage(Hr),o.inputEl.addClass("tokenized-string-setting-control"),this.bind(o,"markdownUrlFormat",e)}),new ye(this.containerEl).setName("Attachment rename mode").setDesc(createFragment(o=>{o.appendText("When attaching files:"),o.createEl("br"),ee(o,"None"),o.appendText(" - their names are preserved."),o.createEl("br"),ee(o,"Only pasted images"),o.appendText(" - only pasted images are renamed."),o.createEl("br"),ee(o,"All"),o.appendText(" - all files are renamed.")})).addDropdown(o=>{o.addOptions($r),this.bind(o,"attachmentRenameMode",{componentToPluginSettingsValueConverter:r(a=>Us($r,a),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:r(a=>Ws($r,a),"pluginSettingsToComponentValueConverter")})}),new ye(this.containerEl).setName("Should rename attachment folders").setDesc("Whether to rename attachment folders when a note is renamed or moved.").addToggle(o=>{this.bind(o,"shouldRenameAttachmentFolder")}),new ye(this.containerEl).setName("Should rename attachment files").setDesc("Whether to rename attachment files when a note is renamed or moved.").addToggle(o=>{this.bind(o,"shouldRenameAttachmentFiles")}),new ye(this.containerEl).setName("Special characters").setDesc(createFragment(o=>{o.appendText("Special characters in attachment folder and file name to be replaced or removed."),o.createEl("br"),o.appendText("Leave blank to preserve special characters.")})).addText(o=>{this.bind(o,"specialCharacters",{componentToPluginSettingsValueConverter:r(a=>a.replaceAll(ba,""),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:r(a=>a.replaceAll(" ",ba),"pluginSettingsToComponentValueConverter"),shouldResetSettingWhenComponentIsEmpty:!1}),o.inputEl.addEventListener("input",()=>{o.inputEl.value=uc(o.inputEl.value)})}),new ye(this.containerEl).setName("Special characters replacement").setDesc(createFragment(o=>{o.appendText("Replacement string for special characters in attachment folder and file name."),o.createEl("br"),o.appendText("Leave blank to remove special characters.")})).addText(o=>{this.bind(o,"specialCharactersReplacement",{shouldResetSettingWhenComponentIsEmpty:!1})}),new ye(this.containerEl).setName("Should convert pasted images to JPEG").setDesc("Paste images from clipboard converting them to JPEG.").addToggle(o=>{this.bind(o,"shouldConvertPastedImagesToJpeg")}),new ye(this.containerEl).setName("JPEG Quality").setDesc("The smaller the quality, the greater the compression ratio.").addDropdown(o=>{o.addOptions(U2()),this.bind(o,"jpegQuality",{componentToPluginSettingsValueConverter:r(a=>Number(a),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:r(a=>a.toString(),"pluginSettingsToComponentValueConverter")})}),new ye(this.containerEl).setName("Should rename collected attachments").setDesc(createFragment(o=>{o.appendText("If enabled, attachments processed via "),ee(o,"Collect attachments"),o.appendText(" commands will be renamed according to the "),ee(o,"Pasted File Name"),o.appendText(" setting.")})).addToggle(o=>{this.bind(o,"shouldRenameCollectedAttachments")}),new ye(this.containerEl).setName("Collect attachment used by multiple notes mode").setDesc(createFragment(o=>{o.appendText("When the collected attachment is used by multiple notes:"),o.createEl("br"),ee(o,"Skip"),o.appendText(" - skip the attachment and proceed to the next one."),o.createEl("br"),ee(o,"Move"),o.appendText(" - move the attachment to the new location."),o.createEl("br"),ee(o,"Copy"),o.appendText(" - copy the attachment to the new location."),o.createEl("br"),ee(o,"Cancel"),o.appendText(" - cancel the attachment collecting."),o.createEl("br"),ee(o,"Prompt"),o.appendText(" - prompt the user to select the action.")})).addDropdown(o=>{o.addOptions({Skip:"Skip",Move:"Move",Copy:"Copy",Cancel:"Cancel",Prompt:"Prompt"}),this.bind(o,"collectAttachmentUsedByMultipleNotesMode",{componentToPluginSettingsValueConverter:r(a=>Us(Jn,a),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:r(a=>Ws(Jn,a),"pluginSettingsToComponentValueConverter")})}),new ye(this.containerEl).setName("Duplicate name separator").setDesc(createFragment(o=>{o.appendText("When you are pasting/dragging a file with the same name as an existing file, this separator will be added to the file name."),o.createEl("br"),o.appendText("E.g., when you are dragging file "),ee(o,"existingFile.pdf"),o.appendText(", it will be renamed to "),ee(o,"existingFile 1.pdf"),o.appendText(", "),ee(o,"existingFile 2.pdf"),o.appendText(", etc, getting the first name available.")})).addText(o=>{this.bind(o,"duplicateNameSeparator",{componentToPluginSettingsValueConverter:r(a=>a.replaceAll(ba," "),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:uc}),o.inputEl.addEventListener("input",()=>{o.inputEl.value=uc(o.inputEl.value)})}),new ye(this.containerEl).setName("Empty attachment folder behavior").setDesc(createFragment(o=>{o.appendText("When the attachment folder becomes empty:"),o.createEl("br"),ee(o,"Keep"),o.appendText(" - will keep the empty attachment folder."),o.createEl("br"),ee(o,"Delete"),o.appendText(" - will delete the empty attachment folder."),o.createEl("br"),ee(o,"Delete with empty parents"),o.appendText(" - will delete the empty attachment folder and its empty parent folders.")})).addDropdown(o=>{o.addOptions({[at.Keep]:"Keep",[at.Delete]:"Delete",[at.DeleteWithEmptyParents]:"Delete with empty parents"}),this.bind(o,"emptyAttachmentFolderBehavior",{componentToPluginSettingsValueConverter:r(a=>Us(at,a),"componentToPluginSettingsValueConverter"),pluginSettingsToComponentValueConverter:r(a=>Ws(at,a),"pluginSettingsToComponentValueConverter")})}),new ye(this.containerEl).setName("Should delete orphan attachments").setDesc("If enabled, when the note is deleted, its orphan attachments are deleted as well.").addToggle(o=>{this.bind(o,"shouldDeleteOrphanAttachments")}),new ye(this.containerEl).setName("Include paths").setDesc(createFragment(o=>{o.appendText("Include notes from the following paths."),o.createEl("br"),o.appendText("Insert each path on a new line."),o.createEl("br"),o.appendText("You can use path string or "),ee(o,"/regular expression/."),o.createEl("br"),o.appendText("If the setting is empty, all notes are included.")})).addMultipleText(o=>{this.bind(o,"includePaths")}),new ye(this.containerEl).setName("Exclude paths").setDesc(createFragment(o=>{o.appendText("Exclude notes from the following paths."),o.createEl("br"),o.appendText("Insert each path on a new line."),o.createEl("br"),o.appendText("You can use path string or "),ee(o,"/regular expression/."),o.createEl("br"),o.appendText("If the setting is empty, no notes are excluded.")})).addMultipleText(o=>{this.bind(o,"excludePaths")}),new ye(this.containerEl).setName("Exclude paths from attachment collecting").setDesc(createFragment(o=>{o.appendText("Exclude attachments from the following paths when "),ee(o,"Collect attachments"),o.appendText(" command is executed."),o.createEl("br"),o.appendText("Insert each path on a new line."),o.createEl("br"),o.appendText("You can use path string or "),ee(o,"/regular expression/."),o.createEl("br"),o.appendText("If the setting is empty, no paths are excluded from attachment collecting.")})).addMultipleText(o=>{this.bind(o,"excludePathsFromAttachmentCollecting")});let i=(0,Aa.debounce)(o=>{ge(async()=>{Ue.registerCustomTokens(o),await this.revalidate()})},2e3);new ye(this.containerEl).setName("Custom tokens").setDesc(createFragment(o=>{o.appendText("Custom tokens to be used in the attachment folder path and pasted file name."),o.createEl("br"),o.appendText("See "),o.createEl("a",{href:"https://github.com/RainCat1998/obsidian-custom-attachment-location?tab=readme-ov-file#custom-tokens",text:"documentation"}),o.appendText(" for more information."),o.createEl("br"),o.appendText("\u26A0\uFE0F Custom tokens can be an arbitrary JavaScript code. If poorly written, it can cause the data loss. Use it at your own risk.")})).addCodeHighlighter(o=>{o.setLanguage("javascript"),o.inputEl.addClass("custom-tokens-setting-control"),this.bind(o,"customTokensStr",{onChanged:r(a=>{i(a)},"onChanged")}),o.setPlaceholder(ws)}),this.plugin.settingsManager.shouldDebounceCustomTokensValidation=!0,new ye(this.containerEl).addButton(o=>{o.setButtonText("Reset to sample custom tokens"),o.setWarning(),o.onClick(Je(async()=>{this.plugin.settings.customTokensStr!==ws&&(this.plugin.settings.customTokensStr!==""&&!await fs({app:this.plugin.app,message:"Are you sure you want to reset the custom tokens to the sample custom tokens? Your changes will be lost.",title:"Reset to sample custom tokens"})||(await this.plugin.settingsManager.editAndSave(a=>{a.customTokensStr=ws}),this.display()))}))}),new ye(this.containerEl).setName("Treat as attachment extensions").setDesc(createFragment(o=>{o.appendText("Treat files with these extensions as attachments."),o.createEl("br"),o.appendText("By default, "),ee(o,".md"),o.appendText(", "),ee(o,".canvas"),o.appendText(" and "),ee(o,".base"),o.appendText(" linked files are not treated as attachments and are not moved with the note."),o.createEl("br"),o.appendText("You can add custom extensions, e.g. "),ee(o,".foo.md"),o.appendText(", "),ee(o,".bar.canvas"),o.appendText(", "),ee(o,".baz.base"),o.appendText(", to override this behavior.")})).addMultipleText(o=>{this.bind(o,"treatAsAttachmentExtensions")})}hide(){super.hide(),this.plugin.settingsManager.shouldDebounceCustomTokensValidation=!1}};function U2(){let e={};for(let n=1;n<=10;n++){let i=(n/10).toFixed(1);e[i]=i}return e}r(U2,"generateJpegQualityOptions");function uc(t){return t.replaceAll(" ",ba)}r(uc,"showWhitespaceCharacter");var z2=/Pasted image (?<Timestamp>\d{14})/,H2="YYYYMMDDHHmmss",G2=10,cc="__IMPORT_FILES__",Ea=class extends os{static{r(this,"Plugin")}arrayBufferFileStatMap=new WeakMap;currentAttachmentFolderPath=null;getAvailablePathForAttachmentsOriginal=null;isMarkdownViewPatched=!1;lastOpenFilePath=null;pathMarkdownUrlMap=new Map;createSettingsManager(){return new Ys(this)}createSettingsTab(){return new ka(this)}async onLayoutReady(){await super.onLayoutReady(),Ue.registerCustomTokens(this.settings.customTokensStr),await this.settingsManager.loadFromFile(!1),zt(this,this.app.vault,{getAvailablePath:r(()=>this.getAvailablePath.bind(this),"getAvailablePath"),getAvailablePathForAttachments:r(e=>{this.getAvailablePathForAttachmentsOriginal=e.bind(this.app.vault);let n={isExtended:!0};return Object.assign(this.getAvailablePathForAttachments.bind(this),n)},"getAvailablePathForAttachments"),getConfig:r(e=>n=>this.getConfig(e,n),"getConfig")}),va.webUtils&&zt(this,va.webUtils,{getPathForFile:r(e=>n=>this.getPathForFile(n,e),"getPathForFile")}),zt(this,this.app.fileManager,{generateMarkdownLink:r(e=>(n,i,o,a)=>this.generateMarkdownLink(e,n,i,o,a),"generateMarkdownLink")}),zt(this,al(this.app.shareReceiver),{importFiles:r(e=>n=>this.importFiles(e,n),"importFiles")}),this.registerPopupDocumentDomEvent("change",this.handleInputFileChange.bind(this),{capture:!0}),await this.handleActiveLeafChange(this.app.workspace.getLeavesOfType(li.Markdown)[0]??null),this.isMarkdownViewPatched||this.registerEvent(this.app.workspace.on("active-leaf-change",Je(this.handleActiveLeafChange.bind(this))))}async onloadImpl(){await super.onloadImpl(),tp(this,()=>({emptyAttachmentFolderBehavior:this.settings.emptyAttachmentFolderBehavior,isNote:r(n=>Qn(this,n),"isNote"),isPathIgnored:r(n=>this.settings.isPathIgnored(n),"isPathIgnored"),shouldHandleDeletions:this.settings.shouldDeleteOrphanAttachments,shouldHandleRenames:!0,shouldRenameAttachmentFiles:this.settings.shouldRenameAttachmentFiles,shouldRenameAttachmentFolder:this.settings.shouldRenameAttachmentFolder,shouldUpdateFileNameAliases:!0})),this.addCommand({checkCallback:r(e=>Ep(this,e),"checkCallback"),id:"collect-attachments-current-note",name:"Collect attachments in current note"}),this.addCommand({checkCallback:r(e=>vp(this,e),"checkCallback"),id:"collect-attachments-current-folder",name:"Collect attachments in current folder"}),this.addCommand({callback:r(()=>{Cp(this)},"callback"),id:"collect-attachments-entire-vault",name:"Collect attachments in entire vault"}),this.registerEvent(this.app.workspace.on("file-menu",this.handleFileMenu.bind(this))),zt(this,this.app,{saveAttachment:r(()=>(e,n,i)=>this.saveAttachment(e,n,i),"saveAttachment")}),this.addChild(new wa),this.registerEvent(this.app.workspace.on("file-open",Je(this.handleFileOpen.bind(this)))),this.registerEvent(this.app.vault.on("rename",Je(this.handleRename.bind(this)))),this.registerEvent(this.app.workspace.on("receive-text-menu",this.handleReceiveTextMenu.bind(this))),this.registerEvent(this.app.workspace.on("receive-files-menu",this.handleReceiveFilesMenu.bind(this)))}async fileArrayBuffer(e,n){let i=await e.call(n);if(this.app.vault.adapter instanceof Dt.FileSystemAdapter){let o=va.webUtils.getPathForFile(n);if(await this.setFileStat(i,o))return i}return this.arrayBufferFileStatMap.set(i,{ctime:0,mtime:n.lastModified,size:n.size}),i}generateMarkdownLink(e,n,i,o,a){let l=e.call(this.app.fileManager,n,i,o,a);if(!this.settings.markdownUrlFormat)return l;let c=this.pathMarkdownUrlMap.get(n.path);return c?(vu(l)&&(l=ku({app:this.app,linkStyle:yu.Markdown,originalLink:l,sourcePathOrFile:i,targetPathOrFile:n})),Au(l)?l.replace(/\]\(<.+?>\)/,`](<${c}>)`):l.replace(/\]\(.+?\)/,`](${Ei(c)})`)):l}getAvailablePath(e,n){let i=0;for(;;){let o=Yt(i===0?e:`${e}${this.settings.duplicateNameSeparator}${String(i)}`,n);if(!Wn(this.app,o,!0))return o;i++}}async getAvailablePathForAttachments(e,n,i,o,a,l,c,f){if(e.startsWith(cc)&&(e=wr(e,cc),c=!0),i&&this.settings.isPathIgnored(i.path)&&this.getAvailablePathForAttachmentsOriginal)return this.getAvailablePathForAttachmentsOriginal(e,n,i);let p;if(!i||!Qn(this,i))p=await hl(this.app,e,n,i,!0,l??!1);else{let h=Yt(e,n),g=await _i(this,i.path,h,a,f),y=c?h:await Br(this,new Ue({app:this.app,attachmentFileContent:a,attachmentFileStat:f,noteFilePath:i.path,originalAttachmentFileName:h})),w=ve(g,y);if(l)p=w;else{let E=we(w),x=Te(w,n?`.${n}`:"");p=this.app.vault.getAvailablePath(ve(E,x),n)}}if(!o){let h=kt(p);await this.app.vault.exists(h)||(await jo(this.app,h),this.settings.emptyAttachmentFolderBehavior===at.Keep&&await this.app.vault.create(ve(h,".gitkeep"),""))}return p}getConfig(e,n){return n!=="attachmentFolderPath"||this.currentAttachmentFolderPath===null?e.call(this.app.vault,n):this.currentAttachmentFolderPath}getPathForFile(e,n){let i=e;return i.path?i.path:n(e)}async handleActiveLeafChange(e){if(this.isMarkdownViewPatched||!e||e.view.getViewType()!==li.Markdown)return;await e.loadIfDeferred();let n=e.view,i=this;zt(this,al(n.editMode.clipboardManager),{insertFiles:r(o=>r(function(l){return i.insertFiles(o,this,l)},"insertFilesPatched"),"insertFiles")}),this.isMarkdownViewPatched=!0}handleFileMenu(e,n){n instanceof Dt.TFolder&&e.addItem(i=>{i.setTitle("Collect attachments in folder").setIcon("download").onClick(()=>ys(this,n,this.abortSignal))})}async handleFileOpen(e){if(e===null||this.settings.isPathIgnored(e.path)){this.currentAttachmentFolderPath=null,this.lastOpenFilePath=null;return}e.path!==this.lastOpenFilePath&&(this.lastOpenFilePath=e.path,this.currentAttachmentFolderPath=await _i(this,e.path,vn))}handleInputFileChange(e){if(!(e.target instanceof HTMLInputElement)||e.target.type!=="file")return;let n=this;for(let i of e.target.files??[])zt(this,i,{arrayBuffer:r(o=>r(function(){return n.fileArrayBuffer(o,this)},"arrayBufferPatched"),"arrayBuffer")})}handleReceiveFilesMenu(e,n){this.handleReceiveMenuItemClick(e,i=>n.map(a=>this.app.fileManager.generateMarkdownLink(a,i.path)).join(`
`))}handleReceiveMenuItemClick(e,n){let i=this.app,o=e.items.find(l=>l instanceof Dt.MenuItem&&!!l.iconEl.querySelector(".lucide-file"));o&&(o.callback=a);function a(){let l=i.workspace.getActiveViewOfType(Dt.MarkdownView);if(!l?.file)return;let c=n(l.file);l.editor.replaceSelection(c)}r(a,"callback")}handleReceiveTextMenu(e,n){this.handleReceiveMenuItemClick(e,()=>n)}async handleRename(){await this.handleFileOpen(this.app.workspace.getActiveFile())}async importFiles(e,n){for(let i of n){let o=window.Capacitor.convertFileSrc(i.uri),l=await(await fetch(o)).arrayBuffer(),c=new Ue({app:this.app,attachmentFileContent:l,noteFilePath:this.app.workspace.getActiveFile()?.path??"",originalAttachmentFileName:i.name}),f=await Br(this,c),p=Ye(i.name).slice(1);i.name=cc+Yt(f,p)}return e.call(this.app.shareReceiver,n)}async insertFiles(e,n,i){for(let o of i){let a=await o.data;await this.setFileStat(a,o.filepath)}return e.call(n,i)}async saveAttachment(e,n,i){let o=this.app.workspace.getActiveFile();if(!o||this.settings.isPathIgnored(o.path))return await this.saveAttachmentCore(e,n,i);let a=!1,l=z2.exec(e);if(l){let p=l.groups?.Timestamp;if(p){let h=(0,fc.default)(p,H2);h.isValid()&&(0,fc.default)().diff(h,"seconds")<G2&&(a=!0)}}a&&n==="png"&&this.settings.shouldConvertPastedImagesToJpeg&&(n="jpg",i=await Ff(new Blob([i],{type:"image/png"}),this.settings.jpegQuality));let c=!1;switch(this.settings.attachmentRenameMode){case"All":c=!0;break;case"None":break;case"Only pasted images":c=a;break;default:throw new Error("Invalid attachment rename mode")}c&&(e=await Br(this,new Ue({app:this.app,attachmentFileContent:i,attachmentFileStat:this.arrayBufferFileStatMap.get(i),noteFilePath:o.path,originalAttachmentFileName:Yt(e,n)})));let f=await this.saveAttachmentCore(e,n,i);if(this.settings.markdownUrlFormat){let p=await new Ue({app:this.app,attachmentFileContent:i,attachmentFileStat:this.arrayBufferFileStatMap.get(i),generatedAttachmentFileName:f.name,generatedAttachmentFilePath:f.path,noteFilePath:o.path,originalAttachmentFileName:Yt(e,n)}).fillTemplate(this.settings.markdownUrlFormat);this.pathMarkdownUrlMap.set(f.path,p)}else this.pathMarkdownUrlMap.delete(f.path);return f}async saveAttachmentCore(e,n,i){let o=this.app.workspace.getActiveFile(),a=this.arrayBufferFileStatMap.get(i),l=await this.getAvailablePathForAttachments(e,n,o,!1,i,!1,!0,a);return await this.app.vault.createBinary(l,i,Ao({ctime:a?.ctime?Math.trunc(a.ctime):void 0,mtime:a?.mtime?Math.trunc(a.mtime):void 0}))}async setFileStat(e,n){if(!n)return!1;if(this.app.vault.adapter instanceof Dt.FileSystemAdapter){let i=await this.app.vault.adapter.fsPromises.stat(n);return this.arrayBufferFileStatMap.set(e,{ctime:i.ctimeMs,mtime:i.mtimeMs,size:i.size}),!0}if(this.app.vault.adapter instanceof Dt.CapacitorAdapter){let i=await this.app.vault.adapter.fs.stat(n);return this.arrayBufferFileStatMap.set(e,{ctime:i.ctime??0,mtime:i.mtime??0,size:e.byteLength}),!0}return!1}};var q2=Ea;
/*! Bundled license information:

moment/moment.js:
  (*! moment.js *)
  (*! version : 2.30.1 *)
  (*! authors : Tim Wood, Iskren Chernev, Moment.js contributors *)
  (*! license : MIT *)
  (*! momentjs.com *)
*/

/* nosourcemap */